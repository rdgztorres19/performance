import{b as a,r as D,c as Vf,P as Lg,d as ns,u as Fg,e as ao,f as Va,g as zg,h as Ug,H as xt,i as Gr,S as Qa,l as we,j as st,m as __,B as ze,n as el,K as k_,o as Hg,p as M_,R as j_,I as E_,q as Zt,s as T_,t as Pt,M as _t,v as an,w as S_,T as Rn,x as ut,y as Bg,z as N_,A as ss,C as tl,N as ke,D as Je,E as A_,F as Wg,G as et,J as it,L as rl,O as ln,Q as On,U as St,V as Nt,W as oo,X as Qf,Y as I_,Z as as,$ as os,a0 as bt,a1 as kr,a2 as C_,a3 as ih,a4 as rt,a5 as Ae,a6 as lh,a7 as ch,a8 as ot,a9 as qg,aa as Yg,ab as D_,ac as gt,ad as Gg,ae as R_,af as O_,ag as $_,ah as Xs,ai as Ks,aj as Xr,ak as Xg,al as P_,am as $n,an as Kg,ao as L_,ap as F_,aq as z_,ar as U_,as as Zg,at as H_,au as qi,av as uh,aw as Yi,ax as B_,ay as Vg,az as cn,aA as W_,aB as fh,aC as dh,aD as q_,aE as Zs,aF as un,aG as on,aH as Qg,aI as Y_,aJ as G_,aK as X_,aL as Jg,aM as Jf,aN as K_,aO as Z_,aP as V_,aQ as ts,aR as Q_,aS as Gi,aT as ed,aU as J_,aV as td,aW as e2,aX as t2,a as r2,aY as n2,aZ as e0,a_ as t0,a$ as rd,b0 as Ws,b1 as nd,b2 as s2,b3 as Ba,b4 as a2,b5 as o2,b6 as r0,b7 as n0,b8 as i2,b9 as l2,ba as c2,bb as ph,bc as s0,bd as a0,be as o0,bf as If,bg as u2,bh as f2,bi as d2,bj as p2,bk as nl,bl as h2,bm as sd,bn as i0,bo as l0,bp as hh,bq as dr,br as c0,bs as m2,bt as ad,bu as g2,bv as b2,bw as Ja,bx as u0,by as x2,bz as v2,bA as Cf,bB as w2,bC as Ys,bD as y2,bE as _2,bF as k2,bG as f0,bH as M2,bI as od,bJ as j2,bK as id,bL as Xi,bM as E2,bN as T2,bO as Df,bP as S2,bQ as N2,bR as A2,bS as d0,bT as I2,bU as p0,bV as C2,bW as D2,bX as R2,bY as O2,bZ as $2,b_ as P2,b$ as Nn,c0 as mh,c1 as gh,c2 as L2,c3 as F2}from"./index-XELHM88S.js";function z2(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}const h0=({children:e,...n})=>a.jsx("div",{className:"flex h-full w-full flex-col px-8",...n,children:a.jsx("div",{className:"h-full w-full overflow-hidden rounded-t-[4px] shadow-sm",children:e})}),m0=({children:e,...n})=>a.jsx("div",{className:"flex h-[775px] w-[380px] flex-col rounded-3xl bg-white p-2 shadow-xl dark:bg-grey-900",...n,children:a.jsx("div",{className:"w-100 h-100 grow overflow-auto rounded-2xl border border-grey-100 dark:border-grey-950",children:e})});var sl="Checkbox",[U2]=Vf(sl),[H2,ld]=U2(sl);function B2(e){const{__scopeCheckbox:n,checked:s,children:o,defaultChecked:c,disabled:h,form:y,name:m,onCheckedChange:l,required:f,value:u="on",internal_do_not_use_render:d}=e,[g,w]=Fg({prop:s,defaultProp:c??!1,onChange:l,caller:sl}),[_,k]=D.useState(null),[M,T]=D.useState(null),A=D.useRef(!1),C=_?!!y||!!_.closest("form"):!0,R={checked:g,disabled:h,setChecked:w,control:_,setControl:k,name:m,form:y,value:u,hasConsumerStoppedPropagationRef:A,required:f,defaultChecked:Cn(c)?!1:c,isFormControl:C,bubbleInput:M,setBubbleInput:T};return a.jsx(H2,{scope:n,...R,children:W2(d)?d(R):o})}var g0="CheckboxTrigger",b0=D.forwardRef(({__scopeCheckbox:e,onKeyDown:n,onClick:s,...o},c)=>{const{control:h,value:y,disabled:m,checked:l,required:f,setControl:u,setChecked:d,hasConsumerStoppedPropagationRef:g,isFormControl:w,bubbleInput:_}=ld(g0,e),k=ao(c,u),M=D.useRef(l);return D.useEffect(()=>{const T=h?.form;if(T){const A=()=>d(M.current);return T.addEventListener("reset",A),()=>T.removeEventListener("reset",A)}},[h,d]),a.jsx(ns.button,{type:"button",role:"checkbox","aria-checked":Cn(l)?"mixed":l,"aria-required":f,"data-state":k0(l),"data-disabled":m?"":void 0,disabled:m,value:y,...o,ref:k,onKeyDown:Va(n,T=>{T.key==="Enter"&&T.preventDefault()}),onClick:Va(s,T=>{d(A=>Cn(A)?!0:!A),_&&w&&(g.current=T.isPropagationStopped(),g.current||T.stopPropagation())})})});b0.displayName=g0;var x0=D.forwardRef((e,n)=>{const{__scopeCheckbox:s,name:o,checked:c,defaultChecked:h,required:y,disabled:m,value:l,onCheckedChange:f,form:u,...d}=e;return a.jsx(B2,{__scopeCheckbox:s,checked:c,defaultChecked:h,disabled:m,required:y,onCheckedChange:f,name:o,form:u,value:l,internal_do_not_use_render:({isFormControl:g})=>a.jsxs(a.Fragment,{children:[a.jsx(b0,{...d,ref:n,__scopeCheckbox:s}),g&&a.jsx(_0,{__scopeCheckbox:s})]})})});x0.displayName=sl;var v0="CheckboxIndicator",w0=D.forwardRef((e,n)=>{const{__scopeCheckbox:s,forceMount:o,...c}=e,h=ld(v0,s);return a.jsx(Lg,{present:o||Cn(h.checked)||h.checked===!0,children:a.jsx(ns.span,{"data-state":k0(h.checked),"data-disabled":h.disabled?"":void 0,...c,ref:n,style:{pointerEvents:"none",...e.style}})})});w0.displayName=v0;var y0="CheckboxBubbleInput",_0=D.forwardRef(({__scopeCheckbox:e,...n},s)=>{const{control:o,hasConsumerStoppedPropagationRef:c,checked:h,defaultChecked:y,required:m,disabled:l,name:f,value:u,form:d,bubbleInput:g,setBubbleInput:w}=ld(y0,e),_=ao(s,w),k=zg(h),M=Ug(o);D.useEffect(()=>{const A=g;if(!A)return;const C=window.HTMLInputElement.prototype,$=Object.getOwnPropertyDescriptor(C,"checked").set,B=!c.current;if(k!==h&&$){const O=new Event("click",{bubbles:B});A.indeterminate=Cn(h),$.call(A,Cn(h)?!1:h),A.dispatchEvent(O)}},[g,k,h,c]);const T=D.useRef(Cn(h)?!1:h);return a.jsx(ns.input,{type:"checkbox","aria-hidden":!0,defaultChecked:y??T.current,required:m,disabled:l,name:f,value:u,form:d,...n,tabIndex:-1,ref:_,style:{...n.style,...M,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});_0.displayName=y0;function W2(e){return typeof e=="function"}function Cn(e){return e==="indeterminate"}function k0(e){return Cn(e)?"indeterminate":e?"checked":"unchecked"}const q2=({title:e,label:n,value:s,onChange:o,disabled:c,error:h,hint:y,checked:m,separator:l,testId:f})=>{const u=D.useId(),d=g=>{o(g===!0)};return a.jsxs("div",{children:[a.jsxs("div",{className:`flex flex-col gap-1 ${l&&"pb-2"}`,children:[e&&a.jsx(xt,{grey:!0,level:6,children:e}),a.jsxs("label",{className:`flex cursor-pointer items-start ${e&&"-mb-1 mt-1"}`,htmlFor:u,children:[a.jsx(x0,{className:"mt-0.5 flex size-4 cursor-pointer appearance-none items-center justify-center rounded-[3px] border border-solid border-grey-500 bg-white outline-none data-[state=checked]:border-black data-[state=indeterminate]:border-black data-[state=checked]:bg-black data-[state=indeterminate]:bg-black","data-testid":f,defaultChecked:m,disabled:c,id:u,value:s,onCheckedChange:d,children:a.jsx(w0,{children:a.jsx("svg",{fill:"none",height:"11",viewBox:"0 0 10 11",width:"10",children:a.jsx("path",{d:"M1 5.88889L4.6 9L9 1",stroke:"white",strokeLinecap:"round",strokeWidth:"2"})})})}),a.jsxs("div",{className:`ml-2 flex flex-col ${y&&"mb-2"}`,children:[a.jsx("span",{className:`inline-block text-[1.425rem] dark:text-white ${y&&"-mb-1"}`,children:n}),y&&a.jsx(Gr,{color:h?"red":"",children:y})]})]})]}),(l||h)&&a.jsx(Qa,{className:h?"border-red":""})]})},Rf=({title:e,checkboxes:n,hint:s,error:o})=>a.jsxs("div",{children:[e&&a.jsx(xt,{grey:!0,level:6,children:e}),a.jsx("div",{className:"mt-2 flex flex-col gap-1",children:n?.map(({key:c,...h})=>a.jsx(q2,{...h},c))}),a.jsx("div",{className:`flex flex-col ${s&&"mb-2"}`,children:s&&a.jsx(Gr,{color:o?"red":"",children:s})})]}),Y2=({hex:e,value:n,title:s,size:o="md",isSelected:c,onSelect:h})=>{const y=D.useRef(null),m=u=>{u.preventDefault(),h(n!==void 0?n:e)},l=e.length===4&&e[3]==="0"||e.length===8&&e.slice(6)==="00";let f="h-5 w-5";switch(o){case"lg":f="w-6 h-6";break}return a.jsx("button",{ref:y,className:we("relative flex shrink-0 cursor-pointer items-center rounded-full border border-grey-300 dark:border-grey-800",f,c&&"outline outline-2 outline-green"),style:{backgroundColor:e},title:s,type:"button",onClick:m,children:l&&a.jsx("div",{className:"absolute left-0 top-0 z-10 w-[136%] origin-left rotate-45 border-b border-b-red"})})},M0=({title:e,value:n,swatches:s,swatchSize:o="md",onSwatchChange:c,onTogglePicker:h,isExpanded:y,picker:m=!0,containerClassName:l})=>{const f=s.find(d=>d.value===n||d.hex===n);l=we("flex flex-col gap-3");const u=y||!m;return a.jsxs("div",{className:l,children:[e&&a.jsx(xt,{useLabelTag:!0,children:e}),a.jsxs("div",{className:"flex gap-1",children:[u&&a.jsx("div",{className:"flex items-center gap-1",children:s.map(({customContent:d,...g})=>d?a.jsx(D.Fragment,{children:d},g.title):a.jsx(Y2,{isSelected:f?.title===g.title,size:o,onSelect:c,...g},g.title))}),m&&a.jsxs("button",{"aria-label":"Pick color",className:"relative size-6 cursor-pointer rounded-full border border-grey-250 dark:border-grey-800",type:"button",onClick:h,children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-[conic-gradient(hsl(360,100%,50%),hsl(315,100%,50%),hsl(270,100%,50%),hsl(225,100%,50%),hsl(180,100%,50%),hsl(135,100%,50%),hsl(90,100%,50%),hsl(45,100%,50%),hsl(0,100%,50%))]"}),f&&a.jsx("div",{className:"absolute inset-[3px] overflow-hidden rounded-full border border-white dark:border-grey-950",style:{backgroundColor:f.hex},children:f.hex==="transparent"&&a.jsx("div",{className:"absolute left-[3px] top-[3px] z-10 w-[136%] origin-left rotate-45 border-b border-b-red"})}),!f&&n&&a.jsx("div",{className:"absolute inset-[3px] overflow-hidden rounded-full border border-white dark:border-grey-950",style:{backgroundColor:n},children:n==="transparent"&&a.jsx("div",{className:"absolute left-[3px] top-[3px] z-10 w-[136%] origin-left rotate-45 border-b border-b-red"})})]})]})]})};function Vs(){return(Vs=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e}).apply(this,arguments)}function al(e,n){if(e==null)return{};var s,o,c={},h=Object.keys(e);for(o=0;o<h.length;o++)n.indexOf(s=h[o])>=0||(c[s]=e[s]);return c}function eo(e){var n=D.useRef(e),s=D.useRef(function(o){n.current&&n.current(o)});return n.current=e,s.current}var to=function(e,n,s){return n===void 0&&(n=0),s===void 0&&(s=1),e>s?s:e<n?n:e},Ka=function(e){return"touches"in e},Of=function(e){return e&&e.ownerDocument.defaultView||self},bh=function(e,n,s){var o=e.getBoundingClientRect(),c=Ka(n)?(function(h,y){for(var m=0;m<h.length;m++)if(h[m].identifier===y)return h[m];return h[0]})(n.touches,s):n;return{left:to((c.pageX-(o.left+Of(e).pageXOffset))/o.width),top:to((c.pageY-(o.top+Of(e).pageYOffset))/o.height)}},xh=function(e){!Ka(e)&&e.preventDefault()},j0=st.memo(function(e){var n=e.onMove,s=e.onKey,o=al(e,["onMove","onKey"]),c=D.useRef(null),h=eo(n),y=eo(s),m=D.useRef(null),l=D.useRef(!1),f=D.useMemo(function(){var w=function(M){xh(M),(Ka(M)?M.touches.length>0:M.buttons>0)&&c.current?h(bh(c.current,M,m.current)):k(!1)},_=function(){return k(!1)};function k(M){var T=l.current,A=Of(c.current),C=M?A.addEventListener:A.removeEventListener;C(T?"touchmove":"mousemove",w),C(T?"touchend":"mouseup",_)}return[function(M){var T=M.nativeEvent,A=c.current;if(A&&(xh(T),!(function(R,$){return $&&!Ka(R)})(T,l.current)&&A)){if(Ka(T)){l.current=!0;var C=T.changedTouches||[];C.length&&(m.current=C[0].identifier)}A.focus(),h(bh(A,T,m.current)),k(!0)}},function(M){var T=M.which||M.keyCode;T<37||T>40||(M.preventDefault(),y({left:T===39?.05:T===37?-.05:0,top:T===40?.05:T===38?-.05:0}))},k]},[y,h]),u=f[0],d=f[1],g=f[2];return D.useEffect(function(){return g},[g]),st.createElement("div",Vs({},o,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:c,onKeyDown:d,tabIndex:0,role:"slider"}))}),cd=function(e){return e.filter(Boolean).join(" ")},E0=function(e){var n=e.color,s=e.left,o=e.top,c=o===void 0?.5:o,h=cd(["react-colorful__pointer",e.className]);return st.createElement("div",{className:h,style:{top:100*c+"%",left:100*s+"%"}},st.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:n}}))},Yt=function(e,n,s){return n===void 0&&(n=0),s===void 0&&(s=Math.pow(10,n)),Math.round(s*e)/s},G2=function(e){return Q2($f(e))},$f=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Yt(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?Yt(parseInt(e.substring(6,8),16)/255,2):1}},X2=function(e){return V2(Z2(e))},K2=function(e){var n=e.s,s=e.v,o=e.a,c=(200-n)*s/100;return{h:Yt(e.h),s:Yt(c>0&&c<200?n*s/100/(c<=100?c:200-c)*100:0),l:Yt(c/2),a:Yt(o,2)}},Pf=function(e){var n=K2(e);return"hsl("+n.h+", "+n.s+"%, "+n.l+"%)"},Z2=function(e){var n=e.h,s=e.s,o=e.v,c=e.a;n=n/360*6,s/=100,o/=100;var h=Math.floor(n),y=o*(1-s),m=o*(1-(n-h)*s),l=o*(1-(1-n+h)*s),f=h%6;return{r:Yt(255*[o,m,y,y,l,o][f]),g:Yt(255*[l,o,o,m,y,y][f]),b:Yt(255*[y,y,l,o,o,m][f]),a:Yt(c,2)}},$i=function(e){var n=e.toString(16);return n.length<2?"0"+n:n},V2=function(e){var n=e.r,s=e.g,o=e.b,c=e.a,h=c<1?$i(Yt(255*c)):"";return"#"+$i(n)+$i(s)+$i(o)+h},Q2=function(e){var n=e.r,s=e.g,o=e.b,c=e.a,h=Math.max(n,s,o),y=h-Math.min(n,s,o),m=y?h===n?(s-o)/y:h===s?2+(o-n)/y:4+(n-s)/y:0;return{h:Yt(60*(m<0?m+6:m)),s:Yt(h?y/h*100:0),v:Yt(h/255*100),a:c}},J2=st.memo(function(e){var n=e.hue,s=e.onChange,o=cd(["react-colorful__hue",e.className]);return st.createElement("div",{className:o},st.createElement(j0,{onMove:function(c){s({h:360*c.left})},onKey:function(c){s({h:to(n+360*c.left,0,360)})},"aria-label":"Hue","aria-valuenow":Yt(n),"aria-valuemax":"360","aria-valuemin":"0"},st.createElement(E0,{className:"react-colorful__hue-pointer",left:n/360,color:Pf({h:n,s:100,v:100,a:1})})))}),e3=st.memo(function(e){var n=e.hsva,s=e.onChange,o={backgroundColor:Pf({h:n.h,s:100,v:100,a:1})};return st.createElement("div",{className:"react-colorful__saturation",style:o},st.createElement(j0,{onMove:function(c){s({s:100*c.left,v:100-100*c.top})},onKey:function(c){s({s:to(n.s+100*c.left,0,100),v:to(n.v-100*c.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Yt(n.s)+"%, Brightness "+Yt(n.v)+"%"},st.createElement(E0,{className:"react-colorful__saturation-pointer",top:1-n.v/100,left:n.s/100,color:Pf(n)})))}),T0=function(e,n){if(e===n)return!0;for(var s in e)if(e[s]!==n[s])return!1;return!0},t3=function(e,n){return e.toLowerCase()===n.toLowerCase()||T0($f(e),$f(n))};function r3(e,n,s){var o=eo(s),c=D.useState(function(){return e.toHsva(n)}),h=c[0],y=c[1],m=D.useRef({color:n,hsva:h});D.useEffect(function(){if(!e.equal(n,m.current.color)){var f=e.toHsva(n);m.current={hsva:f,color:n},y(f)}},[n,e]),D.useEffect(function(){var f;T0(h,m.current.hsva)||e.equal(f=e.fromHsva(h),m.current.color)||(m.current={hsva:h,color:f},o(f))},[h,e,o]);var l=D.useCallback(function(f){y(function(u){return Object.assign({},u,f)})},[]);return[h,l]}var n3=typeof window<"u"?D.useLayoutEffect:D.useEffect,s3=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},vh=new Map,a3=function(e){n3(function(){var n=e.current?e.current.ownerDocument:document;if(n!==void 0&&!vh.has(n)){var s=n.createElement("style");s.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,vh.set(n,s);var o=s3();o&&s.setAttribute("nonce",o),n.head.appendChild(s)}},[])},o3=function(e){var n=e.className,s=e.colorModel,o=e.color,c=o===void 0?s.defaultColor:o,h=e.onChange,y=al(e,["className","colorModel","color","onChange"]),m=D.useRef(null);a3(m);var l=r3(s,c,h),f=l[0],u=l[1],d=cd(["react-colorful",n]);return st.createElement("div",Vs({},y,{ref:m,className:d}),st.createElement(e3,{hsva:f,onChange:u}),st.createElement(J2,{hue:f.h,onChange:u,className:"react-colorful__last-control"}))},i3={defaultColor:"000",toHsva:G2,fromHsva:function(e){return X2({h:e.h,s:e.s,v:e.v,a:1})},equal:t3},l3=function(e){return st.createElement(o3,Vs({},e,{colorModel:i3}))},c3=/^#?([0-9A-F]{3,8})$/i,u3=function(e){var n=e.color,s=n===void 0?"":n,o=e.onChange,c=e.onBlur,h=e.escape,y=e.validate,m=e.format,l=e.process,f=al(e,["color","onChange","onBlur","escape","validate","format","process"]),u=D.useState(function(){return h(s)}),d=u[0],g=u[1],w=eo(o),_=eo(c),k=D.useCallback(function(T){var A=h(T.target.value);g(A),y(A)&&w(l?l(A):A)},[h,l,y,w]),M=D.useCallback(function(T){y(T.target.value)||g(h(s)),_(T)},[s,h,y,_]);return D.useEffect(function(){g(h(s))},[s,h]),st.createElement("input",Vs({},f,{value:m?m(d):d,spellCheck:"false",onChange:k,onBlur:M}))},wh=function(e){return"#"+e},f3=function(e){var n=e.prefixed,s=e.alpha,o=al(e,["prefixed","alpha"]),c=D.useCallback(function(y){return y.replace(/([^0-9A-F]+)/gi,"").substring(0,s?8:6)},[s]),h=D.useCallback(function(y){return(function(m,l){var f=c3.exec(m),u=f?f[1].length:0;return u===3||u===6||!!l&&u===4||!!l&&u===8})(y,s)},[s]);return st.createElement(u3,Vs({},o,{escape:c,format:n?wh:void 0,process:wh,validate:h}))};const d3=({hexValue:e,eyedropper:n,clearButtonValue:s,containerClassName:o,onChange:c})=>{const h=D.useRef(null),y=D.useCallback(g=>{var w,_,k;g.stopPropagation();const M=(w=h.current)==null?void 0:w.querySelector("input");g.target!==M&&((k=(_=h.current)==null?void 0:_.querySelector("input"))==null||k.focus(),g.preventDefault())},[]),m=D.useRef(!1),l=D.useCallback(()=>{var g,w;m.current=!1,(w=(g=h.current)==null?void 0:g.querySelector("input"))==null||w.focus(),document.removeEventListener("mouseup",l),document.removeEventListener("touchend",l)},[]),f=D.useCallback(()=>{m.current=!0,document.addEventListener("mouseup",l),document.addEventListener("touchend",l)},[l]),u=D.useCallback(g=>{if(g.preventDefault(),!window.EyeDropper)return;m.current=!0,document.body.style.setProperty("pointer-events","none"),new window.EyeDropper().open().then(_=>c?.(_.sRGBHex)).finally(()=>{var _,k;m.current=!1,document.body.style.removeProperty("pointer-events"),(k=(_=h.current)==null?void 0:_.querySelector("input"))==null||k.focus()})},[c]);D.useEffect(()=>{var g,w;(w=(g=h.current)==null?void 0:g.querySelector("input"))==null||w.focus()},[]);const d=D.useCallback(()=>{var g,w;(w=(g=h.current)==null?void 0:g.querySelector("input"))==null||w.focus()},[]);return o=we("mt-2",o),a.jsxs("div",{className:o,onMouseDown:y,onTouchStart:y,children:[a.jsx(l3,{className:"w-full",color:e||"#ffffff",onChange:c,onMouseDown:f,onTouchStart:f}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsxs("div",{ref:h,className:"peer relative order-2 flex h-10 w-full items-center",onClick:d,children:[a.jsx("span",{className:"absolute left-2 top-[9px] z-10 ml-1 mr-2 text-grey-700",children:"#"}),a.jsx(f3,{"aria-label":"Color value",className:"z-[1] w-full rounded-md border border-transparent bg-grey-150 p-2 pl-6 transition-all hover:bg-grey-100 focus:border-green focus:bg-white focus:shadow-[0_0_0_1px_rgba(48,207,67,1)] dark:bg-grey-900 dark:text-white dark:focus:bg-grey-925",color:e,onChange:c}),n&&!!window.EyeDropper&&a.jsx("button",{className:"absolute inset-y-0 right-3 z-50 my-auto h-4 w-4 p-[1px]",type:"button",onClick:u,children:a.jsx(__,{className:"h-full w-full"})})]}),s!==void 0&&a.jsx(ze,{color:"grey",value:"Clear",onClick:()=>c?.(s)})]})]})},p3=D.createContext({colorPickers:[]}),yh=e=>e.length===4?e.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3"):e,Yr=({testId:e,title:n,direction:s,value:o,hint:c,error:h,eyedropper:y,clearButtonValue:m,onChange:l,swatches:f=[],alwaysOpen:u=!1,debounceMs:d})=>{const[g,w]=D.useState(!1),[_,k]=D.useState(o),M=D.useContext(p3),T=D.useId();D.useEffect(()=>{k(B=>yh(B||"")===o?B:o)},[o]),D.useEffect(()=>(M.colorPickers.push({id:T,setExpanded:w}),()=>{M.colorPickers=M.colorPickers.filter(B=>B.id!==T)}),[M,T]),D.useEffect(()=>{if(g){M.colorPickers.filter(O=>O.id!==T).forEach(O=>O.setExpanded(!1));const B=()=>{w(!1)};return document.addEventListener("click",B),()=>{document.removeEventListener("click",B)}}},[M,T,g]);const A=D.useMemo(()=>l&&d?el(l,d):l,[d,l]),C=B=>{k(B),A?.(B?yh(B):null)};let R=a.jsx(M0,{isExpanded:g,swatches:f,value:_,onSwatchChange:B=>{C(B),w(!1)},onTogglePicker:()=>!u&&w(!g)});n&&(R=a.jsxs("div",{className:we("flex w-full cursor-pointer items-start first:mt-0 dark:text-white",s==="rtl"&&"flex-row-reverse"),children:[a.jsx("div",{className:"shrink-0",children:R}),a.jsxs("div",{className:we("flex-1",s==="rtl"?"pr-2":"pl-2",c?"mt-[-2px]":"mt-[1px]"),onClick:()=>!u&&w(!g),children:[n,c&&a.jsx("div",{className:`text-xs ${h?"text-red":"text-grey-700"}`,children:c})]})]}));const $=f.find(B=>B.value===_);return a.jsxs("div",{className:"flex-col","data-testid":e,onClick:B=>B.stopPropagation(),children:[R,(u||g)&&a.jsx(d3,{clearButtonValue:m,eyedropper:y,hexValue:$?.hex||_||void 0,onChange:C})]})},h3=({value:e,onChange:n,singleParagraph:s=!0,...o})=>{const c=D.useCallback(h=>{const m=new DOMParser().parseFromString(h,"text/html");m.querySelectorAll("*").forEach(f=>{f.style.removeProperty("white-space"),f.getAttribute("style")||f.removeAttribute("style")}),m.body.innerHTML!==e&&n?.(m.body.innerHTML)},[e,n]);return a.jsx(k_,{...o,singleParagraph:s,children:h=>a.jsx(h.HtmlOutputPlugin,{html:e,setHtml:c})})},ud=({title:e,hideTitle:n,error:s,hint:o,value:c,clearBg:h=!1,className:y="",containerClassName:m="",hintClassName:l="",unstyled:f=!1,...u})=>{const d=f?"":we("flex min-h-[32px] items-center rounded-md border border-transparent py-1.5 md:min-h-[36px]",h?"bg-transparent":"bg-grey-150 px-3 dark:bg-grey-900",s?"border-red":"transition-all hover:bg-grey-100 has-[:focus]:border-green has-[:focus]:bg-white has-[:focus]:shadow-[0_0_0_1px_rgba(48,207,67,1)] dark:selection:bg-[rgba(88,101,116,0.99)] dark:hover:bg-grey-925 dark:has-[:focus]:bg-grey-950",e&&!n&&!h&&"mt-2",y);return a.jsxs("div",{className:`flex flex-col ${m}`,children:[e&&a.jsx(xt,{className:n?"sr-only":"",grey:!0,useLabelTag:!0,children:e}),a.jsx("div",{className:d,children:a.jsx(h3,{...u,value:c})}),o&&a.jsx(Gr,{className:l,color:s?"red":"",children:o})]})};var fd="Radio",[m3,S0]=Vf(fd),[g3,b3]=m3(fd),N0=D.forwardRef((e,n)=>{const{__scopeRadio:s,name:o,checked:c=!1,required:h,disabled:y,value:m="on",onCheck:l,form:f,...u}=e,[d,g]=D.useState(null),w=ao(n,M=>g(M)),_=D.useRef(!1),k=d?f||!!d.closest("form"):!0;return a.jsxs(g3,{scope:s,checked:c,disabled:y,children:[a.jsx(ns.button,{type:"button",role:"radio","aria-checked":c,"data-state":D0(c),"data-disabled":y?"":void 0,disabled:y,value:m,...u,ref:w,onClick:Va(e.onClick,M=>{c||l?.(),k&&(_.current=M.isPropagationStopped(),_.current||M.stopPropagation())})}),k&&a.jsx(C0,{control:d,bubbles:!_.current,name:o,value:m,checked:c,required:h,disabled:y,form:f,style:{transform:"translateX(-100%)"}})]})});N0.displayName=fd;var A0="RadioIndicator",I0=D.forwardRef((e,n)=>{const{__scopeRadio:s,forceMount:o,...c}=e,h=b3(A0,s);return a.jsx(Lg,{present:o||h.checked,children:a.jsx(ns.span,{"data-state":D0(h.checked),"data-disabled":h.disabled?"":void 0,...c,ref:n})})});I0.displayName=A0;var x3="RadioBubbleInput",C0=D.forwardRef(({__scopeRadio:e,control:n,checked:s,bubbles:o=!0,...c},h)=>{const y=D.useRef(null),m=ao(y,h),l=zg(s),f=Ug(n);return D.useEffect(()=>{const u=y.current;if(!u)return;const d=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==s&&w){const _=new Event("click",{bubbles:o});w.call(u,s),u.dispatchEvent(_)}},[l,s,o]),a.jsx(ns.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...c,tabIndex:-1,ref:m,style:{...c.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});C0.displayName=x3;function D0(e){return e?"checked":"unchecked"}var v3=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ol="RadioGroup",[w3]=Vf(ol,[Hg,S0]),R0=Hg(),O0=S0(),[y3,_3]=w3(ol),$0=D.forwardRef((e,n)=>{const{__scopeRadioGroup:s,name:o,defaultValue:c,value:h,required:y=!1,disabled:m=!1,orientation:l,dir:f,loop:u=!0,onValueChange:d,...g}=e,w=R0(s),_=M_(f),[k,M]=Fg({prop:h,defaultProp:c??null,onChange:d,caller:ol});return a.jsx(y3,{scope:s,name:o,required:y,disabled:m,value:k,onValueChange:M,children:a.jsx(j_,{asChild:!0,...w,orientation:l,dir:_,loop:u,children:a.jsx(ns.div,{role:"radiogroup","aria-required":y,"aria-orientation":l,"data-disabled":m?"":void 0,dir:_,...g,ref:n})})})});$0.displayName=ol;var P0="RadioGroupItem",L0=D.forwardRef((e,n)=>{const{__scopeRadioGroup:s,disabled:o,...c}=e,h=_3(P0,s),y=h.disabled||o,m=R0(s),l=O0(s),f=D.useRef(null),u=ao(n,f),d=h.value===c.value,g=D.useRef(!1);return D.useEffect(()=>{const w=k=>{v3.includes(k.key)&&(g.current=!0)},_=()=>g.current=!1;return document.addEventListener("keydown",w),document.addEventListener("keyup",_),()=>{document.removeEventListener("keydown",w),document.removeEventListener("keyup",_)}},[]),a.jsx(E_,{asChild:!0,...m,focusable:!y,active:d,children:a.jsx(N0,{disabled:y,required:h.required,checked:d,...l,...c,name:h.name,ref:u,onCheck:()=>h.onValueChange(c.value),onKeyDown:Va(w=>{w.key==="Enter"&&w.preventDefault()}),onFocus:Va(c.onFocus,()=>{g.current&&f.current?.click()})})})});L0.displayName=P0;var k3="RadioGroupIndicator",F0=D.forwardRef((e,n)=>{const{__scopeRadioGroup:s,...o}=e,c=O0(s);return a.jsx(I0,{...c,...o,ref:n})});F0.displayName=k3;var M3=$0,j3=L0,E3=F0;const T3=({id:e,title:n,options:s,onSelect:o,error:c,hint:h,selectedOption:y,separator:m})=>a.jsxs(M3,{defaultValue:y,name:e,onValueChange:o,children:[a.jsxs("div",{className:`flex flex-col gap-2 ${m&&"pb-2"}`,children:[n&&a.jsx(xt,{level:6,children:n}),s.map(l=>a.jsxs("label",{className:`flex cursor-pointer items-start ${n&&"-mb-1 mt-1"}`,htmlFor:l.value,children:[a.jsx(j3,{className:"relative float-left mt-[3px] size-4 min-w-[16px] appearance-none rounded-full border-2 border-solid border-grey-300 hover:cursor-pointer focus:shadow-none focus:outline-none focus:ring-0 data-[state=checked]:border-green data-[state=checked]:focus:border-green dark:border-grey-800 dark:text-white dark:data-[state=checked]:border-green dark:data-[state=checked]:focus:border-green",id:l.value,value:l.value,children:a.jsx(E3,{className:"flex size-full items-center justify-center after:block after:size-[6px] after:rounded-full after:border-green after:bg-green after:content-[''] dark:after:border-green dark:after:bg-green"})}),a.jsxs("div",{className:`ml-2 flex flex-col ${l.hint&&"mb-2"}`,children:[a.jsx("span",{className:`inline-block text-md dark:text-white ${l.hint&&"-mb-1"}`,children:l.label}),l.hint&&a.jsx(Gr,{children:l.hint})]})]},l.value)),h&&a.jsx(Gr,{color:c?"red":"",children:h})]}),(m||c)&&a.jsx(Qa,{className:c?"border-red":""})]}),Ki=({children:e,gap:n="md",className:s})=>{let o="gap-3";switch(n){case"sm":o="gap-2";break;case"md":o="gap-3";break;case"lg":o="gap-4";break}return s=we("flex flex-col",o,s),a.jsx("div",{className:s,children:e})},dd=({heading:e,children:n,className:s})=>(s=we("w-full p-[8vmin] pt-5",s),a.jsxs("div",{className:s,children:[e&&a.jsx(xt,{className:"mb-8",children:e}),n]})),pd=({items:e,backIcon:n=!1,snapBackIcon:s=!0,onBack:o,containerClassName:c,itemClassName:h,activeItemClassName:y,separatorClassName:m})=>{const l=e.length;let f=0;return c=we("flex items-center gap-2 text-sm",c),y=we("font-bold",y),h=we("text-sm",h),a.jsxs("div",{className:c,children:[n&&a.jsx(ze,{className:s?"mr-1":"mr-6",icon:"arrow-left",iconColorClass:"dark:text-white",size:"sm",link:!0,onClick:o}),e.map(u=>{const d=f===l-1?a.jsx("span",{className:y,children:u.label}):a.jsxs(a.Fragment,{children:[a.jsx("button",{className:`${h} ${u.onClick&&"-mx-1 cursor-pointer rounded-sm px-1 py-px hover:bg-grey-100 dark:hover:bg-grey-900"}`,type:"button",onClick:u.onClick,children:u.label},`bc-${f}`),a.jsx("span",{className:m,children:"/"})]});return f=f+1,d})]})},Qs=({testId:e,title:n,titleHeadingLevel:s=4,size:o="full",width:c,height:h,sidebar:y="",preview:m,dirty:l=!1,cancelLabel:f="Cancel",okLabel:u="OK",okColor:d="black",previewToolbar:g=!0,leftToolbar:w=!0,rightToolbar:_=!0,deviceSelector:k=!0,siteLink:M,previewToolbarURLs:T,previewBgColor:A="grey",selectedURL:C,previewToolbarTabs:R,previewToolbarBreadcrumbs:$,buttonsDisabled:B,sidebarButtons:O,sidebarHeader:Z,sidebarPadding:X=!0,sidebarContentClasses:G,enableCMDS:W=!0,backDropClick:q,onCancel:se,onOk:ee,afterClose:re,onSelectURL:Q,onSelectDesktopView:ne,onSelectMobileView:xe,onBreadcrumbsBack:je})=>{const H=Zt(),{setGlobalDirtyState:he}=T_();D.useEffect(()=>{he(l)},[l,he]),D.useEffect(()=>{if(ee){const J=be=>{(be.metaKey||be.ctrlKey)&&be.key==="s"&&(be.preventDefault(),ee())};if(W)return window.addEventListener("keydown",J),()=>{window.removeEventListener("keydown",J)}}});const[ge,F]=D.useState("desktop");if(ge==="mobile"&&k?m=a.jsx(m0,{"data-testid":"preview-mobile",children:m}):ge==="desktop"&&k&&(m=a.jsx(h0,{"data-testid":"preview-desktop",children:m})),g){let J=a.jsx(a.Fragment,{});T?J=a.jsx(Pt,{options:T,selectedOption:T.find(Ie=>Ie.value===C),onSelect:Ie=>Ie&&Q?.(Ie.value)}):R?J=a.jsx(Rn,{border:!1,selectedTab:C,tabs:R,width:"wide",onTabChange:Q}):$&&(J=a.jsx(pd,{activeItemClassName:"hidden md:!block md:!visible",containerClassName:"whitespace-nowrap",itemClassName:"hidden md:!block md:!visible",items:$,separatorClassName:"hidden md:!block md:!visible",backIcon:!0,onBack:je}));const be="text-black dark:text-green",Te="text-grey-500 dark:text-grey-600",De=[{icon:"laptop",label:"Desktop",hideLabel:!0,link:!0,size:"sm",iconColorClass:ge==="desktop"?be:Te,onClick:ne||(()=>{F("desktop")})},{icon:"mobile",label:"Mobile",hideLabel:!0,link:!0,size:"sm",iconColorClass:ge==="mobile"?be:Te,onClick:xe||(()=>{F("mobile")})}],Me=k&&a.jsx(an,{buttons:De});let oe="";A==="grey"?oe="bg-grey-50 dark:bg-black":A==="greygradient"&&(oe="bg-gradient-to-tr from-white to-[#f9f9fa] dark:from-grey-950 dark:to-black");const Ee=we("min-w-100 absolute inset-y-0 left-0 right-[400px] flex w-full grow flex-col overflow-y-auto",oe);let Ne;M&&(Ne=a.jsx("div",{className:"ml-3 border-l border-grey-400 dark:border-grey-800",children:a.jsxs("a",{className:"ml-3 flex items-center gap-1 text-sm",href:M,rel:"noopener noreferrer",target:"_blank",children:["View site ",a.jsx(ut,{name:"arrow-top-right",size:"xs"})]})})),m=a.jsxs("div",{className:Ee,children:[g&&a.jsxs("header",{className:"relative flex h-[80px] shrink-0 items-center justify-center px-8 py-5","data-testid":"design-toolbar",children:[w&&a.jsx("div",{className:"absolute left-8 flex h-full items-center",children:J}),_&&a.jsxs("div",{className:"absolute right-8 flex h-full items-center",children:[Me,Ne]})]}),a.jsx("div",{className:"flex grow items-center justify-center text-sm text-grey-400",children:m})]})}const P=[];return O||(P.push({key:"cancel-modal",label:f,onClick:se||(()=>{S_(l,()=>{H.remove(),re?.()})}),disabled:B}),P.push({key:"ok-modal",label:u,color:d,onClick:ee,disabled:B})),a.jsx(_t,{afterClose:re,animate:!1,backDropClick:q,dirty:l,footer:!1,height:h,padding:!1,size:o,testId:e,title:"",width:c,hideXOnMobile:!0,children:a.jsxs("div",{className:"flex h-full grow",children:[a.jsx("div",{className:`relative hidden grow flex-col [@media(min-width:801px)]:!visible [@media(min-width:801px)]:!flex ${A==="grey"?"bg-grey-50":"bg-white dark:bg-black"}`,children:m}),y&&a.jsxs("div",{className:"relative flex size-full flex-col border-l border-grey-100 dark:border-grey-900 [@media(min-width:801px)]:w-auto [@media(min-width:801px)]:basis-[400px]",children:[Z||a.jsxs("div",{className:"flex max-h-[82px] items-center justify-between gap-3 px-7 py-6",children:[a.jsx(xt,{level:s,children:n}),O||a.jsx(an,{buttons:P})]}),a.jsx("div",{className:`${Z?"":"absolute inset-x-0 bottom-0 top-[80px] grow"} ${X&&"p-7 pt-0"} flex flex-col justify-between overflow-y-auto ${G&&G}`,children:y})]})]})})},S3=({offset:e,onTrigger:n})=>{const s=D.useRef(null);return D.useEffect(()=>{const o=new IntersectionObserver(c=>{c[0].intersectionRatio<=0||n()});return s.current&&o.observe(s.current),()=>o.disconnect()},[n]),a.jsx("div",{ref:s,className:"absolute w-full",style:{bottom:e}})},z0=({trigger:e,triggerButtonProps:n,items:s,position:o="start",open:c,setOpen:h})=>(e||(e=a.jsx(ze,{icon:"ellipsis",label:"Menu",hideLabel:!0,...n})),a.jsx(Bg,{open:c,position:o,setOpen:h,trigger:e,closeOnItemClick:!0,children:a.jsx("div",{className:"flex min-w-[160px] flex-col justify-stretch py-1",role:"none",children:s.map(y=>a.jsx("button",{className:`mx-1 block cursor-pointer rounded-[2.5px] px-4 py-1.5 text-left text-sm hover:bg-grey-100 dark:hover:bg-grey-925 ${y.destructive&&" text-red-500"}`,type:"button",onClick:m=>{y.onClick&&y.onClick(m)},children:y.label},y.id))})}));var U0=typeof global=="object"&&global&&global.Object===Object&&global,N3=typeof self=="object"&&self&&self.Object===Object&&self,fn=U0||N3||Function("return this")(),Gs=fn.Symbol,H0=Object.prototype,A3=H0.hasOwnProperty,I3=H0.toString,Wa=Gs?Gs.toStringTag:void 0;function C3(e){var n=A3.call(e,Wa),s=e[Wa];try{e[Wa]=void 0;var o=!0}catch{}var c=I3.call(e);return o&&(n?e[Wa]=s:delete e[Wa]),c}var D3=Object.prototype,R3=D3.toString;function O3(e){return R3.call(e)}var $3="[object Null]",P3="[object Undefined]",_h=Gs?Gs.toStringTag:void 0;function io(e){return e==null?e===void 0?P3:$3:_h&&_h in Object(e)?C3(e):O3(e)}function ro(e){return e!=null&&typeof e=="object"}var Zi=Array.isArray;function B0(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var L3="[object AsyncFunction]",F3="[object Function]",z3="[object GeneratorFunction]",U3="[object Proxy]";function W0(e){if(!B0(e))return!1;var n=io(e);return n==F3||n==z3||n==L3||n==U3}var au=fn["__core-js_shared__"],kh=(function(){var e=/[^.]+$/.exec(au&&au.keys&&au.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function H3(e){return!!kh&&kh in e}var B3=Function.prototype,W3=B3.toString;function is(e){if(e!=null){try{return W3.call(e)}catch{}try{return e+""}catch{}}return""}var q3=/[\\^$.*+?()[\]{}|]/g,Y3=/^\[object .+?Constructor\]$/,G3=Function.prototype,X3=Object.prototype,K3=G3.toString,Z3=X3.hasOwnProperty,V3=RegExp("^"+K3.call(Z3).replace(q3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Q3(e){if(!B0(e)||H3(e))return!1;var n=W0(e)?V3:Y3;return n.test(is(e))}function J3(e,n){return e?.[n]}function Js(e,n){var s=J3(e,n);return Q3(s)?s:void 0}var Lf=Js(fn,"WeakMap"),e8=9007199254740991,t8=/^(?:0|[1-9]\d*)$/;function r8(e,n){var s=typeof e;return n=n??e8,!!n&&(s=="number"||s!="symbol"&&t8.test(e))&&e>-1&&e%1==0&&e<n}function q0(e,n){return e===n||e!==e&&n!==n}var n8=9007199254740991;function Y0(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=n8}function s8(e){return e!=null&&Y0(e.length)&&!W0(e)}var a8=Object.prototype;function o8(e){var n=e&&e.constructor,s=typeof n=="function"&&n.prototype||a8;return e===s}function i8(e,n){for(var s=-1,o=Array(e);++s<e;)o[s]=n(s);return o}var l8="[object Arguments]";function Mh(e){return ro(e)&&io(e)==l8}var G0=Object.prototype,c8=G0.hasOwnProperty,u8=G0.propertyIsEnumerable,f8=Mh((function(){return arguments})())?Mh:function(e){return ro(e)&&c8.call(e,"callee")&&!u8.call(e,"callee")};function d8(){return!1}var X0=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jh=X0&&typeof module=="object"&&module&&!module.nodeType&&module,p8=jh&&jh.exports===X0,Eh=p8?fn.Buffer:void 0,h8=Eh?Eh.isBuffer:void 0,Ff=h8||d8,m8="[object Arguments]",g8="[object Array]",b8="[object Boolean]",x8="[object Date]",v8="[object Error]",w8="[object Function]",y8="[object Map]",_8="[object Number]",k8="[object Object]",M8="[object RegExp]",j8="[object Set]",E8="[object String]",T8="[object WeakMap]",S8="[object ArrayBuffer]",N8="[object DataView]",A8="[object Float32Array]",I8="[object Float64Array]",C8="[object Int8Array]",D8="[object Int16Array]",R8="[object Int32Array]",O8="[object Uint8Array]",$8="[object Uint8ClampedArray]",P8="[object Uint16Array]",L8="[object Uint32Array]",wt={};wt[A8]=wt[I8]=wt[C8]=wt[D8]=wt[R8]=wt[O8]=wt[$8]=wt[P8]=wt[L8]=!0;wt[m8]=wt[g8]=wt[S8]=wt[b8]=wt[N8]=wt[x8]=wt[v8]=wt[w8]=wt[y8]=wt[_8]=wt[k8]=wt[M8]=wt[j8]=wt[E8]=wt[T8]=!1;function F8(e){return ro(e)&&Y0(e.length)&&!!wt[io(e)]}function z8(e){return function(n){return e(n)}}var K0=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Za=K0&&typeof module=="object"&&module&&!module.nodeType&&module,U8=Za&&Za.exports===K0,ou=U8&&U0.process,Th=(function(){try{var e=Za&&Za.require&&Za.require("util").types;return e||ou&&ou.binding&&ou.binding("util")}catch{}})(),Sh=Th&&Th.isTypedArray,Z0=Sh?z8(Sh):F8,H8=Object.prototype,B8=H8.hasOwnProperty;function W8(e,n){var s=Zi(e),o=!s&&f8(e),c=!s&&!o&&Ff(e),h=!s&&!o&&!c&&Z0(e),y=s||o||c||h,m=y?i8(e.length,String):[],l=m.length;for(var f in e)B8.call(e,f)&&!(y&&(f=="length"||c&&(f=="offset"||f=="parent")||h&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||r8(f,l)))&&m.push(f);return m}function q8(e,n){return function(s){return e(n(s))}}var Y8=q8(Object.keys,Object),G8=Object.prototype,X8=G8.hasOwnProperty;function K8(e){if(!o8(e))return Y8(e);var n=[];for(var s in Object(e))X8.call(e,s)&&s!="constructor"&&n.push(s);return n}function Z8(e){return s8(e)?W8(e):K8(e)}var no=Js(Object,"create");function V8(){this.__data__=no?no(null):{},this.size=0}function Q8(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}var J8="__lodash_hash_undefined__",ek=Object.prototype,tk=ek.hasOwnProperty;function rk(e){var n=this.__data__;if(no){var s=n[e];return s===J8?void 0:s}return tk.call(n,e)?n[e]:void 0}var nk=Object.prototype,sk=nk.hasOwnProperty;function ak(e){var n=this.__data__;return no?n[e]!==void 0:sk.call(n,e)}var ok="__lodash_hash_undefined__";function ik(e,n){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=no&&n===void 0?ok:n,this}function rs(e){var n=-1,s=e==null?0:e.length;for(this.clear();++n<s;){var o=e[n];this.set(o[0],o[1])}}rs.prototype.clear=V8;rs.prototype.delete=Q8;rs.prototype.get=rk;rs.prototype.has=ak;rs.prototype.set=ik;function lk(){this.__data__=[],this.size=0}function il(e,n){for(var s=e.length;s--;)if(q0(e[s][0],n))return s;return-1}var ck=Array.prototype,uk=ck.splice;function fk(e){var n=this.__data__,s=il(n,e);if(s<0)return!1;var o=n.length-1;return s==o?n.pop():uk.call(n,s,1),--this.size,!0}function dk(e){var n=this.__data__,s=il(n,e);return s<0?void 0:n[s][1]}function pk(e){return il(this.__data__,e)>-1}function hk(e,n){var s=this.__data__,o=il(s,e);return o<0?(++this.size,s.push([e,n])):s[o][1]=n,this}function dn(e){var n=-1,s=e==null?0:e.length;for(this.clear();++n<s;){var o=e[n];this.set(o[0],o[1])}}dn.prototype.clear=lk;dn.prototype.delete=fk;dn.prototype.get=dk;dn.prototype.has=pk;dn.prototype.set=hk;var so=Js(fn,"Map");function mk(){this.size=0,this.__data__={hash:new rs,map:new(so||dn),string:new rs}}function gk(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function ll(e,n){var s=e.__data__;return gk(n)?s[typeof n=="string"?"string":"hash"]:s.map}function bk(e){var n=ll(this,e).delete(e);return this.size-=n?1:0,n}function xk(e){return ll(this,e).get(e)}function vk(e){return ll(this,e).has(e)}function wk(e,n){var s=ll(this,e),o=s.size;return s.set(e,n),this.size+=s.size==o?0:1,this}function ls(e){var n=-1,s=e==null?0:e.length;for(this.clear();++n<s;){var o=e[n];this.set(o[0],o[1])}}ls.prototype.clear=mk;ls.prototype.delete=bk;ls.prototype.get=xk;ls.prototype.has=vk;ls.prototype.set=wk;function yk(e,n){for(var s=-1,o=n.length,c=e.length;++s<o;)e[c+s]=n[s];return e}function _k(){this.__data__=new dn,this.size=0}function kk(e){var n=this.__data__,s=n.delete(e);return this.size=n.size,s}function Mk(e){return this.__data__.get(e)}function jk(e){return this.__data__.has(e)}var Ek=200;function Tk(e,n){var s=this.__data__;if(s instanceof dn){var o=s.__data__;if(!so||o.length<Ek-1)return o.push([e,n]),this.size=++s.size,this;s=this.__data__=new ls(o)}return s.set(e,n),this.size=s.size,this}function Dn(e){var n=this.__data__=new dn(e);this.size=n.size}Dn.prototype.clear=_k;Dn.prototype.delete=kk;Dn.prototype.get=Mk;Dn.prototype.has=jk;Dn.prototype.set=Tk;function Sk(e,n){for(var s=-1,o=e==null?0:e.length,c=0,h=[];++s<o;){var y=e[s];n(y,s,e)&&(h[c++]=y)}return h}function Nk(){return[]}var Ak=Object.prototype,Ik=Ak.propertyIsEnumerable,Nh=Object.getOwnPropertySymbols,Ck=Nh?function(e){return e==null?[]:(e=Object(e),Sk(Nh(e),function(n){return Ik.call(e,n)}))}:Nk;function Dk(e,n,s){var o=n(e);return Zi(e)?o:yk(o,s(e))}function Ah(e){return Dk(e,Z8,Ck)}var zf=Js(fn,"DataView"),Uf=Js(fn,"Promise"),Hf=Js(fn,"Set"),Ih="[object Map]",Rk="[object Object]",Ch="[object Promise]",Dh="[object Set]",Rh="[object WeakMap]",Oh="[object DataView]",Ok=is(zf),$k=is(so),Pk=is(Uf),Lk=is(Hf),Fk=is(Lf),In=io;(zf&&In(new zf(new ArrayBuffer(1)))!=Oh||so&&In(new so)!=Ih||Uf&&In(Uf.resolve())!=Ch||Hf&&In(new Hf)!=Dh||Lf&&In(new Lf)!=Rh)&&(In=function(e){var n=io(e),s=n==Rk?e.constructor:void 0,o=s?is(s):"";if(o)switch(o){case Ok:return Oh;case $k:return Ih;case Pk:return Ch;case Lk:return Dh;case Fk:return Rh}return n});var $h=fn.Uint8Array,zk="__lodash_hash_undefined__";function Uk(e){return this.__data__.set(e,zk),this}function Hk(e){return this.__data__.has(e)}function Vi(e){var n=-1,s=e==null?0:e.length;for(this.__data__=new ls;++n<s;)this.add(e[n])}Vi.prototype.add=Vi.prototype.push=Uk;Vi.prototype.has=Hk;function Bk(e,n){for(var s=-1,o=e==null?0:e.length;++s<o;)if(n(e[s],s,e))return!0;return!1}function Wk(e,n){return e.has(n)}var qk=1,Yk=2;function V0(e,n,s,o,c,h){var y=s&qk,m=e.length,l=n.length;if(m!=l&&!(y&&l>m))return!1;var f=h.get(e),u=h.get(n);if(f&&u)return f==n&&u==e;var d=-1,g=!0,w=s&Yk?new Vi:void 0;for(h.set(e,n),h.set(n,e);++d<m;){var _=e[d],k=n[d];if(o)var M=y?o(k,_,d,n,e,h):o(_,k,d,e,n,h);if(M!==void 0){if(M)continue;g=!1;break}if(w){if(!Bk(n,function(T,A){if(!Wk(w,A)&&(_===T||c(_,T,s,o,h)))return w.push(A)})){g=!1;break}}else if(!(_===k||c(_,k,s,o,h))){g=!1;break}}return h.delete(e),h.delete(n),g}function Gk(e){var n=-1,s=Array(e.size);return e.forEach(function(o,c){s[++n]=[c,o]}),s}function Xk(e){var n=-1,s=Array(e.size);return e.forEach(function(o){s[++n]=o}),s}var Kk=1,Zk=2,Vk="[object Boolean]",Qk="[object Date]",Jk="[object Error]",eM="[object Map]",tM="[object Number]",rM="[object RegExp]",nM="[object Set]",sM="[object String]",aM="[object Symbol]",oM="[object ArrayBuffer]",iM="[object DataView]",Ph=Gs?Gs.prototype:void 0,iu=Ph?Ph.valueOf:void 0;function lM(e,n,s,o,c,h,y){switch(s){case iM:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case oM:return!(e.byteLength!=n.byteLength||!h(new $h(e),new $h(n)));case Vk:case Qk:case tM:return q0(+e,+n);case Jk:return e.name==n.name&&e.message==n.message;case rM:case sM:return e==n+"";case eM:var m=Gk;case nM:var l=o&Kk;if(m||(m=Xk),e.size!=n.size&&!l)return!1;var f=y.get(e);if(f)return f==n;o|=Zk,y.set(e,n);var u=V0(m(e),m(n),o,c,h,y);return y.delete(e),u;case aM:if(iu)return iu.call(e)==iu.call(n)}return!1}var cM=1,uM=Object.prototype,fM=uM.hasOwnProperty;function dM(e,n,s,o,c,h){var y=s&cM,m=Ah(e),l=m.length,f=Ah(n),u=f.length;if(l!=u&&!y)return!1;for(var d=l;d--;){var g=m[d];if(!(y?g in n:fM.call(n,g)))return!1}var w=h.get(e),_=h.get(n);if(w&&_)return w==n&&_==e;var k=!0;h.set(e,n),h.set(n,e);for(var M=y;++d<l;){g=m[d];var T=e[g],A=n[g];if(o)var C=y?o(A,T,g,n,e,h):o(T,A,g,e,n,h);if(!(C===void 0?T===A||c(T,A,s,o,h):C)){k=!1;break}M||(M=g=="constructor")}if(k&&!M){var R=e.constructor,$=n.constructor;R!=$&&"constructor"in e&&"constructor"in n&&!(typeof R=="function"&&R instanceof R&&typeof $=="function"&&$ instanceof $)&&(k=!1)}return h.delete(e),h.delete(n),k}var pM=1,Lh="[object Arguments]",Fh="[object Array]",Pi="[object Object]",hM=Object.prototype,zh=hM.hasOwnProperty;function mM(e,n,s,o,c,h){var y=Zi(e),m=Zi(n),l=y?Fh:In(e),f=m?Fh:In(n);l=l==Lh?Pi:l,f=f==Lh?Pi:f;var u=l==Pi,d=f==Pi,g=l==f;if(g&&Ff(e)){if(!Ff(n))return!1;y=!0,u=!1}if(g&&!u)return h||(h=new Dn),y||Z0(e)?V0(e,n,s,o,c,h):lM(e,n,l,s,o,c,h);if(!(s&pM)){var w=u&&zh.call(e,"__wrapped__"),_=d&&zh.call(n,"__wrapped__");if(w||_){var k=w?e.value():e,M=_?n.value():n;return h||(h=new Dn),c(k,M,s,o,h)}}return g?(h||(h=new Dn),dM(e,n,s,o,c,h)):!1}function Q0(e,n,s,o,c){return e===n?!0:e==null||n==null||!ro(e)&&!ro(n)?e!==e&&n!==n:mM(e,n,s,o,Q0,c)}function gM(e,n){return Q0(e,n)}const Uh=({className:e,children:n,colSpan:s,sticky:o=!1,...c})=>{const h=we("!py-2 !pl-0 !pr-6 text-left align-top",o&&"sticky top-0 bg-white",c.onClick&&"hover:cursor-pointer",e);return a.jsx("th",{className:h,colSpan:s,...c,children:a.jsx(xt,{className:"whitespace-nowrap",level:6,children:n})})},J0=({left:e,center:n,right:s,sticky:o=!0,containerClassName:c,children:h})=>{const y=we("z-50 h-22 min-h-[92px] p-8",!h&&"flex items-center justify-between gap-3",o&&"sticky top-0",c);if(!h){if(e){const m=we("flex flex-auto items-center",s&&n&&"basis-1/3",!s&&n&&"basis-1/2");e=a.jsx("div",{className:m,children:e})}if(n){const m=we("flex flex-auto items-center justify-center",e&&s&&"basis-1/3",(e&&!s||!e&&s)&&"basis-1/2");n=a.jsx("div",{className:m,children:n})}if(s){const m=we("flex flex-auto items-center justify-end",e&&n&&"basis-1/3",!e&&n&&"basis-1/2");s=a.jsx("div",{className:m,children:s})}}return a.jsx("div",{className:y,children:h||a.jsxs(a.Fragment,{children:[e,n,s]})})},eb=({items:e,setItems:n,blank:s,canAddNewItem:o})=>{const[c,h]=D.useState(e.map((g,w)=>({item:g,id:w.toString()}))),[y,m]=D.useState(s);return D.useEffect(()=>{const g=c.map(({item:w})=>w);o(y)&&g.push(y),gM(JSON.parse(JSON.stringify(g)),JSON.parse(JSON.stringify(e)))||n(g)},[c,y,e,n,o]),{items:c,updateItem:(g,w)=>{const _=c.map(k=>k.id===g?{...k,item:w}:k);h(_),n(_.map(k=>k.item))},addItem:()=>{if(o(y)){const g=c.reduce((_,k)=>Math.max(_,parseInt(k.id)),0),w=c.concat({item:y,id:(g+1).toString()});h(w),n(w.map(_=>_.item)),m(s)}},removeItem:g=>{const w=c.filter(_=>_.id!==g);h(w),n(w.map(_=>_.item))},moveItem:(g,w)=>{if(g!==w){const _=c.findIndex(T=>T.id===g),k=w?c.findIndex(T=>T.id===w):0,M=N_(c,_,k);h(M),n(M.map(T=>T.item))}},newItem:y,setNewItem:m}},bM=({label:e,text:n="",hint:s,onRegenerate:o})=>{const[c,h]=D.useState(!1),y=()=>{navigator.clipboard.writeText(n),h(!0),setTimeout(()=>h(!1),2e3)},m=we("group/api-keys relative -mt-1 mb-1 w-full overflow-hidden border-b border-transparent py-2 hover:border-grey-300 dark:hover:border-grey-600");return a.jsxs("div",{className:"mb-3 grid grid-cols-1",children:[e&&a.jsx(xt,{level:6,grey:!0,children:e}),a.jsxs("div",{className:m,children:[a.jsx("span",{children:n}),s,a.jsxs("div",{className:"visible absolute right-0 top-1/2 flex translate-y-[-50%] gap-1 bg-white pl-1 text-sm group-hover/api-keys:visible md:invisible dark:bg-black",children:[o&&a.jsx(ze,{color:"outline",label:"Regenerate",size:"sm",onClick:o}),a.jsx(ze,{color:"outline",label:c?"Copied":"Copy",size:"sm",onClick:y})]})]})]})},hd=({keys:e})=>a.jsx("div",{"data-testid":"api-keys",children:e.map(n=>a.jsx(bM,{...n},n.label))}),lo=({icon:e,title:n,detail:s,extra:o})=>a.jsxs("div",{className:"-mx-8 -mt-8 flex flex-col gap-4 bg-grey-75 p-8 md:flex-row dark:bg-grey-950",children:[a.jsx("div",{className:"size-14",children:e}),a.jsxs("div",{className:"mt-1.5 flex min-w-0 flex-1 flex-col",children:[a.jsx("h3",{children:n}),a.jsx("div",{children:s}),o&&a.jsx("div",{className:"mt-4",children:o})]})]}),tb=ss({method:"POST",path:({integrationId:e,apiKeyId:n})=>`/integrations/${e}/api_key/${n}/refresh/`,body:({integrationId:e})=>({integrations:[{id:e}]}),updateQueries:{emberUpdateType:"createOrUpdate",dataType:tl,update:(e,n)=>n&&{...n,integrations:n.integrations.map(s=>e.integrations.find(({id:c})=>c===s.id)||s)}}}),xM=ke.create(()=>{const e=ke.useModal(),{updateRoute:n}=Je(),{zapierTemplates:s}=A_(),{data:{integrations:o}={integrations:[]}}=Wg(),{config:c}=et(),{mutateAsync:h}=tb(),y=it(),[m,l]=D.useState(!1),f=c.hostSettings?.limits?.customIntegrations?.disabled,u=o.find(({slug:w})=>w==="zapier"),d=u?.api_keys?.find(w=>w.type==="admin");D.useEffect(()=>{f&&n("integrations")},[f,n]);const g=()=>{!u||!d||(l(!1),ke.show(St,{title:"Regenerate Admin API Key",prompt:'You will need to locate the Ghost App within your Zapier account and click on "Reconnect" to enter the new Admin API Key.',okLabel:"Regenerate Admin API Key",onOk:async w=>{try{await h({integrationId:u.id,apiKeyId:d.id}),l(!0),w?.remove()}catch(_){y(_)}}}))};return a.jsxs(_t,{afterClose:()=>{n("integrations")},cancelLabel:"",footer:a.jsxs("div",{className:"mx-8 flex w-full items-center justify-between",children:[a.jsxs("a",{className:"mt-1 self-baseline text-sm font-bold",href:"https://zapier.com/apps/ghost/integrations?utm_medium=partner_api&utm_source=widget&utm_campaign=Widget",rel:"noopener noreferrer",target:"_blank",children:["View more Ghost integrations powered by ",a.jsx("span",{children:a.jsx(ut,{className:"relative top-[-2px] inline-block",name:"zapier-logo",size:24})})]}),a.jsx(ze,{color:"black",label:"Close",onClick:()=>{e.remove()}})]}),okColor:"black",okLabel:"Close",testId:"zapier-modal",title:"",stickyFooter:!0,onOk:()=>{n("integrations"),e.remove()},children:[a.jsx(lo,{detail:"Automation for your favorite apps",extra:a.jsx("div",{className:"-mb-4 mt-1",children:a.jsx(hd,{keys:[{label:"Admin API key",text:d?.secret,hint:m?a.jsx("div",{className:"text-green",children:"Admin API Key was successfully regenerated"}):void 0,onRegenerate:g},{label:"API URL",text:window.location.origin+rl().subdir}]})}),icon:a.jsx(ut,{name:"zapier",size:56}),title:"Zapier"}),a.jsx(ln,{children:s.map(w=>a.jsx(On,{action:a.jsx(ze,{className:"whitespace-nowrap text-sm font-semibold text-[#FF4A00]",href:w.url,label:"Use this Zap",tag:"a",target:"_blank",link:!0,unstyled:!0}),bgOnHover:!1,className:"flex items-center gap-3 py-2 pl-3",title:a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[a.jsxs("div",{className:"flex shrink-0 flex-nowrap items-center gap-2",children:[a.jsx("img",{className:"size-8 object-contain dark:invert",role:"presentation",src:w.ghostImage}),a.jsx(ut,{name:"arrow-right",size:"xs"}),a.jsx("img",{className:"size-8 object-contain",role:"presentation",src:w.appImage})]}),a.jsx("span",{className:"text-sm",children:w.title})]}),hideActions:!0}))})]})});function rb(e){const n="The URL must be in a format like https://www.threads.net/@yourUsername";if(!e)return"";if(e.startsWith("http")){if(!e.includes("threads.net")&&!e.includes("threads.com"))throw new Error(n);if(e=e.replace("threads.com","threads.net"),e.includes("www.")||(e=e.replace("https://","https://www.")),!Nt.isURL(e))throw new Error(n);if(!e.match(/^https:\/\/www\.threads\.net\/@?[a-zA-Z0-9._]+$/))throw new Error(n);return e}if(!e.includes("/")){if(e.startsWith("@")&&(e=e.slice(1)),!e.match(/^[a-zA-Z0-9._]+$/))throw new Error(n);return`https://www.threads.net/@${e}`}throw new Error(n)}const vM=e=>`https://www.threads.net/${e}`,wM=e=>{const n=e.match(/(?:https:\/\/)(?:www\.)?(?:threads\.(?:com|net))(?:\/)?(?:#!\/)?@?([^/]*)/)?.[1];return n?`@${n}`:null},qs={INVALID_USERNAME:"Your Username is not a valid Bluesky Username",INVALID_URL:"The URL must be in a format like https://bsky.app/profile/yourUsername"};function nb(e){return[/^did:plc:[a-z2-7]{24}$/,/^[a-zA-Z0-9._]{1,15}$/,/^(?=.{1,191}$)[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+$/].some(s=>s.test(e))}function Bf(e){let n=e.trim();return n.startsWith("@")&&(n=n.slice(1)),n.startsWith("did:plc:")?n.toLowerCase():n}function sb(e){if(!e)return"";let n;if(e.startsWith("http")||e.startsWith("www.")||e.includes("bsky.app")){if(!e.includes("bsky.app"))throw new Error(qs.INVALID_URL);const o=e.match(/bsky\.app\/profile\/@?([^/]+)/);if(!o)throw new Error(qs.INVALID_URL);n=Bf(o[1])}else n=Bf(e);if(!nb(n))throw new Error(qs.INVALID_USERNAME);const s=`https://bsky.app/profile/${n}`;if(!Nt.isURL(s))throw new Error(qs.INVALID_URL);return s}const yM=e=>{if(!e)throw new Error(qs.INVALID_USERNAME);let n=Bf(e);if(!nb(n))throw new Error(qs.INVALID_USERNAME);return`https://bsky.app/profile/${n}`},_M=e=>{const n=e.match(/(?:https?:\/\/)?(?:www\.)?bsky\.app\/profile\/@?([^/]*)/);return n?`${n[1]}`:null},es={INVALID_URL:"The URL must be in a format like https://www.linkedin.com/in/yourUsername",INVALID_USERNAME:"Your Username is not a valid LinkedIn Username"},kM=["in","pub","company","school"],MM=/^[a-zA-Z0-9-]{3,100}$/,jM=/^[a-zA-Z0-9-]{3,100}(?:\/[a-zA-Z0-9-]*)*$/,ab=/^(?:https?:\/\/)?(?:www\.)?(?:([a-z]{2})\.)?linkedin\.com\/(in|pub|company|school)\/([^?#]+)/i,Wf=e=>e.trim().replace(/^@/,""),ob=e=>{if(/^(https?:\/\/|www\.)/.test(e)||e.includes("linkedin.com")){const o=e.match(ab);if(!o)throw new Error(es.INVALID_URL);if(o[0].length!==e.length)throw new Error(es.INVALID_USERNAME);const[,c,h,y]=o,m=Wf(y);if(c&&!/^[A-Z]{2}$/.test(c.toUpperCase()))throw new Error(es.INVALID_URL);return{regional:c,pathType:h,username:m}}const n=Wf(e),s=n.indexOf("/");if(s!==-1){const o=n.substring(0,s);if(kM.includes(o))return{pathType:o,username:n.substring(s+1)}}return{username:n}},ib=(e,n)=>(e==="pub"?jM:MM).test(n),lb=({regional:e,pathType:n,username:s})=>{const c=`https://${e?`${e.toLowerCase()}.`:"www."}linkedin.com/${n}/${s}`;if(!Nt.isURL(c))throw new Error(es.INVALID_URL);return c};function cb(e){if(!e)return"";const{regional:n,pathType:s="in",username:o}=ob(e);if(!ib(s,o))throw new Error(es.INVALID_USERNAME);return lb({regional:n,pathType:s,username:o})}const EM=e=>{if(!e)throw new Error(es.INVALID_USERNAME);const{regional:n,pathType:s="in",username:o}=ob(e);if(!ib(s,o))throw new Error(es.INVALID_USERNAME);return lb({regional:n,pathType:s,username:o})},TM=e=>{const n=e.match(ab);if(!n)return null;const[,,s,o]=n,c=Wf(o);return s==="in"?c:`${s}/${c}`};function ub(e){const n="The URL must be in a format like https://www.instagram.com/yourUsername",s="Your Username is not a valid Instagram Username";if(!e)return"";let o;if(e.startsWith("http")||e.startsWith("www.")||e.includes("instagram.com")){if(!e.includes("instagram.com"))throw new Error(n);const h=e.match(/(?:https?:\/\/)?(?:www\.)?instagram\.com\/@?([^/]+)/);if(!h)throw new Error(n);o=h[1]}else o=e.startsWith("@")?e.slice(1):e;if(!o.match(/^[a-zA-Z0-9_][a-zA-Z0-9._]{0,28}[a-zA-Z0-9_]$/)||o.includes("..")||o.length>30)throw new Error(s);const c=`https://www.instagram.com/${o}`;if(!Nt.isURL(c))throw new Error(n);return c}const SM=e=>{const n="Your Username is not a valid Instagram Username";if(!e)throw new Error(n);let s=e;if(s.startsWith("@")&&(s=s.slice(1)),!s.match(/^[a-zA-Z0-9_][a-zA-Z0-9._]{0,28}[a-zA-Z0-9_]$/)||s.includes("..")||s.length>30)throw new Error(n);return`https://www.instagram.com/${s}`},NM=e=>{const n=e.match(/(?:https?:\/\/)?(?:www\.)?instagram\.com\/@?([^/]*)/);return n?`${n[1]}`:null};function fb(e){const n="The URL must be in a format like https://www.youtube.com/@yourUsername, https://www.youtube.com/user/yourUsername, or https://www.youtube.com/channel/yourChannelId",s="Your Username is not a valid YouTube Username";if(!e)return"";let o;if(e.startsWith("http")||e.startsWith("www.")||e.includes("youtube.com")){if(!e.includes("youtube.com"))throw new Error(n);const h=e.match(/(?:https?:\/\/)?(?:www\.)?youtube\.com\/((?:@|user\/|channel\/)[^/]+)/);if(!h)throw new Error(n);o=h[1]}else o=e;if(o.startsWith("@")){const h=o.slice(1);if(!h.match(/^[a-zA-Z0-9][a-zA-Z0-9._-]{1,28}[a-zA-Z0-9]$/)||h.includes("..")||h.length>30)throw new Error(s)}else if(o.startsWith("user/")){if(!o.slice(5).match(/^[a-zA-Z0-9._-]{1,50}$/))throw new Error(s)}else if(o.startsWith("channel/")){if(!o.slice(8).match(/^UC[a-zA-Z0-9_-]{22}$/))throw new Error(s)}else throw new Error(n);const c=`https://www.youtube.com/${o}`;if(!Nt.isURL(c))throw new Error(n);return c}const AM=e=>{const n="Your Username is not a valid YouTube Username";if(!e)throw new Error(n);if(e.startsWith("@")){const s=e.slice(1);if(!s.match(/^[a-zA-Z0-9][a-zA-Z0-9._-]{1,28}[a-zA-Z0-9]$/)||s.includes("..")||s.length>30)throw new Error(n)}else if(e.startsWith("user/")){if(!e.slice(5).match(/^[a-zA-Z0-9._-]{1,50}$/))throw new Error(n)}else if(e.startsWith("channel/")){if(!e.slice(8).match(/^UC[a-zA-Z0-9_-]{22}$/))throw new Error(n)}else throw new Error("The handle must be in a format like @yourUsername, user/yourUsername, or channel/yourChannelId");return`https://www.youtube.com/${e}`},IM=e=>{const n=e.match(/(?:https?:\/\/)?(?:www\.)?youtube\.com\/((?:@|user\/|channel\/)[^/]*)/);return n?n[1]:null};function db(e){const n="The URL must be in a format like https://www.tiktok.com/@yourUsername",s="Your Username is not a valid TikTok Username";if(!e)return"";let o;if(e.startsWith("http")||e.startsWith("www.")||e.includes("tiktok.com")){if(!e.includes("tiktok.com"))throw new Error(n);const y=e.match(/(?:https?:\/\/)?(?:www\.)?tiktok\.com\/(@[^/]+)/);if(!y)throw new Error(n);o=y[1]}else o=e.startsWith("@")?e:`@${e}`;const c=o.slice(1);if(!c.match(/^[a-zA-Z0-9_][a-zA-Z0-9._]{0,22}[a-zA-Z0-9_]$/)||c.includes("..")||c.length<2||c.length>24)throw new Error(s);const h=`https://www.tiktok.com/${o}`;if(!Nt.isURL(h))throw new Error(n);return h}const CM=e=>{const n="Your Username is not a valid TikTok Username";if(!e)throw new Error(n);const s=e.startsWith("@")?e:`@${e}`,o=s.slice(1);if(!o.match(/^[a-zA-Z0-9_][a-zA-Z0-9._]{0,22}[a-zA-Z0-9_]$/)||o.includes("..")||o.length<2||o.length>24)throw new Error(n);return`https://www.tiktok.com/${s}`},DM=e=>{const n=e.match(/(?:https?:\/\/)?(?:www\.)?tiktok\.com\/(@[^/]*)/);return n?n[1]:null};function pb(e){const n="The URL must be in a format like @username@instance.tld or https://instance.tld/@username or https://website.com/@username@instance.tld";if(!e)return"";let s=e;if(s=s.replace(/^https?:\/\//,""),s.match(/^@[^@]+@[^/]+$/)){const[o,c]=s.split("@").slice(1);if(!Nt.isFQDN(c))throw new Error(n);return`https://${c}/@${o}`}if(s.match(/^[^/]+\.[^/]+\/@[^/]+(@[^/]+)?$/)){const[o,c]=s.split("/@");if(!Nt.isFQDN(o))throw new Error(n);if(c.includes("@")){const[,h]=c.split("@");if(!Nt.isFQDN(h))throw new Error(n)}return`https://${s}`}throw new Error(n)}const RM=e=>{const n="Your Username is not a valid Mastodon Username";if(!e)throw new Error(n);if(e.match(/^@[^@]+@[^/]+$/)){const[s,o]=e.split("@").slice(1);if(!Nt.isFQDN(o))throw new Error(n);return`https://${o}/@${s}`}if(e.match(/^[^/]+\.[^/]+\/@[^/]+(@[^/]+)?$/)){const[s,o]=e.split("/@");if(!Nt.isFQDN(s))throw new Error(n);if(o.includes("@")){const[,c]=o.split("@");if(!Nt.isFQDN(c))throw new Error(n)}return`https://${e}`}throw new Error(n)},OM=e=>e.replace(/^https?:\/\//,""),$M=({tier:e})=>{const n=e?.type==="free",{updateRoute:s}=Je(),{mutateAsync:o}=Qf(),{mutateAsync:c}=I_(),{mutateAsync:h}=as(),[y,m]=st.useState(!!e?.trial_days),l=it(),{localSettings:f,siteData:u}=os(),[d]=bt(f,["portal_plans"]),g=JSON.parse(d?.toString()||"[]"),w={name:()=>_.name?void 0:"Enter a name for the tier",monthly_price:()=>_.type!=="free"?ih(_.monthly_price||0,_.currency,{allowZero:!1}):void 0,yearly_price:()=>_.type!=="free"?ih(_.yearly_price||0,_.currency,{allowZero:!1}):void 0},{formState:_,saveState:k,updateForm:M,handleSave:T,errors:A,clearError:C,okProps:R}=kr({initialState:{...e||{},trial_days:e?.trial_days?.toString()||"",currency:e?.currency||C_[0].isoCode,visibility:e?.visibility||"none",welcome_page_url:e?.welcome_page_url||null},savingDelay:500,savedDelay:500,onValidate:()=>{const G={};return Object.entries(w).forEach(([W,q])=>{G[W]=q?.()}),G},onSave:async()=>{const{trial_days:G,currency:W,...q}=_,se=q;if(se.benefits=se.benefits?.filter(ee=>ee),n||(se.currency=W,se.trial_days=parseInt(G)),e?.id?await o({...e,...se}):await c(se),n){const ee=_.visibility==="public";let re=!1;g.includes("free")&&!ee&&(g.splice(g.indexOf("free"),1),re=!0),!g.includes("free")&&ee&&(g.push("free"),re=!0),re&&await h([{key:"portal_plans",value:JSON.stringify(g)}])}},onSaveError:l}),$=eb({items:_.benefits||[],setItems:G=>M(W=>({...W,benefits:G})),blank:"",canAddNewItem:G=>!!G}),B=G=>{G.target.checked?(m(!0),M(W=>({...W,trial_days:e?.trial_days?e?.trial_days.toString():"7"}))):(m(!1),M(W=>({...W,trial_days:"0"})))},O=D.useRef(!1);D.useEffect(()=>{O.current&&(w.monthly_price?.(),w.yearly_price?.()),O.current=!0},[_.currency]);const Z=()=>{if(e){const G=e.active?"Archive tier":"Reactivate tier",W=e.active?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:["Members will no longer be able to subscribe to ",a.jsx("strong",{children:e.name})," and it will be removed from the list of available tiers in portal."]}),a.jsx("div",{children:"Existing members on this tier will remain unchanged. Offers using this tier will be disabled."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:["Reactivating ",a.jsx("strong",{children:e.name})," will re-enable it as an option in portal and allow new members to subscribe to this tier."]}),a.jsx("div",{children:"Existing members will remain unchanged."})]}),q=e.active?"Archive":"Reactivate";ke.show(St,{title:G,prompt:W,okLabel:q,cancelLabel:"Cancel",okColor:e.active?"red":"black",onOk:se=>{o({...e,active:!e.active}),se?.remove(),gt({type:"success",title:`Tier ${e.active?"archived":"reactivated"}`})}})}};let X={};return e&&(e.active&&e.type!=="free"?X={label:"Archive tier",color:"red",link:!0,onClick:Z}:e.active||(X={label:"Reactivate tier",color:"green",link:!0,onClick:Z})),a.jsx(_t,{afterClose:()=>{s("tiers")},buttonsDisabled:R.disabled,cancelLabel:"Close",dirty:k==="unsaved",leftButtonProps:X,okColor:R.color,okLabel:R.label||"Save",size:"lg",testId:"tier-detail-modal",title:e?e.active?"Edit tier":"Edit archived tier":"New tier",stickyFooter:!0,onOk:async()=>{await T({fakeWhenUnchanged:!0})},children:a.jsxs("div",{className:"-mb-8 mt-8 flex items-start gap-8",children:[a.jsxs("div",{className:"flex grow flex-col gap-8",children:[a.jsxs(rt,{marginBottom:!1,title:"Basic",grouped:!0,children:[a.jsx(Ae,{autoComplete:"off",error:!!A.name,hint:A.name,maxLength:191,placeholder:n?"Free":"Bronze",title:"Name",value:_.name||"",autoFocus:!0,onChange:G=>M(W=>({...W,name:G.target.value})),onKeyDown:()=>C("name")}),a.jsx(Ae,{autoComplete:"off",autoFocus:n,maxLength:191,placeholder:n?"Free preview":"Full access to premium content",title:"Description",value:_.description||"",onChange:G=>M(W=>({...W,description:G.target.value}))}),!n&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"flex flex-col gap-10 md:flex-row",children:[a.jsxs("div",{className:"basis-1/2",children:[a.jsxs("div",{className:"mb-1 flex h-6 items-center justify-between",children:[a.jsx(xt,{level:6,children:"Prices"}),a.jsx("div",{className:"-mr-2 w-[50px]",children:a.jsx(Pt,{border:!1,containerClassName:"font-medium",controlClasses:{menu:"w-18"},options:lh(),selectedOption:lh().flatMap(G=>G.options).find(G=>G.value===_.currency),size:"xs",clearBg:!0,isSearchable:!0,onSelect:G=>M(W=>({...W,currency:G?.value}))})})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx(ch,{error:!!A.monthly_price,hint:A.monthly_price,placeholder:"5",rightPlaceholder:`${_.currency}/month`,title:"Monthly price",valueInCents:_.monthly_price||"",hideTitle:!0,onBlur:G=>G.target.value===""?M(W=>({...W,monthly_price:0})):null,onChange:G=>M(W=>({...W,monthly_price:G})),onKeyDown:()=>C("monthly_price")}),a.jsx(ch,{error:!!A.yearly_price,hint:A.yearly_price,placeholder:"50",rightPlaceholder:`${_.currency}/year`,title:"Yearly price",valueInCents:_.yearly_price||"",hideTitle:!0,onBlur:G=>G.target.value===""?M(W=>({...W,yearly_price:0})):null,onChange:G=>M(W=>({...W,yearly_price:G})),onKeyDown:()=>C("yearly_price")})]})]}),a.jsxs("div",{className:"basis-1/2",children:[a.jsx("div",{className:"mb-1 flex h-6 flex-col justify-center",children:a.jsx(ot,{checked:y,label:"Add a free trial",labelStyle:"heading",onChange:B})}),a.jsx(Ae,{disabled:!y,hint:a.jsxs("div",{className:"mt-1",children:["Members will be subscribed at full price once the trial ends. ",a.jsx("a",{className:"text-green",href:"https://ghost.org/help/free-trials/",rel:"noreferrer",target:"_blank",children:"Learn more"})]}),placeholder:"0",rightPlaceholder:"days",title:"Trial days",value:_.trial_days,hideTitle:!0,onChange:G=>M(W=>({...W,trial_days:G.target.value.replace(/[^\d]/,"")}))})]})]})}),a.jsx(qg,{baseUrl:u?.url,hint:`Redirect to this URL after signup ${n?"":" for premium membership"}`,maxLength:2e3,placeholder:u?.url,title:"Welcome page",value:_.welcome_page_url||null,nullable:!0,transformPathWithoutSlash:!0,onChange:G=>M(W=>({...W,welcome_page_url:G||null}))})]}),a.jsxs(rt,{gap:"none",title:"Benefits",grouped:!0,children:[a.jsx("div",{className:"-mt-3",children:a.jsx(Yg,{items:$.items,itemSeparator:!1,renderItem:({id:G,item:W})=>a.jsxs("div",{className:"relative flex w-full items-center gap-5",children:[a.jsx("div",{className:"absolute left-[-32px] top-[7px] flex size-6 items-center justify-center bg-white group-hover:hidden dark:bg-black",children:a.jsx(ut,{name:"check",size:"sm"})}),a.jsx(Ae,{maxLength:191,value:W,onChange:q=>$.updateItem(G,q.target.value)}),a.jsx(ze,{className:"absolute right-1 top-1 z-10 opacity-0 group-hover:opacity-100",color:"grey",icon:"trash",size:"sm",onClick:()=>$.removeItem(G)})]}),onMove:$.moveItem})}),a.jsxs("div",{className:"relative mt-1 flex items-center gap-3",children:[a.jsx(ut,{className:"dark:text-white",name:"check",size:"sm"}),a.jsx(Ae,{className:"grow",containerClassName:"w-100",maxLength:191,placeholder:"Expert analysis",title:"New benefit",value:$.newItem,hideTitle:!0,onChange:G=>$.setNewItem(G.target.value),onKeyDown:G=>{G.key==="Enter"&&$.addItem()}}),a.jsx(ze,{className:"absolute right-[5px] top-[5px] z-10",color:"green",icon:"add",iconColorClass:"text-white",label:"Add",size:"sm",hideLabel:!0,onClick:()=>$.addItem()})]})]})]}),a.jsx("div",{className:"sticky top-[96px] hidden shrink-0 basis-[380px] min-[920px]:!visible min-[920px]:!block",children:a.jsx(D_,{isFreeTier:n,tier:_})})]})})},PM=({params:e})=>{const{data:{tiers:n,isEnd:s}={},fetchNextPage:o}=oo();let c;return D.useEffect(()=>{e?.id&&!c&&!s&&o()},[o,s,e?.id,c]),e?.id&&(c=n?.find(({id:h})=>h===e?.id),!c)?null:a.jsx($M,{tier:c})},LM=ke.create(PM);var lu,Hh;function hb(){if(Hh)return lu;Hh=1;var e={};return lu=typeof process=="object"&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...s)=>console.error("SEMVER",...s):()=>{},lu}var cu,Bh;function mb(){if(Bh)return cu;Bh=1;const e="2.0.0",n=256,s=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,c=n-6;return cu={MAX_LENGTH:n,MAX_SAFE_COMPONENT_LENGTH:o,MAX_SAFE_BUILD_LENGTH:c,MAX_SAFE_INTEGER:s,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},cu}var Li={exports:{}},Wh;function FM(){return Wh||(Wh=1,(function(e,n){const{MAX_SAFE_COMPONENT_LENGTH:s,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:c}=mb(),h=hb();n=e.exports={};const y=n.re=[],m=n.safeRe=[],l=n.src=[],f=n.safeSrc=[],u=n.t={};let d=0;const g="[a-zA-Z0-9-]",w=[["\\s",1],["\\d",c],[g,o]],_=M=>{for(const[T,A]of w)M=M.split(`${T}*`).join(`${T}{0,${A}}`).split(`${T}+`).join(`${T}{1,${A}}`);return M},k=(M,T,A)=>{const C=_(T),R=d++;h(M,R,T),u[M]=R,l[R]=T,f[R]=C,y[R]=new RegExp(T,A?"g":void 0),m[R]=new RegExp(C,A?"g":void 0)};k("NUMERICIDENTIFIER","0|[1-9]\\d*"),k("NUMERICIDENTIFIERLOOSE","\\d+"),k("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${g}*`),k("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),k("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),k("PRERELEASEIDENTIFIER",`(?:${l[u.NONNUMERICIDENTIFIER]}|${l[u.NUMERICIDENTIFIER]})`),k("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NONNUMERICIDENTIFIER]}|${l[u.NUMERICIDENTIFIERLOOSE]})`),k("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),k("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),k("BUILDIDENTIFIER",`${g}+`),k("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),k("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),k("FULL",`^${l[u.FULLPLAIN]}$`),k("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),k("LOOSE",`^${l[u.LOOSEPLAIN]}$`),k("GTLT","((?:<|>)?=?)"),k("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),k("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),k("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),k("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),k("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),k("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),k("COERCEPLAIN",`(^|[^\\d])(\\d{1,${s}})(?:\\.(\\d{1,${s}}))?(?:\\.(\\d{1,${s}}))?`),k("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),k("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?(?:${l[u.BUILD]})?(?:$|[^\\d])`),k("COERCERTL",l[u.COERCE],!0),k("COERCERTLFULL",l[u.COERCEFULL],!0),k("LONETILDE","(?:~>?)"),k("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),n.tildeTrimReplace="$1~",k("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),k("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),k("LONECARET","(?:\\^)"),k("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),n.caretTrimReplace="$1^",k("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),k("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),k("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),k("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),k("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),n.comparatorTrimReplace="$1$2$3",k("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),k("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),k("STAR","(<|>)?=?\\s*\\*"),k("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),k("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Li,Li.exports)),Li.exports}var uu,qh;function zM(){if(qh)return uu;qh=1;const e=Object.freeze({loose:!0}),n=Object.freeze({});return uu=o=>o?typeof o!="object"?e:o:n,uu}var fu,Yh;function UM(){if(Yh)return fu;Yh=1;const e=/^[0-9]+$/,n=(o,c)=>{if(typeof o=="number"&&typeof c=="number")return o===c?0:o<c?-1:1;const h=e.test(o),y=e.test(c);return h&&y&&(o=+o,c=+c),o===c?0:h&&!y?-1:y&&!h?1:o<c?-1:1};return fu={compareIdentifiers:n,rcompareIdentifiers:(o,c)=>n(c,o)},fu}var du,Gh;function HM(){if(Gh)return du;Gh=1;const e=hb(),{MAX_LENGTH:n,MAX_SAFE_INTEGER:s}=mb(),{safeRe:o,t:c}=FM(),h=zM(),{compareIdentifiers:y}=UM();class m{constructor(f,u){if(u=h(u),f instanceof m){if(f.loose===!!u.loose&&f.includePrerelease===!!u.includePrerelease)return f;f=f.version}else if(typeof f!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof f}".`);if(f.length>n)throw new TypeError(`version is longer than ${n} characters`);e("SemVer",f,u),this.options=u,this.loose=!!u.loose,this.includePrerelease=!!u.includePrerelease;const d=f.trim().match(u.loose?o[c.LOOSE]:o[c.FULL]);if(!d)throw new TypeError(`Invalid Version: ${f}`);if(this.raw=f,this.major=+d[1],this.minor=+d[2],this.patch=+d[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");d[4]?this.prerelease=d[4].split(".").map(g=>{if(/^[0-9]+$/.test(g)){const w=+g;if(w>=0&&w<s)return w}return g}):this.prerelease=[],this.build=d[5]?d[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(f){if(e("SemVer.compare",this.version,this.options,f),!(f instanceof m)){if(typeof f=="string"&&f===this.version)return 0;f=new m(f,this.options)}return f.version===this.version?0:this.compareMain(f)||this.comparePre(f)}compareMain(f){return f instanceof m||(f=new m(f,this.options)),this.major<f.major?-1:this.major>f.major?1:this.minor<f.minor?-1:this.minor>f.minor?1:this.patch<f.patch?-1:this.patch>f.patch?1:0}comparePre(f){if(f instanceof m||(f=new m(f,this.options)),this.prerelease.length&&!f.prerelease.length)return-1;if(!this.prerelease.length&&f.prerelease.length)return 1;if(!this.prerelease.length&&!f.prerelease.length)return 0;let u=0;do{const d=this.prerelease[u],g=f.prerelease[u];if(e("prerelease compare",u,d,g),d===void 0&&g===void 0)return 0;if(g===void 0)return 1;if(d===void 0)return-1;if(d===g)continue;return y(d,g)}while(++u)}compareBuild(f){f instanceof m||(f=new m(f,this.options));let u=0;do{const d=this.build[u],g=f.build[u];if(e("build compare",u,d,g),d===void 0&&g===void 0)return 0;if(g===void 0)return 1;if(d===void 0)return-1;if(d===g)continue;return y(d,g)}while(++u)}inc(f,u,d){if(f.startsWith("pre")){if(!u&&d===!1)throw new Error("invalid increment argument: identifier is empty");if(u){const g=`-${u}`.match(this.options.loose?o[c.PRERELEASELOOSE]:o[c.PRERELEASE]);if(!g||g[1]!==u)throw new Error(`invalid identifier: ${u}`)}}switch(f){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",u,d);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",u,d);break;case"prepatch":this.prerelease.length=0,this.inc("patch",u,d),this.inc("pre",u,d);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",u,d),this.inc("pre",u,d);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const g=Number(d)?1:0;if(this.prerelease.length===0)this.prerelease=[g];else{let w=this.prerelease.length;for(;--w>=0;)typeof this.prerelease[w]=="number"&&(this.prerelease[w]++,w=-2);if(w===-1){if(u===this.prerelease.join(".")&&d===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(g)}}if(u){let w=[u,g];d===!1&&(w=[u]),y(this.prerelease[0],u)===0?isNaN(this.prerelease[1])&&(this.prerelease=w):this.prerelease=w}break}default:throw new Error(`invalid increment argument: ${f}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return du=m,du}var pu,Xh;function BM(){if(Xh)return pu;Xh=1;const e=HM();return pu=(s,o,c=!1)=>{if(s instanceof e)return s;try{return new e(s,o)}catch(h){if(!c)return null;throw h}},pu}var WM=BM();const qM=Gg(WM);function Kh(e){if(!e)return"";const n=e.replace("+moya","");try{const o=qM(n,{includePrerelease:!0})?.prerelease;if(o&&o?.length>0){const h=String(o[0]).split("-")[1];return!h||!h.startsWith("g")?"":`https://github.com/TryGhost/Ghost/commit/${h.slice(1)}`}return`https://github.com/TryGhost/Ghost/releases/tag/v${n}`}catch{return""}}function YM(e,n){const s=!!e.match?.(/production/i);return!!(s&&n!=="mysql8"||!s&&n==="mysql5")}const GM=ke.create(({})=>{const{updateRoute:e}=Je();let s=et().config;const o=R_();function c(){return new Date().getFullYear()}function h(){return!!s.enableDeveloperExperiments}function y(){return!s.hostSettings?.siteId}return a.jsx(_t,{afterClose:()=>{e("")},cancelLabel:"",footer:a.jsx(a.Fragment,{}),topRightContent:"close",width:540,children:a.jsxs("div",{className:"flex flex-col gap-4 pb-7 text-sm",children:[a.jsx(O_,{className:"h-auto w-[120px] dark:invert"}),a.jsxs("div",{className:"mt-3 flex flex-col gap-1.5",children:[o?.message&&a.jsxs("div",{className:"gh-prose-links mb-4 rounded-sm border border-green p-5",children:[a.jsx("strong",{children:"Update available!"}),a.jsx("div",{dangerouslySetInnerHTML:{__html:o.message}})]}),Kh(s.version)&&a.jsxs("div",{children:[a.jsx("strong",{children:"Version:"})," ",a.jsx("a",{className:"text-green",href:Kh(s.version),rel:"noopener noreferrer",target:"_blank",children:s.version})]})||a.jsxs("div",{children:[a.jsx("strong",{children:"Version:"})," ",s.version]}),y()&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Environment:"})," ",s.environment]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Database:"})," ",s.database]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Mail:"})," ",s.mail?s.mail:"Native"]})]}),h()&&a.jsxs("div",{children:[a.jsx("strong",{children:"Developer experiments:"})," Enabled"]}),y()&&YM(s.environment,s.database)&&a.jsxs("div",{className:"text-red-500 dark:text-red-400",children:["You are running an unsupported database in production. Please ",a.jsx("a",{href:"https://ghost.org/docs/faq/supported-databases/",rel:"noopener noreferrer",target:"_blank",children:"upgrade to MySQL 8"}),"."]})]}),a.jsx(Qa,{}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsxs("a",{className:"flex items-center gap-2 hover:text-grey-900 dark:hover:text-grey-400",href:"https://ghost.org/docs/",rel:"noopener noreferrer",target:"_blank",children:[a.jsx(ut,{name:"book-open",size:"sm"})," User documentation"]}),a.jsxs("a",{className:"flex items-center gap-2 hover:text-grey-900 dark:hover:text-grey-400",href:"https://forum.ghost.org/",rel:"noopener noreferrer",target:"_blank",children:[a.jsx(ut,{name:"question-circle",size:"sm"})," Get help with Ghost"]}),a.jsxs("a",{className:"flex items-center gap-2 hover:text-grey-900 dark:hover:text-grey-400",href:"https://ghost.org/docs/contributing/",rel:"noopener noreferrer",target:"_blank",children:[a.jsx(ut,{name:"angle-brackets",size:"sm"})," Get involved"]})]}),a.jsx(Qa,{}),a.jsxs("p",{className:"max-w-[460px] text-xs",children:["Copyright  2013  ",c()," Ghost Foundation, released under the ",a.jsx("a",{className:"text-green",href:"https://github.com/TryGhost/Ghost/blob/main/LICENSE",rel:"noopener noreferrer",target:"_blank",children:"MIT license"}),". ",a.jsx("a",{className:"text-green",href:"https://ghost.org/",rel:"noopener noreferrer",target:"_blank",children:"Ghost"})," is a registered trademark of ",a.jsx("a",{className:"text-green",href:"https://ghost.org/trademark/",rel:"noopener noreferrer",target:"_blank",children:"Ghost Foundation Ltd"}),"."]})]})})}),XM=()=>{const e=Zt(),{updateRoute:n}=Je(),[s,o]=D.useState(""),[c,h]=D.useState({name:""}),{mutateAsync:y}=$_(),m=Xs(),l=it();return D.useEffect(()=>{m?.isLimited("customIntegrations")&&m.errorIfWouldGoOverLimit("customIntegrations").catch(f=>{f instanceof Ks&&(ke.show(Xr,{prompt:f.message||"Your current plan doesn't support more custom integrations.",onOk:()=>n({route:"/pro",isExternal:!0})}),e.remove(),n("integrations"))})},[m,e,n]),a.jsx(_t,{afterClose:()=>{n("integrations")},okColor:"black",okLabel:"Add",size:"sm",testId:"add-integration-modal",title:"Add integration",onOk:async()=>{if(!s){h({name:"Name is required"});return}try{const f=await y({name:s});e.remove(),n({route:`integrations/${f.integrations[0].id}`})}catch(f){l(f)}},children:a.jsx("div",{className:"mt-5",children:a.jsx(rt,{marginBottom:!1,marginTop:!1,children:a.jsx(Ae,{autoFocus:!0,error:!!c.name,hint:c.name,maxLength:191,placeholder:"Custom integration",title:"Name",value:s,onChange:f=>o(f.target.value),onInput:()=>{c.name&&h({name:""})}})})})})},KM=ke.create(XM),ZM=()=>{const e=Zt(),{updateRoute:n}=Je(),s=it(),[o,c]=D.useState(!0),[h,y]=D.useState(null),{data:m}=Xg({searchParams:{filter:"newsletters.status:active+email_disabled:0",limit:"1",page:"1",include:"newsletters,labels"}}),{mutateAsync:l}=P_(),{formState:f,updateForm:u,saveState:d,handleSave:g,errors:w,clearError:_}=kr({initialState:{name:"",description:"",optInExistingSubscribers:!0},onSave:async()=>{const T=await l({name:f.name,description:f.description,opt_in_existing:f.optInExistingSubscribers,feedback_enabled:!0});n({route:`newsletters/${T.newsletters[0].id}`})},onSaveError:s,onValidate:()=>{const T={};return f.name||(T.name="A name is required for your newsletter"),T}}),k=Xs();D.useEffect(()=>{if(!k){c(!1);return}k.errorIfWouldGoOverLimit("newsletters").catch(T=>{if(T instanceof Ks)y(T);else throw T}).finally(()=>{c(!1)})},[k]);const M=m?.meta?.pagination.total;return D.useEffect(()=>{h&&(ke.show(Xr,{prompt:h.message||"Your current plan doesn't support more newsletters.",onOk:()=>n({route:"/pro",isExternal:!0})}),e.remove(),n("newsletters"))},[h,e,n]),o||h?null:a.jsx(_t,{afterClose:()=>{n("newsletters")},backDropClick:!1,okColor:"black",okDisabled:d==="saving",okLabel:"Create",okLoading:d==="saving",size:"sm",testId:"add-newsletter-modal",title:"Create newsletter",onOk:async()=>{await g()&&e.remove()},children:a.jsxs(rt,{marginBottom:!1,marginTop:!0,children:[a.jsx(Ae,{autoFocus:!0,error:!!w.name,hint:w.name,maxLength:191,placeholder:"Weekly roundup",title:"Name",value:f.name,onChange:T=>u(A=>({...A,name:T.target.value})),onKeyDown:()=>_("name")}),a.jsx($n,{maxLength:2e3,title:"Description",value:f.description,onChange:T=>u(A=>({...A,description:T.target.value}))}),a.jsx(ot,{checked:f.optInExistingSubscribers,direction:"rtl",hint:f.optInExistingSubscribers?`This newsletter will be available to all members. Your ${M===void 0?"":Kg(M)} existing subscriber${m?.meta?.pagination.total===1?"":"s"} will also be opted-in to receive it.`:"The newsletter will be available to all new members. Existing members wont be subscribed, but may visit their account area to opt-in to future emails.",label:"Opt-in existing subscribers",labelStyle:"heading",onChange:T=>u(A=>({...A,optInExistingSubscribers:T.target.checked}))})]})})},VM=ke.create(ZM),QM=({recommendation:e,animate:n})=>{const s=Zt(),{updateRoute:o,route:c}=Je(),{mutateAsync:h}=L_(),y=it(),{formState:m,updateForm:l,handleSave:f,saveState:u,errors:d,clearError:g,setErrors:w}=kr({initialState:{...e},onSave:async T=>{await h(T),s.remove(),gt({title:"Recommendation added",type:"success"}),z_("Recommendation Added",{oneClickSubscribe:T.one_click_subscribe}),o("recommendations")},onSaveError:y,onValidate:T=>F_(T)});let _="Add",k=!1;u==="saving"?k=!0:u==="saved"&&(_="Added");let M={label:"Back",icon:"arrow-left",iconColorClass:"text-black dark:text-white",link:!0,size:"sm",onClick:()=>{u!=="saving"&&(s.remove(),ke.show(gb,{pathName:c,animate:!1,recommendation:{...m}}))}};return a.jsx(_t,{afterClose:()=>{o("recommendations")},animate:n??!0,backDropClick:!1,cancelLabel:"Cancel",dirty:!0,leftButtonProps:M,okColor:"black",okLabel:_,okLoading:k,size:"sm",testId:"add-recommendation-modal",title:"Add recommendation",stickyFooter:!0,onCancel:()=>{u!=="saving"&&(s.remove(),o("recommendations"))},onOk:async()=>{if(u!=="saving"){Zg();try{await f({force:!0})}catch{gt({type:"error",title:"Something went wrong when adding this recommendation, please try again."})}}},children:a.jsx(U_,{clearError:g,errors:d,formState:m,setErrors:w,showURL:!1,updateForm:l})})},JM=ke.create(QM),Zh=e=>qi(e).save||"",ej=function(e,n){try{new URL(n).hostname.includes(".")?delete e.url:e.url="Enter a valid URL"}catch{e.url="Enter a valid URL"}return e},tj=({searchParams:e,recommendation:n,animate:s})=>{const[o,c]=D.useState(!1),h=Zt(),{updateRoute:y}=Je(),{mutateAsync:m}=H_(),l=n?"":e?.get("url")??"",{save:f}=l?qi(l):{save:""},u=st.useRef(!1),[d,g]=st.useState(!!f),{formState:w,updateForm:_,handleSave:k,errors:M,saveState:T,clearError:A}=kr({initialState:n??{title:"",url:f||"",description:"",excerpt:null,featured_image:null,favicon:null,one_click_subscribe:!1},onSave:async()=>{let R;R=new URL(w.url);const $=R.hostname.replace("www.",""),B={...w,url:R.toString()},{recommendations:O=[]}=await m(R);if(!O||O.length===0)return;const Z=O[0];if(Z.id)throw new uh("A recommendation with this URL already exists.");B.title=Z.title??$,B.excerpt=Z.excerpt??B.excerpt,B.featured_image=Z.featured_image??B.featured_image??null,B.favicon=Z.favicon??B.favicon??null,B.one_click_subscribe=Z.one_click_subscribe??B.one_click_subscribe??!1,B.description=B.excerpt||null,h.remove(),ke.show(JM,{animate:!1,recommendation:B})},onValidate:()=>{const R={};return ej(R,w.url),d&&g(Object.keys(R).length===0),R}}),C=st.useCallback(async()=>{if(T!=="saving"){Zg();try{if(await k({force:!0}))return}catch(R){const $=R instanceof uh?R.message:"Something went wrong while checking this URL, please try again.";gt({type:"error",title:$})}d&&g(!1)}},[k,T,d,g]);return st.useEffect(()=>{d&&!u.current&&(u.current=!0,C())},[d,C]),D.useEffect(()=>{o&&(C(),c(!1))},[w]),d?a.jsx(_t,{afterClose:()=>{y("recommendations")},animate:s??!0,backDropClick:!1,footer:!1,header:!1,size:"sm",children:a.jsx("div",{className:"flex flex-col items-center justify-center p-8",children:a.jsx(Yi,{})})}):a.jsxs(_t,{afterClose:()=>{y("recommendations")},animate:s??!0,backDropClick:!1,okColor:"black",okLabel:"Next",okLoading:T==="saving",size:"sm",testId:"add-recommendation-modal",title:"Add recommendation",onOk:C,children:[a.jsxs("p",{className:"mt-4",children:["You can recommend ",a.jsx("strong",{children:"any site"})," your audience will find valuable, not just those published on Ghost."]}),a.jsx(rt,{marginBottom:!1,marginTop:!0,children:a.jsx(Ae,{autoFocus:!0,error:!!M.url,hint:M.url||a.jsxs(a.Fragment,{children:["Need inspiration? ",a.jsx("a",{className:"text-green",href:"https://www.ghost.org/explore",rel:"noopener noreferrer",target:"_blank",children:"Explore thousands of sites"})," to recommend"]}),maxLength:2e3,placeholder:"https://www.example.com",title:"URL",value:w.url,onBlur:()=>{const R=Zh(w.url);_($=>({...$,url:R}))},onChange:R=>{A?.("url"),_($=>({...$,url:R.target.value}))},onKeyDown:R=>{R.key==="Enter"&&(R.preventDefault(),_($=>({...$,url:Zh(w.url)})),c(!0))}})})]})},gb=ke.create(tj);function rj(e,n){let s;return function(...c){const h=()=>{clearTimeout(s),e(...c)};clearTimeout(s),s=setTimeout(h,n)}}const md=({generateContent:e,className:n,height:s,width:o,parentClassName:c,testId:h,addDelay:y=!1})=>{const[m,l]=D.useState(0),f=[D.useRef(null),D.useRef(null)],[u,d]=D.useState(0);return D.useEffect(()=>{const g=m===0?1:0,w=f[g].current;if(w){e(w);const _=()=>{y?setTimeout(()=>{l(g)},500):l(g)};return w.addEventListener("load",_),()=>{w.removeEventListener("load",_)}}},[e]),D.useEffect(()=>{const g=f[m].current,w=rj(()=>{d(g?.contentWindow?.scrollY||0)},250);return g?.contentWindow?.addEventListener("scroll",w),()=>{g?.contentWindow?.removeEventListener("scroll",w)}},[m,f]),D.useEffect(()=>{const g=f[m].current;if(g)try{g.contentWindow?.scrollTo(0,u)}catch(w){B_(w)}},[u,m,f]),a.jsxs("div",{className:c,"data-testid":h,children:[a.jsx("iframe",{ref:f[0],className:`${n} ${m!==0?"z-10 opacity-0":"z-20 opacity-100"}`,"data-visible":m===0,frameBorder:"0",height:s,title:"Buffered Preview 1",width:o}),a.jsx("iframe",{ref:f[1],className:`${n} ${m!==1?"z-10 opacity-0":"z-20 opacity-100"}`,"data-visible":m===1,frameBorder:"0",height:s,title:"Buffered Preview 2",width:o})]})},nj=(e,n,s)=>{const o=new URLSearchParams;return o.append("announcement_bg",e||"accent"),o.append("announcement",n||""),s&&s.length>0&&o.append("announcement_vis",s?.join(",")||""),o.toString()},sj=({announcementBackgroundColor:e,announcementContent:n,url:s,visibility:o})=>{const c=D.useMemo(()=>o,[o?.join(",")]),h=D.useCallback(y=>{s&&fetch(s,{method:"POST",headers:{"Content-Type":"text/html;charset=utf-8","x-ghost-preview":nj(e,n,c),Accept:"text/plain"},mode:"cors",credentials:"include"}).then(m=>m.text()).then(m=>{const l="html { pointer-events: none; }",u=new DOMParser().parseFromString(m,"text/html"),d=u.querySelector("style"),g=d.innerHTML;d.innerHTML=`${g}

${l}`;let _=(u.doctype?new XMLSerializer().serializeToString(u.doctype):"")+u.documentElement.outerHTML;y.contentDocument?.open(),y.contentDocument?.write(_),y.contentDocument?.close()}).catch(()=>{})},[e,n,s,c]);return a.jsx(md,{addDelay:!0,className:"absolute size-[110%] origin-top-left scale-[.90909] bg-white max-[1600px]:size-[130%] max-[1600px]:scale-[.76923]",generateContent:h,height:"100%",parentClassName:"relative h-full w-full",testId:"announcement-bar-preview-iframe",width:"100%"})},aj=({announcementContent:e,announcementTextHandler:n,accentColor:s,announcementBackgroundColor:o,toggleColorSwatch:c,toggleVisibility:h,visibility:y=[],paidMembersEnabled:m,onBlur:l})=>{const f=[{label:"Public visitors",onChange:u=>{h("visitors",u)},value:"visitors",checked:y.includes("visitors")},{label:"Free members",onChange:u=>{h("free_members",u)},value:"free_members",checked:y.includes("free_members")},...m?[{label:"Paid members",onChange:u=>{h("paid_members",u)},value:"paid_members",checked:y.includes("paid_members")}]:[]];return a.jsxs(rt,{children:[a.jsx(ud,{nodes:"MINIMAL_NODES",placeholder:"Highlight breaking news, offers or updates",title:"Announcement",value:e,onBlur:l,onChange:n}),a.jsx(M0,{isExpanded:!1,picker:!1,swatches:[{hex:"#08090c",title:"Dark",value:"dark"},{hex:"#ffffff",title:"Light",value:"light"},{hex:s||"#ffdd00",title:"Accent",value:"accent"}],swatchSize:"lg",title:"Background color",value:o,onSwatchChange:u=>{u!==null&&c(u)},onTogglePicker:()=>{}}),a.jsx(Rf,{checkboxes:f,title:"Visibility"})]})},oj=()=>{const{siteData:e}=et(),{localSettings:n,updateSetting:s,handleSave:o,okProps:c}=os({savingDelay:500}),[h]=bt(n,["announcement_content"]),[y]=bt(n,["accent_color"]),[m]=bt(n,["announcement_background"]),[l]=bt(n,["announcement_visibility"]),[f]=bt(n,["paid_members_enabled"]),u=JSON.parse(l?.toString()||"[]"),{updateRoute:d}=Je(),[g,w]=D.useState("homepage"),_=O=>{s("announcement_background",O)},k=(O,Z)=>{const X=u.indexOf(O);X===-1&&Z?u.push(O):u.splice(X,1),s("announcement_visibility",JSON.stringify(u))},M=D.useRef(el(O=>{s("announcement_content",O)},500)),T=a.jsx(aj,{accentColor:y,announcementBackgroundColor:m,announcementContent:h,announcementTextHandler:O=>{M.current(O)},paidMembersEnabled:f,toggleColorSwatch:_,toggleVisibility:k,visibility:l,onBlur:()=>{}}),{data:{posts:[A]}={posts:[]}}=Vg({searchParams:{filter:"status:published",order:"published_at DESC",limit:"1",fields:"id,url"}});let C=[];A&&(C=[{id:"homepage",title:"Homepage"},{id:"post",title:"Post"}]);const R=O=>{C.length&&w(O)};let $=cn(e);switch(g){case"homepage":$=cn(e);break;case"post":$=A.url;break}const B=a.jsx(sj,{announcementBackgroundColor:m,announcementContent:h,url:$,visibility:u});return a.jsx(Qs,{afterClose:()=>{d("announcement-bar")},buttonsDisabled:c.disabled,cancelLabel:"Close",deviceSelector:!0,dirty:!1,okColor:c.color,okLabel:c.label||"Save",preview:B,previewBgColor:"greygradient",previewToolbarTabs:C,selectedURL:g,sidebar:T,testId:"announcement-bar-modal",title:"Announcement",titleHeadingLevel:5,onOk:async()=>{await o({fakeWhenUnchanged:!0})||gt({type:"error",message:"An error occurred while saving your changes. Please try again."})},onSelectURL:R})},ij=ke.create(oj),qf=[{label:"Global",options:[{value:"site.changed",label:"Site changed (rebuild)"}]},{label:"Posts",options:[{value:"post.added",label:"Post created"},{value:"post.deleted",label:"Post deleted"},{value:"post.edited",label:"Post updated"},{value:"post.published",label:"Post published"},{value:"post.published.edited",label:"Published post updated"},{value:"post.unpublished",label:"Post unpublished"},{value:"post.scheduled",label:"Post scheduled"},{value:"post.unscheduled",label:"Post unscheduled"},{value:"post.tag.attached",label:"Tag added to post"},{value:"post.tag.detached",label:"Tag removed from post"}]},{label:"Pages",options:[{value:"page.added",label:"Page created"},{value:"page.deleted",label:"Page deleted"},{value:"page.edited",label:"Page updated"},{value:"page.published",label:"Page published"},{value:"page.published.edited",label:"Published page updated"},{value:"page.unpublished",label:"Page unpublished"},{value:"page.tag.attached",label:"Tag added to page"},{value:"page.tag.detached",label:"Tag removed from page"}]},{label:"Tags",options:[{value:"tag.added",label:"Tag created"},{value:"tag.edited",label:"Tag updated"},{value:"tag.deleted",label:"Tag deleted"}]},{label:"Members",options:[{value:"member.added",label:"Member added"},{value:"member.edited",label:"Member updated"},{value:"member.deleted",label:"Member deleted"}]}],lj=e=>qf.flatMap(({options:s})=>s).find(s=>s.value===e)?.label,cj=ss({method:"POST",path:()=>"/webhooks/",body:e=>({webhooks:[e]}),updateQueries:{dataType:tl,emberUpdateType:"createOrUpdate",update:(e,n)=>n&&{...n,integrations:n.integrations.map(s=>{const o=e.webhooks[0];return o.integration_id===s.id?{...s,webhooks:[...s.webhooks||[],o]}:s})}}}),uj=ss({method:"PUT",path:e=>`/webhooks/${e.id}/`,body:e=>({webhooks:[e]}),updateQueries:{dataType:tl,emberUpdateType:"createOrUpdate",update:(e,n)=>n&&{...n,integrations:n.integrations.map(s=>{var o;return{...s,webhooks:(o=s.webhooks)==null?void 0:o.map(c=>c.id===e.webhooks[0].id?e.webhooks[0]:c)}})}}}),fj=ss({method:"DELETE",path:e=>`/webhooks/${e}/`,updateQueries:{dataType:tl,emberUpdateType:"createOrUpdate",update:(e,n,s)=>({...n,integrations:n.integrations.map(o=>{var c;return{...o,webhooks:(c=o.webhooks)==null?void 0:c.filter(h=>h.id!==s)}})})}}),dj=({webhook:e,integrationId:n})=>{const s=Zt(),{mutateAsync:o}=cj(),{mutateAsync:c}=uj(),h=it(),{formState:y,updateForm:m,handleSave:l,errors:f,clearError:u}=kr({initialState:e||{},onSave:async()=>{y.id?await c(y):await o({...y,integration_id:n})},onSaveError:h,onValidate:()=>{const d={};return y.name||(d.name="Enter a name"),y.event||(d.event="Select an event"),y.target_url||(d.target_url="Enter a target URL"),y.target_url&&!Nt.isURL(y.target_url,{require_tld:!1})&&(d.target_url="Enter a valid URL"),d}});return a.jsx(_t,{okColor:"black",okLabel:e?"Update":"Add",size:"sm",testId:"webhook-modal",title:"Add webhook",formSheet:!0,onOk:async()=>{await l()&&s.remove()},children:a.jsx("div",{className:"mt-5",children:a.jsxs(rt,{marginBottom:!1,marginTop:!1,children:[a.jsx(Ae,{error:!!f.name,hint:f.name,maxLength:191,placeholder:"Custom webhook",title:"Name",value:y.name,onChange:d=>m(g=>({...g,name:d.target.value})),onKeyDown:()=>u("name")}),a.jsx(Pt,{error:!!f.event,hint:f.event,options:qf,prompt:"Select an event",selectedOption:qf.flatMap(d=>d.options).find(d=>d.value===y.event),testId:"event-select",title:"Event",hideTitle:!0,onSelect:d=>{m(g=>({...g,event:d?.value})),u("event")}}),a.jsx(Ae,{error:!!f.target_url,hint:f.target_url,maxLength:2e3,placeholder:"https://example.com",title:"Target URL",type:"url",value:y.target_url,onChange:d=>m(g=>({...g,target_url:d.target.value})),onKeyDown:()=>u("target_url")}),a.jsx(Ae,{maxLength:191,placeholder:"https://example.com",title:"Secret",value:y.secret||void 0,onChange:d=>m(g=>({...g,secret:d.target.value}))})]})})})},Vh=ke.create(dj),pj=({integration:e})=>{const{mutateAsync:n}=fj(),s=it(),o=c=>{ke.show(St,{title:"Are you sure?",prompt:"Deleting this webhook may prevent the integration from functioning.",okColor:"red",okLabel:"Delete Webhook",onOk:async h=>{try{await n(c),h?.remove(),gt({message:"Webhook deleted",type:"info"})}catch(y){s(y)}}})};return a.jsxs("div",{children:[a.jsxs(W_,{children:[a.jsxs(fh,{bgOnHover:!1,children:[a.jsxs(Uh,{children:[e.webhooks?.length||0," ",e.webhooks?.length===1?"webhook":"webhooks"]}),a.jsx(Uh,{children:"Last triggered"})]}),e.webhooks?.map(c=>a.jsxs(fh,{action:a.jsx(ze,{color:"red",label:"Delete",link:!0,onClick:h=>{h?.stopPropagation(),o(c.id)}}),bgOnHover:!1,hideActions:!0,onClick:()=>{ke.show(Vh,{webhook:c,integrationId:e.id})},children:[a.jsxs(dh,{className:"w-3/4",children:[a.jsx("div",{className:"text-sm font-semibold",children:c.name}),a.jsxs("div",{className:"grid grid-cols-[max-content_1fr] gap-x-1 text-xs leading-snug",children:[a.jsx("span",{className:"text-grey-600",children:"Event:"}),a.jsx("span",{children:lj(c.event)}),a.jsx("span",{className:"text-grey-600",children:"URL:"}),a.jsx("span",{className:"line-clamp-3 break-all",title:c.target_url,children:c.target_url})]})]}),a.jsx(dh,{className:"w-1/4 text-sm",children:c.last_triggered_at&&new Date(c.last_triggered_at).toLocaleString("default",{weekday:"short",month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}))]}),a.jsx("div",{className:"mt-5",children:a.jsx(ze,{color:"green",icon:"add",iconColorClass:"text-green",label:"Add webhook",size:"sm",link:!0,onClick:()=>{ke.show(Vh,{integrationId:e.id})}})})]})},hj=({integration:e})=>{const n=Zt(),{updateRoute:s}=Je(),{mutateAsync:o}=q_(),{mutateAsync:c}=tb(),{mutateAsync:h}=Zs(),y=it(),{formState:m,updateForm:l,handleSave:f,saveState:u,errors:d,clearError:g,okProps:w}=kr({initialState:e,savingDelay:500,savedDelay:500,onSave:async()=>{await o(m)},onSavedStateReset:()=>{s("integrations")},onSaveError:y,onValidate:()=>{const $={};return m.name||($.name="Enter integration title"),$}}),_=e.api_keys?.find($=>$.type==="admin"),k=e.api_keys?.find($=>$.type==="content"),[M,T]=D.useState(!1),[A,C]=D.useState(!1);D.useEffect(()=>{e.type!=="custom"&&(n.remove(),s("integrations"))},[e.type,n,s]);const R=($,B)=>{B(!1);const O=$.type==="content"?"Content":"Admin";ke.show(St,{title:`Regenerate ${O} API Key`,prompt:`You can regenerate ${O} API Key any time, but any scripts or applications using it will need to be updated.`,okLabel:`Regenerate ${O} API Key`,onOk:async Z=>{try{await c({integrationId:e.id,apiKeyId:$.id}),B(!0),Z?.remove()}catch(X){y(X)}}})};return a.jsxs(_t,{afterClose:()=>{s("integrations")},buttonsDisabled:w.disabled,cancelLabel:"Close",dirty:u==="unsaved",okColor:w.color,okLabel:w.label||"Save",size:"md",testId:"custom-integration-modal",title:m.name||"Custom integration",stickyFooter:!0,onOk:async()=>{await f({fakeWhenUnchanged:!0})},children:[a.jsxs("div",{className:"mt-7 flex w-full flex-col gap-7 md:flex-row",children:[a.jsx("div",{children:a.jsx(un,{height:"100px",id:"custom-integration-icon",imageURL:m.icon_image||void 0,width:"100px",onDelete:()=>l($=>({...$,icon_image:null})),onUpload:async $=>{try{const B=on(await h({file:$}));l(O=>({...O,icon_image:B}))}catch(B){const O=B;O.response.status===415&&(O.message="Unsupported file type"),y(O)}},children:"Upload icon"})}),a.jsx("div",{className:"flex grow flex-col",children:a.jsxs(rt,{children:[a.jsx(Ae,{error:!!d.name,hint:d.name,maxLength:191,title:"Title",value:m.name,onChange:$=>l(B=>({...B,name:$.target.value})),onKeyDown:()=>g("name")}),a.jsx(Ae,{maxLength:2e3,title:"Description",value:m.description||"",onChange:$=>l(B=>({...B,description:$.target.value}))}),a.jsx(hd,{keys:[{label:"Content API key",text:k?.secret,hint:A?a.jsx("div",{className:"text-green",children:"Content API Key was successfully regenerated"}):void 0,onRegenerate:()=>k&&R(k,C)},{label:"Admin API key",text:_?.secret,hint:M?a.jsx("div",{className:"text-green",children:"Admin API Key was successfully regenerated"}):void 0,onRegenerate:()=>_&&R(_,T)},{label:"API URL",text:window.location.origin+rl().subdir}]})]})})]}),a.jsx("div",{children:a.jsx(pj,{integration:e})})]})},mj=({params:e})=>{const{data:{integrations:n}={}}=Wg(),s=n?.find(({id:o})=>o===e?.id);return s?a.jsx(hj,{integration:s}):null},gj=ke.create(mj),bj=({problem:e})=>{const[n,s]=D.useState(!1),o=()=>{s(!n)};return a.jsx(On,{title:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`${e.level==="error"?"before:bg-red":"before:bg-yellow"} relative px-4 text-sm before:absolute before:left-0 before:top-1.5 before:block before:size-2 before:rounded-full before:content-['']`,children:[e?.fatal?a.jsx("strong",{children:"Fatal: "}):a.jsx("strong",{children:e.level==="error"?"Error: ":"Warning: "}),a.jsx("span",{dangerouslySetInnerHTML:{__html:e.rule}}),a.jsx("div",{className:"absolute -right-4 top-1",children:a.jsx(ze,{color:"green",icon:n?"chevron-down":"chevron-right",iconColorClass:"text-grey-700",size:"sm",link:!0,onClick:()=>o()})})]}),n?a.jsxs("div",{className:"mt-2 px-4 text-[13px] leading-8",children:[a.jsx("div",{dangerouslySetInnerHTML:{__html:e.details},className:"mb-4"}),a.jsx(xt,{level:6,children:"Affected files:"}),a.jsx("ul",{className:"mt-1",children:e.failures.map(c=>a.jsxs("li",{children:[a.jsx("code",{children:c.ref}),c.message?`: ${c.message}`:""]}))})]}):null]}),hideActions:!0,separator:!0})},xj=({title:e,prompt:n,fatalErrors:s,onRetry:o})=>{let c=null;return s&&(c=a.jsx("div",{className:"mt-10",children:a.jsx(ln,{title:"Errors",children:s.map(h=>typeof h.details=="object"&&h.details.errors&&h.details.errors.length>0?h.details.errors.map(y=>a.jsx(bj,{problem:y})):typeof h.details=="string"?a.jsx(On,{title:h.details}):null)})})),a.jsx(Qg,{cancelLabel:"Close",okColor:"black",okLabel:"Retry",prompt:a.jsxs(a.Fragment,{children:[n,c]}),title:e,onOk:o})},bb=ke.create(xj),gd=()=>{const e=Y_(),s=!e.data?.themes[0]?.warnings?.some(c=>c.code==="GS051-CUSTOM-FONTS"),o=D.useCallback(()=>{e.refetch()},[e]);return{supportsCustomFonts:s,refreshActiveThemeData:o}};function vj(e){let n=e.package?.name||e.name;return G_(e)?n+=" (default)":X_(e)?n+=" (legacy)":e.package?.name!==e.name&&(n=a.jsxs("span",{className:"text-sm md:text-base",children:[n," ",a.jsxs("span",{className:"text-grey-600",children:["(",e.name,")"]})]})),Jg(e)&&(n=a.jsxs("span",{className:"text-sm font-bold md:text-base",children:[n,"  ",a.jsx("span",{className:"text-green",children:" Active"})]})),n}function wj(e){return e.package?.version||"1.0"}const yj=({theme:e})=>{const{mutateAsync:n}=Jf(),{mutateAsync:s}=K_(),{refreshActiveThemeData:o}=gd(),c=it(),h=async()=>{try{await n(e.name),o(),gt({title:"Theme activated",type:"success",message:a.jsxs("div",{children:[a.jsx("span",{className:"capitalize",children:e.name})," is now your active theme"]})})}catch(d){let g=null;d instanceof ts&&d.response?.status===422&&d.data?.errors?g=d.data.errors:c(d);let w="Invalid Theme",_=a.jsx(a.Fragment,{children:"This theme is invalid and cannot be activated. Fix the following errors and re-upload the theme"});g&&ke.show(bb,{title:w,prompt:_,fatalErrors:g,onRetry:async k=>{k?.remove(),h()}})}},y=async()=>{const{apiRoot:d}=rl();V_(`${d}/themes/${e.name}/download`)},m=async()=>{ke.show(St,{title:"Are you sure you want to delete this?",prompt:a.jsxs(a.Fragment,{children:["You are about to delete ",a.jsxs("strong",{children:['"',e.name,'".']})," This is permanent! We warned you, k? Maybe download"," ",a.jsx("span",{className:"cursor-pointer text-green-500",onClick:()=>{y()},children:"your theme before continuing"})]}),okLabel:"Delete",okRunningLabel:"Deleting",okColor:"red",onOk:async d=>{try{await s(e.name),d?.remove()}catch(g){c(g)}}})};let l=[];Jg(e)||l.push(a.jsx(ze,{className:"ml-2",color:"green",label:"Activate",link:!0,onClick:h},"activate"));let f=[{id:"download",label:"Download",onClick:y}];Z_(e)&&f.push({id:"delete",label:"Delete",onClick:m});const u={iconColorClass:"text-base",size:"sm"};return a.jsxs("div",{className:"-mr-3 flex items-center gap-4",children:[l,a.jsx(z0,{items:f,position:"end",triggerButtonProps:u})]})},_j=({themes:e})=>(e.sort((n,s)=>n.active&&!s.active?-1:!n.active&&s.active?1:n.package?.name&&s.package?.name?n.package.name.localeCompare(s.package.name):n.name.localeCompare(s.name)),a.jsx(ln,{pageTitle:"Installed themes",children:e.map(n=>{const s=vj(n),o=wj(n);return a.jsx(On,{action:a.jsx(yj,{theme:n}),detail:o,id:`theme-${n.name}`,separator:!1,testId:"theme-list-item",title:s},n.name)})})),kj=({themes:e})=>a.jsx(dd,{children:a.jsx(_j,{themes:e})}),Mj="/ghost/assets/footer-marketplace-bg-BpIYEF6z.png",jj=3e3,Qh=e=>e.variants&&e.variants.length>0,hu=e=>{const n=[{category:e.category,previewUrl:e.previewUrl,image:e.image}];return e.variants&&e.variants.length>0&&n.push(...e.variants),n},Ej=({onSelectTheme:e})=>{const n=Q_(),[s,o]=D.useState(null),[c,h]=D.useState(0),y=m=>{o(m),h(m!==null&&Qh(m)&&hu(m).length>1?1:0)};return D.useEffect(()=>{if(s===null)return;const m=setInterval(()=>{h((c+1)%(hu(s).length||0))},jj);return()=>clearInterval(m)},[s,c]),a.jsxs(dd,{heading:"Themes",children:[a.jsx("div",{className:"mt-[6vmin] grid grid-cols-1 gap-[6vmin] sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4",children:n.map(m=>{const l=Qh(m),f=hu(m),u=s===m;return a.jsxs("button",{className:"flex cursor-pointer flex-col gap-3 text-left",type:"button",onClick:()=>{e?.(m)},children:[a.jsx("div",{className:"relative w-full bg-grey-100 shadow-md transition-all duration-500 hover:scale-[1.05]",onMouseEnter:()=>y(m),onMouseLeave:()=>y(null),children:l?a.jsx(a.Fragment,{children:f.map((d,g)=>a.jsx("img",{alt:`${m.name} Theme - ${d.category}`,className:we("size-full object-contain opacity-0 transition-opacity duration-500",{"opacity-100":g===c&&u||!u&&g===0,relative:g===c,absolute:g!==c,"left-0":g!==c,"top-0":g!==c}),src:d.image},`theme-variant-${d.category.toLowerCase()}`))}):a.jsx("img",{alt:`${m.name} Theme`,className:"size-full object-contain",src:m.image})}),a.jsxs("div",{className:"relative mt-3",children:[a.jsx(xt,{level:4,children:m.name}),l?f.map((d,g)=>a.jsx("span",{className:we("absolute left-0 translate-y-px text-sm text-grey-700 opacity-0",{"opacity-100":g===c&&u||!u&&g===0}),children:d.category})):a.jsx("span",{className:"text-sm text-grey-700",children:m.category})]})]},m.name)})}),a.jsxs("div",{className:"mx-[-8vmin] mb-[-8vmin] mt-[8vmin] bg-black px-[8vmin] py-16 text-center text-lg text-white",style:{background:`#15171a url(${Mj}) 100% 100% / 35vw no-repeat`},children:["Find and buy third-party, premium themes from independent developers in the ",a.jsx("a",{className:"inline-block font-semibold text-lime",href:"https://ghost.org/themes/",rel:"noopener noreferrer",target:"_blank",children:"Ghost Marketplace "})]})]})},Jh=({problem:e})=>{const[n,s]=D.useState(!1);return a.jsx(On,{title:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`${e.level==="error"?"before:bg-red":"before:bg-yellow"} relative px-4 text-sm before:absolute before:left-0 before:top-1.5 before:block before:size-2 before:rounded-full before:content-['']`,children:[a.jsx("strong",{children:e.level==="error"?"Error: ":"Warning: "}),a.jsx("span",{dangerouslySetInnerHTML:{__html:e.rule}}),a.jsx("div",{className:"absolute -right-4 top-1",children:a.jsx(ze,{color:"green",icon:n?"chevron-down":"chevron-right",iconColorClass:"text-grey-700",size:"sm",link:!0,onClick:()=>s(!n)})})]}),n?a.jsxs("div",{className:"mt-2 px-4 text-[13px] leading-8",children:[a.jsx("div",{dangerouslySetInnerHTML:{__html:e.details},className:"mb-4"}),a.jsx(xt,{level:6,children:"Affected files:"}),a.jsx("ul",{className:"mt-1",children:e.failures.map(o=>a.jsxs("li",{children:[a.jsx("code",{children:o.ref}),o.message?`: ${o.message}`:""]}))})]}):null]}),hideActions:!0,separator:!0})},Tj=({title:e,prompt:n,installedTheme:s,onActivate:o})=>{const{mutateAsync:c}=Jf(),{refreshActiveThemeData:h}=gd(),y=it();let m=null;s&&s.gscan_errors&&(m=a.jsx("div",{className:"mt-6",children:a.jsx(ln,{hint:a.jsxs(a.Fragment,{children:["Highly recommended to fix, functionality ",a.jsx("strong",{children:"could"})," be restricted"]}),title:"Errors",children:s.gscan_errors?.map(u=>a.jsx(Jh,{problem:u}))})}));let l=null;s&&s.warnings&&(l=a.jsx("div",{className:"mt-10",children:a.jsx(ln,{title:"Warnings",children:s.warnings?.map(u=>a.jsx(Jh,{problem:u}))})}));let f=`Activate${s.gscan_errors?.length?" with errors":""}`;return s.active&&(f="OK"),a.jsx(Qg,{cancelLabel:"Close",okColor:"black",okLabel:f,okRunningLabel:"Activating...",prompt:a.jsxs(a.Fragment,{children:[n,m,l]}),title:e,onOk:async u=>{if(!s.active)try{const g=(await c(s.name)).themes[0];h(),gt({title:"Theme activated",type:"success",message:a.jsxs("div",{children:[a.jsx("span",{className:"capitalize",children:g.name})," is now your active theme."]})})}catch(d){y(d)}o?.(),u?.remove()}})},xb=ke.create(Tj),em=e=>e.variants&&e.variants.length>0,tm=e=>{const n=[{image:e.image,category:e.category,previewUrl:e.previewUrl}];return e.variants&&e.variants.length>0&&n.push(...e.variants),n},rm=e=>e.category.toLowerCase(),Sj=({selectedTheme:e,isInstalling:n,installedTheme:s,onBack:o,onInstall:c})=>{const[h,y]=D.useState("desktop"),[m,l]=D.useState(void 0);if(!e)return null;let f=e.previewUrl;const u=tm(e).map(k=>({label:k.category,value:rm(k)}));em(e)&&(m===void 0&&l(u[0]),f=tm(e).find(k=>rm(k)===m?.value)?.previewUrl||f);let d=`Install ${e.name}`;n?d="Installing...":Gi(e)&&!s?.active?d=`Activate ${e.name}`:s&&(d=`Update ${e.name}`);const g=()=>{c?.()},w=a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pd,{activeItemClassName:"hidden md:!block md:!visible",containerClassName:"whitespace-nowrap",itemClassName:"hidden md:!block md:!visible",items:[{label:"Change theme",onClick:o},{label:e.name}],separatorClassName:"hidden md:!block md:!visible",backIcon:!0,onBack:o}),em(e)?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"hidden md:!visible md:!block",children:""}),a.jsx(Pt,{border:!1,containerClassName:"text-sm font-bold",controlClasses:{menu:"w-24"},fullWidth:!1,options:u,selectedOption:m,clearBg:!0,onSelect:k=>{l(k||void 0)}})]}):null]}),_=a.jsxs("div",{className:"flex justify-end gap-8",children:[a.jsx(an,{buttons:[{icon:"laptop",iconColorClass:h==="desktop"?"text-black dark:text-green":"text-grey-500 dark:text-grey-600",link:!0,size:"sm",onClick:()=>{y("desktop")}},{icon:"mobile",iconColorClass:h==="mobile"?"text-black dark:text-green":"text-grey-500 dark:text-grey-600",link:!0,size:"sm",onClick:()=>{y("mobile")}}]}),a.jsx(ze,{color:"green",disabled:n,label:n?"Installing...":d,onClick:g})]});return a.jsxs("div",{className:"absolute inset-0 z-[100]",children:[a.jsx(J0,{containerClassName:"bg-grey-50 dark:bg-black z-[100]",left:w,right:_,sticky:!1}),a.jsx("div",{className:"flex h-[calc(100%-92px)] grow flex-col items-center justify-center bg-grey-50 dark:bg-black",children:h==="desktop"?a.jsx(h0,{children:a.jsx("iframe",{className:"size-full",src:f,title:"Theme preview"})}):a.jsx(m0,{children:a.jsx("iframe",{className:"size-full",src:f,title:"Theme preview"})})})]})},Nj=({onUpload:e})=>{const n=Zt();return a.jsx("div",{className:"-mb-6",children:a.jsx(t2,{id:"theme-upload",onUpload:s=>{n.remove(),e(s)},children:a.jsx("div",{className:"cursor-pointer bg-grey-75 p-10 text-center dark:bg-grey-950",children:"Click to select or drag & drop zip file"})})})},Aj=({currentTab:e,setCurrentTab:n,themes:s})=>{const o=Zt(),{updateRoute:c}=Je(),{mutateAsync:h}=e2(),{checkThemeLimitError:y,isThemeLimited:m}=td(),l=it(),[f,u]=D.useState(),[d,g]=D.useState(!1);D.useEffect(()=>{(async()=>{if(m){const R=await y(".");u({enabled:!1,error:R||"Your current plan doesn't support uploading custom themes."})}else u({enabled:!0})})()},[y,m]);const w=()=>{c("/")},_=async C=>{const R=C?.name.replace(/\.zip$/,""),$=s.map(B=>B.name);Gi({name:R})?ke.show(St,{title:"Upload failed",cancelLabel:"Cancel",okLabel:"",prompt:a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:["The default ",a.jsx("strong",{children:R})," theme cannot be overwritten."]}),a.jsx("p",{children:"Rename your zip file and try again."})]}),onOk:async B=>{B?.remove()}}):$.includes(R)?ke.show(St,{title:"Overwrite theme",prompt:a.jsxs(a.Fragment,{children:["The theme ",a.jsx("strong",{children:R})," already exists. Do you want to overwrite it?"]}),okLabel:"Overwrite",cancelLabel:"Cancel",okRunningLabel:"Overwriting...",okColor:"red",onOk:async B=>{g(!0);const O=$.indexOf(R);s.splice(O,1),await k({file:C,onActivate:w}),g(!1),n("installed"),B?.remove()}}):(n("installed"),k({file:C,onActivate:w}))},k=async({file:C,onActivate:R})=>{let $,B=null;try{g(!0),$=await h({file:C}),g(!1)}catch(G){g(!1),G instanceof ts&&G.response?.status===422&&G.data?.errors?B=G.data.errors:l(G)}if(B&&!$){let G="Invalid Theme",W=a.jsx(a.Fragment,{children:"This theme is invalid and cannot be activated. Fix the following errors and re-upload the theme"});ke.show(bb,{title:G,prompt:W,fatalErrors:B,onRetry:async()=>{o?.remove(),T()}})}if(!$)return;const O=$.themes[0];let Z="Upload successful",X=a.jsxs(a.Fragment,{children:[a.jsx("strong",{children:O.name})," uploaded"]});if(O.active||(X=a.jsxs(a.Fragment,{children:[X," ","Do you want to activate it now?"]})),O?.gscan_errors?.length||O.warnings?.length){const G=O?.gscan_errors?.length;Z=`Upload successful with ${G?"errors":"warnings"}`,X=a.jsxs(a.Fragment,{children:["The theme ",a.jsxs("strong",{children:['"',O.name,'"']})," was installed but we detected some ",G?"errors":"warnings","."]}),O.active||(X=a.jsxs(a.Fragment,{children:[X,"You are still able to activate and use the theme but it is recommended to fix these ",G?"errors":"warnings"," before you do so."]}))}ke.show(xb,{title:Z,prompt:X,installedTheme:O,onActivate:R})},M=a.jsx("div",{className:"hidden md:!visible md:!block",children:a.jsx(Rn,{border:!1,selectedTab:e,tabs:[{id:"official",title:"Official themes"},{id:"installed",title:"Installed"}],onTabChange:C=>{n(C)}})}),T=()=>{f&&(f.enabled?ke.show(St,{title:"Upload theme",prompt:a.jsx(Nj,{onUpload:_}),okLabel:"",formSheet:!1}):ke.show(Xr,{title:"Upgrade to enable custom themes",prompt:f.error||a.jsxs(a.Fragment,{children:["Your current plan only supports official themes. You can install them from the ",a.jsx("a",{href:"https://ghost.org/marketplace/",children:"Ghost theme marketplace"}),"."]}),onOk:()=>c({route:"/pro",isExternal:!0})}))},A=a.jsx("div",{className:"flex items-center gap-14",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ze,{label:"Close",onClick:()=>{o.remove(),w()}}),a.jsx(ze,{color:"black",label:"Upload theme",loading:d,onClick:T})]})});return a.jsxs(a.Fragment,{children:[a.jsx(J0,{containerClassName:"bg-white dark:bg-black",left:M,right:A}),a.jsx("div",{className:"px-[8vmin] md:hidden",children:a.jsx(Rn,{border:!1,selectedTab:e,tabs:[{id:"official",title:"Official themes"},{id:"installed",title:"Installed"}],onTabChange:C=>{n(C)}})})]})},Ij=({currentTab:e,onSelectTheme:n,themes:s})=>{switch(e){case"official":return a.jsx(Ej,{onSelectTheme:n});case"installed":return a.jsx(kj,{themes:s})}return null},nm=({source:e,themeRef:n})=>{const[s,o]=D.useState("official"),[c,h]=D.useState(null),[y,m]=D.useState("desktop"),[l,f]=D.useState(!1),[u,d]=D.useState(!1),[g,w]=D.useState(!1),{updateRoute:_}=Je(),k=Zt(),{data:{themes:M}={}}=ed(),{mutateAsync:T}=J_(),{mutateAsync:A}=Jf(),{checkThemeLimitError:C}=td(),R=it(),$=Z=>{h(Z)};if(D.useEffect(()=>{w(!0)},[]),D.useEffect(()=>{(async()=>{if(e&&n&&!u&&g){const X=n.split("/")[1];if(await C(X)){k.remove();return}let W="Install Theme";const q=M?.map(ne=>ne.name)||[];let se=q.includes(X.toLowerCase());const ee=q.indexOf(X.toLowerCase()),re=M?.[ee];let Q=a.jsxs(a.Fragment,{children:["By clicking below, ",a.jsx("strong",{children:X})," will automatically be activated as the theme for your site.",se&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("br",{}),"This will overwrite your existing version of ",a.jsx("strong",{children:X}),re?.active?" which is your active theme":"",". All custom changes will be lost."]})]});ke.show(St,{title:W,prompt:Q,okLabel:"Install",cancelLabel:"Cancel",okRunningLabel:"Installing...",okColor:"black",onOk:async ne=>{let xe;d(!0);try{se&&M&&M.splice(ee,1),xe=await T(n),xe?.themes[0]&&(await A(xe.themes[0].name),gt({title:"Theme activated",type:"success",message:a.jsxs("div",{children:[a.jsx("span",{className:"capitalize",children:xe.themes[0].name})," is now your active theme"]})})),ne?.remove(),_("")}catch(je){R(je)}}})}})()},[n,e,T,R,A,_,M,u,C,k,g]),!M)return;let B,O;if(c){B=M.find(X=>X.name.toLowerCase()===c.name.toLowerCase()),O=async()=>{const X=await C(c.name);if(X){ke.show(Xr,{prompt:X,onOk:()=>_({route:"/pro",isExternal:!0})});return}return B&&!Gi(c)?new Promise(G=>{ke.show(St,{title:"Overwrite theme",prompt:a.jsxs(a.Fragment,{children:["This will overwrite your existing version of ",c.name,B?.active?", which is your active theme":"",". All custom changes will be lost."]}),okLabel:"Overwrite",okRunningLabel:"Installing...",cancelLabel:"Cancel",okColor:"red",onOk:async W=>{W?.remove(),await Z(),G()}})}):Z()};const Z=async()=>{let X="Success",G=a.jsx(a.Fragment,{});if(Gi(c))X="Activate theme",G=a.jsxs(a.Fragment,{children:["By clicking below, ",a.jsx("strong",{children:c.name})," will automatically be activated as the theme for your site."]});else{f(!0);let W;try{W=await T(c.ref)}catch(se){R(se)}finally{f(!1)}if(!W)return;const q=W.themes[0];if(X="Success",G=a.jsxs(a.Fragment,{children:[a.jsx("strong",{children:q.name})," has been successfully installed."]}),q.active||(G=a.jsxs(a.Fragment,{children:[G," ","Do you want to activate it now?"]})),q.gscan_errors?.length||q.warnings?.length){const se=q.gscan_errors?.length;X=`Installed with ${se?"errors":"warnings"}`,G=a.jsxs(a.Fragment,{children:["The theme ",a.jsxs("strong",{children:['"',q.name,'"']})," was installed successfully but we detected some ",se?"errors":"warnings","."]}),q.active||(G=a.jsxs(a.Fragment,{children:[G,"You are still able to activate and use the theme but it is recommended to contact the theme developer fix these ",se?"errors":"warnings"," before you do so."]}))}B=q}ke.show(xb,{title:X,prompt:G,installedTheme:B,onActivate:()=>{_("")}})}}return a.jsx(_t,{afterClose:()=>{_("")},animate:!1,cancelLabel:"",footer:!1,padding:!1,size:"full",testId:"theme-modal",title:"",scrolling:!0,onCancel:()=>{k.remove(),_("")},children:a.jsx("div",{className:"flex h-full justify-between",children:a.jsxs("div",{className:"grow",children:[c&&a.jsx(Sj,{installedTheme:B,isInstalling:l,selectedTheme:c,onBack:()=>{h(null)},onClose:()=>{_("")},onInstall:O}),a.jsx(Aj,{currentTab:s,modal:k,previewMode:y,selectedTheme:c,setCurrentTab:o,setPreviewMode:m,setSelectedTheme:h,themes:M}),!c&&a.jsx(Ij,{currentTab:s,themes:M,onSelectTheme:$})]})})})},Cj=({children:e,to:n,classNames:s})=>{const o=n||document.body;if(!o)return a.jsx(a.Fragment,{children:e});const c=h=>{h.stopPropagation()};return r2.createPortal(a.jsx("div",{className:s,onMouseDown:c,children:a.jsx("div",{children:e})}),o)};var Dj=Object.defineProperty,Rj=(e,n,s)=>n in e?Dj(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,jt=(e,n,s)=>Rj(e,typeof n!="symbol"?n+"":n,s),vb={exports:{}},qa={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function Oj(){if(sm)return qa;sm=1;var e=st,n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,c=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function y(m,l,f){var u,d={},g=null,w=null;f!==void 0&&(g=""+f),l.key!==void 0&&(g=""+l.key),l.ref!==void 0&&(w=l.ref);for(u in l)o.call(l,u)&&!h.hasOwnProperty(u)&&(d[u]=l[u]);if(m&&m.defaultProps)for(u in l=m.defaultProps,l)d[u]===void 0&&(d[u]=l[u]);return{$$typeof:n,type:m,key:g,ref:w,props:d,_owner:c.current}}return qa.Fragment=s,qa.jsx=y,qa.jsxs=y,qa}vb.exports=Oj();var Fe=vb.exports;class $j{constructor(n=3){jt(this,"columnCount"),jt(this,"columns",[]),jt(this,"columnHeights"),this.columnCount=n,this.columns=[[]],this.columnHeights=null}reset(){let n=[],s=[];for(let o=0;o<this.columnCount;o+=1)n[o]=[],s[o]=0;this.columns=n,this.columnHeights=s}addColumns(){for(let n=0;n<this.columnCount;n++)this.columns.push([]),this.columnHeights.push(0)}addPhotoToColumns(n){this.columns||this.reset();let s=Math.min(...this.columnHeights),o=this.columnHeights.indexOf(s);this.columnHeights[o]+=300*n.ratio,this.columns[o].push(n)}getColumns(){return this.columns}changeColumnCount(n){n!==this.columnCount&&(this.columnCount=n,this.reset())}}const Pj=e=>D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...e},D.createElement("path",{d:"M20 5.5l-8 8-8-8m-3.5 13h23",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,fill:"none"})),Lj=e=>D.createElement("svg",{viewBox:"0 0 32 32",...e},D.createElement("path",{d:"M17.4 29c-.8.8-2 .8-2.8 0L2.3 16.2C-.8 13.1-.8 8 2.3 4.8c3.1-3.1 8.2-3.1 11.3 0L16 7.6l2.3-2.8c3.1-3.1 8.2-3.1 11.3 0 3.1 3.1 3.1 8.2 0 11.4L17.4 29z"})),Fj={heart:Lj,download:Pj},mu=({icon:e,label:n,...s})=>{let o=null;return e&&(o=Fj[e]),Fe.jsxs("a",{className:"text-grey-700 flex h-8 shrink-0 cursor-pointer items-center rounded-md bg-white px-3 py-2 font-sans text-sm font-medium leading-6 opacity-90 transition-all ease-in-out hover:opacity-100",onClick:c=>c.stopPropagation(),...s,children:[e&&o&&Fe.jsx(o,{className:`size-4 ${e==="heart"?"fill-red":""} stroke-[3px] ${n&&"mr-1"}`}),n&&Fe.jsx("span",{children:n})]})},wb=({payload:e,srcUrl:n,links:s,likes:o,user:c,alt:h,urls:y,height:m,width:l,zoomed:f,insertImage:u,selectImg:d})=>{const g=w=>{w.stopPropagation(),d(f?null:e)};return Fe.jsxs("div",{className:`relative mb-6 block ${f?"h-full w-[max-content] cursor-zoom-out":"w-full cursor-zoom-in"}`,style:{backgroundColor:e.color||"transparent"},"data-kg-unsplash-gallery-item":!0,onClick:g,children:[Fe.jsx("img",{alt:h,className:`${f?"h-full w-auto object-contain":"block h-auto"}`,height:m,loading:"lazy",src:n,width:l,"data-kg-unsplash-gallery-img":!0}),Fe.jsxs("div",{className:"absolute inset-0 flex flex-col justify-between bg-gradient-to-b from-black/5 via-black/5 to-black/30 p-5 opacity-0 transition-all ease-in-out hover:opacity-100",children:[Fe.jsxs("div",{className:"flex items-center justify-end gap-3",children:[Fe.jsx(mu,{"data-kg-button":"unsplash-like",href:`${s.html}/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit`,icon:"heart",label:o.toString(),rel:"noopener noreferrer",target:"_blank"}),Fe.jsx(mu,{"data-kg-button":"unsplash-download",href:`${s.download}/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit&amp;force=true`,icon:"download"})]}),Fe.jsxs("div",{className:"flex items-center justify-between",children:[Fe.jsxs("div",{className:"flex items-center",children:[Fe.jsx("img",{alt:"author",className:"mr-2 size-8 rounded-full",src:c.profile_image.medium}),Fe.jsx("div",{className:"mr-2 truncate font-sans text-sm font-medium text-white",children:c.name})]}),Fe.jsx(mu,{label:"Insert image","data-kg-unsplash-insert-button":!0,onClick:w=>{w.stopPropagation(),u({src:y.regular.replace(/&w=1080/,"&w=2000"),caption:`<span>Photo by <a href="${c.links.html}">${c.name}</a> / <a href="https://unsplash.com/?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit">Unsplash</a></span>`,height:m,width:l,alt:h,links:s})}})]})]})]})},zj=({payload:e,insertImage:n,selectImg:s,zoomed:o})=>Fe.jsx("div",{className:"flex h-full grow basis-0 justify-center","data-kg-unsplash-zoomed":!0,onClick:()=>s(null),children:Fe.jsx(wb,{alt:e.alt_description,height:e.height,insertImage:n,likes:e.likes,links:e.links,payload:e,selectImg:s,srcUrl:e.urls.regular,urls:e.urls,user:e.user,width:e.width,zoomed:o})}),Uj=()=>Fe.jsx("div",{className:"absolute inset-y-0 left-0 flex w-full items-center justify-center overflow-hidden pb-[8vh]","data-kg-loader":!0,children:Fe.jsx("div",{className:"animate-spin before:bg-grey-800 relative inline-block size-[50px] rounded-full border border-black/10 before:z-10 before:mt-[7px] before:block before:size-[7px] before:rounded-full"})}),Hj=e=>Fe.jsx("div",{className:"mr-6 flex grow basis-0 flex-col justify-start last-of-type:mr-0",children:e.children}),Bj=e=>e!=null&&e.columns?e?.columns.map((n,s)=>Fe.jsx(Hj,{children:n.map(o=>Fe.jsx(wb,{alt:o.alt_description,height:o.height,insertImage:e?.insertImage,likes:o.likes,links:o.links,payload:o,selectImg:e?.selectImg,srcUrl:o.urls.regular,urls:o.urls,user:o.user,width:o.width,zoomed:e?.zoomed||null},o.id))},s)):null,gu=e=>Fe.jsx("div",{className:"relative h-full overflow-hidden","data-kg-unsplash-gallery":!0,children:Fe.jsxs("div",{ref:e.galleryRef,className:`flex size-full justify-center overflow-auto px-20 ${e!=null&&e.zoomed?"pb-10":""}`,"data-kg-unsplash-gallery-scrollref":!0,children:[e.children,e?.isLoading&&Fe.jsx(Uj,{})]})}),Wj=({zoomed:e,error:n,galleryRef:s,isLoading:o,dataset:c,selectImg:h,insertImage:y})=>e?Fe.jsx(gu,{galleryRef:s,zoomed:e,children:Fe.jsx(zj,{alt:e.alt_description,height:e.height,insertImage:y,likes:e.likes,links:e.links,payload:e,selectImg:h,srcUrl:e.urls.regular,urls:e.urls,user:e.user,width:e.width,zoomed:e})}):n?Fe.jsx(gu,{galleryRef:s,zoomed:e,children:Fe.jsxs("div",{className:"flex h-full flex-col items-center justify-center",children:[Fe.jsx("h1",{className:"mb-4 text-2xl font-bold",children:"Error"}),Fe.jsx("p",{className:"text-lg font-medium",children:n})]})}):Fe.jsx(gu,{galleryRef:s,isLoading:o,zoomed:e,children:Fe.jsx(Bj,{columns:c,insertImage:y,selectImg:h,zoomed:e})}),qj=e=>D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",strokeWidth:1.5,viewBox:"0 0 24 24",...e},D.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M.75 23.249l22.5-22.5M23.25 23.249L.75.749"})),Yj=e=>D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",strokeWidth:1.5,viewBox:"0 0 24 24",...e},D.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M1.472 13.357a9.063 9.063 0 1 0 16.682-7.09 9.063 9.063 0 1 0-16.682 7.09Zm14.749 2.863 7.029 7.03"})),Gj=e=>D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 122.43 122.41",...e},D.createElement("path",{d:"M83.86 54.15v34.13H38.57V54.15H0v68.26h122.43V54.15H83.86zM38.57 0h45.3v34.13h-45.3z"})),Xj=({closeModal:e,handleSearch:n,children:s})=>Fe.jsxs(Fe.Fragment,{children:[Fe.jsx("div",{className:"fixed inset-0 z-40 h-[100vh] bg-black opacity-60"}),Fe.jsxs("div",{className:"not-kg-prose fixed inset-8 z-50 overflow-hidden rounded bg-white shadow-xl","data-kg-modal":"unsplash",children:[Fe.jsx("button",{className:"absolute right-6 top-6 cursor-pointer",type:"button",children:Fe.jsx(qj,{className:"text-grey-400 size-4 stroke-2","data-kg-modal-close-button":!0,onClick:()=>e()})}),Fe.jsxs("div",{className:"flex h-full flex-col",children:[Fe.jsxs("header",{className:"flex shrink-0 items-center justify-between px-20 py-10",children:[Fe.jsxs("h1",{className:"flex items-center gap-2 font-sans text-3xl font-bold text-black",children:[Fe.jsx(Gj,{className:"mb-1"}),"Unsplash"]}),Fe.jsxs("div",{className:"relative w-full max-w-sm",children:[Fe.jsx(Yj,{className:"text-grey-700 absolute left-4 top-1/2 size-4 -translate-y-2"}),Fe.jsx("input",{className:"border-grey-300 focus:border-grey-400 h-10 w-full rounded-full border border-solid pl-10 pr-8 font-sans text-md font-normal text-black focus-visible:outline-none",placeholder:"Search free high-resolution photos",autoFocus:!0,"data-kg-unsplash-search":!0,onChange:n})]})]}),s]})]})]}),Kj=[{id:"TA5hw14Coh4",slug:"a-person-standing-on-a-sand-dune-in-the-desert-TA5hw14Coh4",alternative_slugs:{en:"a-person-standing-on-a-sand-dune-in-the-desert-TA5hw14Coh4"},created_at:"2024-02-07T22:39:36Z",updated_at:"2024-03-07T23:46:14Z",promoted_at:null,width:8640,height:5760,color:"#8c5940",blur_hash:"LKD]brE2IUr?Lgwci_NaDjR*ofoe",description:"NEOM will be home to one of the worlds largest nature reserves: a 25,000 sq km stretch of wilderness, encompassing two deserts divided by a mountain range. | NEOM, Saudi Arabia",alt_description:"a person standing on a sand dune in the desert",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1707345512638-997d31a10eaa?ixid=M3wxMTc3M3wxfDF8YWxsfDF8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1707345512638-997d31a10eaa?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wxfDF8YWxsfDF8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1707345512638-997d31a10eaa?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wxfDF8YWxsfDF8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1707345512638-997d31a10eaa?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wxfDF8YWxsfDF8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1707345512638-997d31a10eaa?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wxfDF8YWxsfDF8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1707345512638-997d31a10eaa"},links:{self:"https://api.unsplash.com/photos/a-person-standing-on-a-sand-dune-in-the-desert-TA5hw14Coh4",html:"https://unsplash.com/photos/a-person-standing-on-a-sand-dune-in-the-desert-TA5hw14Coh4",download:"https://unsplash.com/photos/TA5hw14Coh4/download?ixid=M3wxMTc3M3wxfDF8YWxsfDF8fHx8fHwyfHwxNzEwMTUzMjA1fA",download_location:"https://api.unsplash.com/photos/TA5hw14Coh4/download?ixid=M3wxMTc3M3wxfDF8YWxsfDF8fHx8fHwyfHwxNzEwMTUzMjA1fA"},likes:226,liked_by_user:!1,current_user_collections:[],sponsorship:{impression_urls:[],tagline:"Made to Change",tagline_url:"https://www.neom.com/en-us?utm_source=unsplash&utm_medium=referral",sponsor:{id:"mYizSrdJkkU",updated_at:"2024-03-11T08:54:08Z",username:"neom",name:"NEOM",first_name:"NEOM",last_name:null,twitter_username:"neom",portfolio_url:"http://www.neom.com",bio:"Located in the northwest of Saudi Arabia, NEOMs diverse climate offers both sun-soaked beaches and snow-capped mountains. NEOMs unique location will provide residents with enhanced livability while protecting 95% of the natural landscape.",location:"NEOM, Saudi Arabia",links:{self:"https://api.unsplash.com/users/neom",html:"https://unsplash.com/@neom",photos:"https://api.unsplash.com/users/neom/photos",likes:"https://api.unsplash.com/users/neom/likes",portfolio:"https://api.unsplash.com/users/neom/portfolio",following:"https://api.unsplash.com/users/neom/following",followers:"https://api.unsplash.com/users/neom/followers"},profile_image:{small:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"discoverneom",total_collections:7,total_likes:1,total_photos:222,total_promoted_photos:72,accepted_tos:!0,for_hire:!1,social:{instagram_username:"discoverneom",portfolio_url:"http://www.neom.com",twitter_username:"neom",paypal_email:null}}},topic_submissions:{},user:{id:"mYizSrdJkkU",updated_at:"2024-03-11T08:54:08Z",username:"neom",name:"NEOM",first_name:"NEOM",last_name:null,twitter_username:"neom",portfolio_url:"http://www.neom.com",bio:"Located in the northwest of Saudi Arabia, NEOMs diverse climate offers both sun-soaked beaches and snow-capped mountains. NEOMs unique location will provide residents with enhanced livability while protecting 95% of the natural landscape.",location:"NEOM, Saudi Arabia",links:{self:"https://api.unsplash.com/users/neom",html:"https://unsplash.com/@neom",photos:"https://api.unsplash.com/users/neom/photos",likes:"https://api.unsplash.com/users/neom/likes",portfolio:"https://api.unsplash.com/users/neom/portfolio",following:"https://api.unsplash.com/users/neom/following",followers:"https://api.unsplash.com/users/neom/followers"},profile_image:{small:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"discoverneom",total_collections:7,total_likes:1,total_photos:222,total_promoted_photos:72,accepted_tos:!0,for_hire:!1,social:{instagram_username:"discoverneom",portfolio_url:"http://www.neom.com",twitter_username:"neom",paypal_email:null}}},{id:"UArA9A02Kvk",slug:"a-black-and-white-photo-of-a-man-with-his-head-in-his-hands-UArA9A02Kvk",alternative_slugs:{en:"a-black-and-white-photo-of-a-man-with-his-head-in-his-hands-UArA9A02Kvk"},created_at:"2024-03-05T15:48:31Z",updated_at:"2024-03-11T06:59:25Z",promoted_at:"2024-03-11T06:59:25Z",width:2160,height:2700,color:"#262626",blur_hash:"L78;S$~p00oLD%D%IVay9F9ZIUay",description:null,alt_description:"a black and white photo of a man with his head in his hands",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1709653688483-fc2b356c1f36?ixid=M3wxMTc3M3wwfDF8YWxsfDJ8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1709653688483-fc2b356c1f36?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDJ8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1709653688483-fc2b356c1f36?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDJ8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1709653688483-fc2b356c1f36?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDJ8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1709653688483-fc2b356c1f36?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDJ8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1709653688483-fc2b356c1f36"},links:{self:"https://api.unsplash.com/photos/a-black-and-white-photo-of-a-man-with-his-head-in-his-hands-UArA9A02Kvk",html:"https://unsplash.com/photos/a-black-and-white-photo-of-a-man-with-his-head-in-his-hands-UArA9A02Kvk",download:"https://unsplash.com/photos/UArA9A02Kvk/download?ixid=M3wxMTc3M3wwfDF8YWxsfDJ8fHx8fHwyfHwxNzEwMTUzMjA1fA",download_location:"https://api.unsplash.com/photos/UArA9A02Kvk/download?ixid=M3wxMTc3M3wwfDF8YWxsfDJ8fHx8fHwyfHwxNzEwMTUzMjA1fA"},likes:20,liked_by_user:!1,current_user_collections:[],sponsorship:null,topic_submissions:{},user:{id:"gwWL9kMcm2g",updated_at:"2024-03-11T10:14:07Z",username:"nickandreka",name:"Nick Andrka",first_name:"Nick",last_name:"Andrka",twitter_username:null,portfolio_url:null,bio:null,location:null,links:{self:"https://api.unsplash.com/users/nickandreka",html:"https://unsplash.com/@nickandreka",photos:"https://api.unsplash.com/users/nickandreka/photos",likes:"https://api.unsplash.com/users/nickandreka/likes",portfolio:"https://api.unsplash.com/users/nickandreka/portfolio",following:"https://api.unsplash.com/users/nickandreka/following",followers:"https://api.unsplash.com/users/nickandreka/followers"},profile_image:{small:"https://images.unsplash.com/profile-1698854198608-989031a5ccdeimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1698854198608-989031a5ccdeimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1698854198608-989031a5ccdeimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"andreka.art",total_collections:0,total_likes:8,total_photos:35,total_promoted_photos:19,accepted_tos:!0,for_hire:!0,social:{instagram_username:"andreka.art",portfolio_url:null,twitter_username:null,paypal_email:null}}},{id:"QX_7m4Lh2qg",slug:"a-black-and-white-photo-of-a-lighthouse-QX_7m4Lh2qg",alternative_slugs:{en:"a-black-and-white-photo-of-a-lighthouse-QX_7m4Lh2qg"},created_at:"2024-03-10T16:46:33Z",updated_at:"2024-03-11T06:59:11Z",promoted_at:"2024-03-11T06:59:11Z",width:4e3,height:5751,color:"#f3f3f3",blur_hash:"LAQJiu~X-;9G-:?cIURj~qD%00xt",description:null,alt_description:"a black and white photo of a lighthouse",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1710088912041-34d1767d376a?ixid=M3wxMTc3M3wwfDF8YWxsfDN8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1710088912041-34d1767d376a?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDN8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1710088912041-34d1767d376a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDN8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1710088912041-34d1767d376a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDN8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1710088912041-34d1767d376a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDN8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1710088912041-34d1767d376a"},links:{self:"https://api.unsplash.com/photos/a-black-and-white-photo-of-a-lighthouse-QX_7m4Lh2qg",html:"https://unsplash.com/photos/a-black-and-white-photo-of-a-lighthouse-QX_7m4Lh2qg",download:"https://unsplash.com/photos/QX_7m4Lh2qg/download?ixid=M3wxMTc3M3wwfDF8YWxsfDN8fHx8fHwyfHwxNzEwMTUzMjA1fA",download_location:"https://api.unsplash.com/photos/QX_7m4Lh2qg/download?ixid=M3wxMTc3M3wwfDF8YWxsfDN8fHx8fHwyfHwxNzEwMTUzMjA1fA"},likes:21,liked_by_user:!1,current_user_collections:[],sponsorship:null,topic_submissions:{},user:{id:"ue6QWAAHoIQ",updated_at:"2024-03-11T08:53:54Z",username:"huzhewseh",name:"Volodymyr M",first_name:"Volodymyr",last_name:"M",twitter_username:"huzhewseh",portfolio_url:null,bio:null,location:null,links:{self:"https://api.unsplash.com/users/huzhewseh",html:"https://unsplash.com/@huzhewseh",photos:"https://api.unsplash.com/users/huzhewseh/photos",likes:"https://api.unsplash.com/users/huzhewseh/likes",portfolio:"https://api.unsplash.com/users/huzhewseh/portfolio",following:"https://api.unsplash.com/users/huzhewseh/following",followers:"https://api.unsplash.com/users/huzhewseh/followers"},profile_image:{small:"https://images.unsplash.com/profile-1663221970918-58b1620c49c9image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1663221970918-58b1620c49c9image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1663221970918-58b1620c49c9image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"huzhewseh",total_collections:0,total_likes:0,total_photos:18,total_promoted_photos:3,accepted_tos:!0,for_hire:!0,social:{instagram_username:"huzhewseh",portfolio_url:null,twitter_username:"huzhewseh",paypal_email:null}}},{id:"fMNP7XVcct0",slug:"a-woman-standing-in-a-dark-room-with-her-eyes-closed-fMNP7XVcct0",alternative_slugs:{en:"a-woman-standing-in-a-dark-room-with-her-eyes-closed-fMNP7XVcct0"},created_at:"2024-03-09T08:40:07Z",updated_at:"2024-03-11T06:58:58Z",promoted_at:"2024-03-11T06:58:58Z",width:3264,height:4928,color:"#262626",blur_hash:"L35hY|xu00D%-;xuIUD%00j[?bWB",description:null,alt_description:"a woman standing in a dark room with her eyes closed",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1709973540503-77d699279634?ixid=M3wxMTc3M3wwfDF8YWxsfDR8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1709973540503-77d699279634?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDR8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1709973540503-77d699279634?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDR8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1709973540503-77d699279634?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDR8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1709973540503-77d699279634?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDR8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1709973540503-77d699279634"},links:{self:"https://api.unsplash.com/photos/a-woman-standing-in-a-dark-room-with-her-eyes-closed-fMNP7XVcct0",html:"https://unsplash.com/photos/a-woman-standing-in-a-dark-room-with-her-eyes-closed-fMNP7XVcct0",download:"https://unsplash.com/photos/fMNP7XVcct0/download?ixid=M3wxMTc3M3wwfDF8YWxsfDR8fHx8fHwyfHwxNzEwMTUzMjA1fA",download_location:"https://api.unsplash.com/photos/fMNP7XVcct0/download?ixid=M3wxMTc3M3wwfDF8YWxsfDR8fHx8fHwyfHwxNzEwMTUzMjA1fA"},likes:7,liked_by_user:!1,current_user_collections:[],sponsorship:null,topic_submissions:{},user:{id:"lSlibqdw_c8",updated_at:"2024-03-11T08:54:13Z",username:"vitaliyshev89",name:"Vitaliy Shevchenko",first_name:"Vitaliy",last_name:"Shevchenko",twitter_username:null,portfolio_url:null,bio:null,location:"Kharkiv, Ukraine",links:{self:"https://api.unsplash.com/users/vitaliyshev89",html:"https://unsplash.com/@vitaliyshev89",photos:"https://api.unsplash.com/users/vitaliyshev89/photos",likes:"https://api.unsplash.com/users/vitaliyshev89/likes",portfolio:"https://api.unsplash.com/users/vitaliyshev89/portfolio",following:"https://api.unsplash.com/users/vitaliyshev89/following",followers:"https://api.unsplash.com/users/vitaliyshev89/followers"},profile_image:{small:"https://images.unsplash.com/profile-1652271342920-31eebbc2c3d0image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1652271342920-31eebbc2c3d0image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1652271342920-31eebbc2c3d0image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:null,total_collections:0,total_likes:1,total_photos:205,total_promoted_photos:29,accepted_tos:!0,for_hire:!1,social:{instagram_username:null,portfolio_url:null,twitter_username:null,paypal_email:null}}},{id:"b4kKyX0BQvc",slug:"a-train-station-with-a-train-on-the-tracks-b4kKyX0BQvc",alternative_slugs:{en:"a-train-station-with-a-train-on-the-tracks-b4kKyX0BQvc"},created_at:"2024-03-08T21:58:28Z",updated_at:"2024-03-11T06:57:35Z",promoted_at:"2024-03-11T06:57:27Z",width:6e3,height:4e3,color:"#0c2626",blur_hash:"LSDJS6kD9Zxu~qkDM|xaS%j]xaV@",description:'Stunning metro train station "Elbbrcken" in Hamburg, Germany during sunset',alt_description:"a train station with a train on the tracks",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1709934645859-f1ed8d3a4954?ixid=M3wxMTc3M3wwfDF8YWxsfDV8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1709934645859-f1ed8d3a4954?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDV8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1709934645859-f1ed8d3a4954?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDV8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1709934645859-f1ed8d3a4954?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDV8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1709934645859-f1ed8d3a4954?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDV8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1709934645859-f1ed8d3a4954"},links:{self:"https://api.unsplash.com/photos/a-train-station-with-a-train-on-the-tracks-b4kKyX0BQvc",html:"https://unsplash.com/photos/a-train-station-with-a-train-on-the-tracks-b4kKyX0BQvc",download:"https://unsplash.com/photos/b4kKyX0BQvc/download?ixid=M3wxMTc3M3wwfDF8YWxsfDV8fHx8fHwyfHwxNzEwMTUzMjA1fA",download_location:"https://api.unsplash.com/photos/b4kKyX0BQvc/download?ixid=M3wxMTc3M3wwfDF8YWxsfDV8fHx8fHwyfHwxNzEwMTUzMjA1fA"},likes:8,liked_by_user:!1,current_user_collections:[],sponsorship:null,topic_submissions:{"street-photography":{status:"approved",approved_on:"2024-03-11T06:57:35Z"}},user:{id:"TffftDPlBPk",updated_at:"2024-03-11T06:59:04Z",username:"christianlue",name:"Christian Lue",first_name:"Christian",last_name:"Lue",twitter_username:"chrrischii",portfolio_url:null,bio:null,location:"Frankfurt / Berlin",links:{self:"https://api.unsplash.com/users/christianlue",html:"https://unsplash.com/@christianlue",photos:"https://api.unsplash.com/users/christianlue/photos",likes:"https://api.unsplash.com/users/christianlue/likes",portfolio:"https://api.unsplash.com/users/christianlue/portfolio",following:"https://api.unsplash.com/users/christianlue/following",followers:"https://api.unsplash.com/users/christianlue/followers"},profile_image:{small:"https://images.unsplash.com/profile-1581889127238-ea4aa40e8cb4image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1581889127238-ea4aa40e8cb4image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1581889127238-ea4aa40e8cb4image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:null,total_collections:7,total_likes:15,total_photos:571,total_promoted_photos:103,accepted_tos:!0,for_hire:!0,social:{instagram_username:null,portfolio_url:null,twitter_username:"chrrischii",paypal_email:null}}},{id:"9633dHhioC8",slug:"a-person-walking-through-a-canyon-in-the-desert-9633dHhioC8",alternative_slugs:{en:"a-person-walking-through-a-canyon-in-the-desert-9633dHhioC8"},created_at:"2023-04-28T15:30:26Z",updated_at:"2024-03-10T10:46:58Z",promoted_at:"2023-05-13T12:02:35Z",width:8316,height:5544,color:"#734026",blur_hash:"LVHdd89G57-o.9IBsSR-~pD*M{xt",description:"Amongst expansive red sands and spectacular sandstone rock formations, Hisma Desert  NEOM, Saudi Arabia | The NEOM Nature Reserve region is being designed to deliver protection and restoration of biodiversity across 95% of NEOM.",alt_description:"a person walking through a canyon in the desert",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1682695795255-b236b1f1267d?ixid=M3wxMTc3M3wxfDF8YWxsfDZ8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1682695795255-b236b1f1267d?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wxfDF8YWxsfDZ8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1682695795255-b236b1f1267d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wxfDF8YWxsfDZ8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1682695795255-b236b1f1267d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wxfDF8YWxsfDZ8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1682695795255-b236b1f1267d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wxfDF8YWxsfDZ8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1682695795255-b236b1f1267d"},links:{self:"https://api.unsplash.com/photos/a-person-walking-through-a-canyon-in-the-desert-9633dHhioC8",html:"https://unsplash.com/photos/a-person-walking-through-a-canyon-in-the-desert-9633dHhioC8",download:"https://unsplash.com/photos/9633dHhioC8/download?ixid=M3wxMTc3M3wxfDF8YWxsfDZ8fHx8fHwyfHwxNzEwMTUzMjA1fA",download_location:"https://api.unsplash.com/photos/9633dHhioC8/download?ixid=M3wxMTc3M3wxfDF8YWxsfDZ8fHx8fHwyfHwxNzEwMTUzMjA1fA"},likes:631,liked_by_user:!1,current_user_collections:[],sponsorship:{impression_urls:["https://secure.insightexpressai.com/adServer/adServerESI.aspx?script=false&bannerID=11515595&rnd=[timestamp]&redir=https://secure.insightexpressai.com/adserver/1pixel.gif","https://secure.insightexpressai.com/adServer/adServerESI.aspx?script=false&bannerID=11515798&rnd=[timestamp]&redir=https://secure.insightexpressai.com/adserver/1pixel.gif"],tagline:"Made to Change",tagline_url:"https://www.neom.com/en-us?utm_source=unsplash&utm_medium=referral",sponsor:{id:"mYizSrdJkkU",updated_at:"2024-03-11T08:54:08Z",username:"neom",name:"NEOM",first_name:"NEOM",last_name:null,twitter_username:"neom",portfolio_url:"http://www.neom.com",bio:"Located in the northwest of Saudi Arabia, NEOMs diverse climate offers both sun-soaked beaches and snow-capped mountains. NEOMs unique location will provide residents with enhanced livability while protecting 95% of the natural landscape.",location:"NEOM, Saudi Arabia",links:{self:"https://api.unsplash.com/users/neom",html:"https://unsplash.com/@neom",photos:"https://api.unsplash.com/users/neom/photos",likes:"https://api.unsplash.com/users/neom/likes",portfolio:"https://api.unsplash.com/users/neom/portfolio",following:"https://api.unsplash.com/users/neom/following",followers:"https://api.unsplash.com/users/neom/followers"},profile_image:{small:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"discoverneom",total_collections:7,total_likes:1,total_photos:222,total_promoted_photos:72,accepted_tos:!0,for_hire:!1,social:{instagram_username:"discoverneom",portfolio_url:"http://www.neom.com",twitter_username:"neom",paypal_email:null}}},topic_submissions:{},user:{id:"mYizSrdJkkU",updated_at:"2024-03-11T08:54:08Z",username:"neom",name:"NEOM",first_name:"NEOM",last_name:null,twitter_username:"neom",portfolio_url:"http://www.neom.com",bio:"Located in the northwest of Saudi Arabia, NEOMs diverse climate offers both sun-soaked beaches and snow-capped mountains. NEOMs unique location will provide residents with enhanced livability while protecting 95% of the natural landscape.",location:"NEOM, Saudi Arabia",links:{self:"https://api.unsplash.com/users/neom",html:"https://unsplash.com/@neom",photos:"https://api.unsplash.com/users/neom/photos",likes:"https://api.unsplash.com/users/neom/likes",portfolio:"https://api.unsplash.com/users/neom/portfolio",following:"https://api.unsplash.com/users/neom/following",followers:"https://api.unsplash.com/users/neom/followers"},profile_image:{small:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"discoverneom",total_collections:7,total_likes:1,total_photos:222,total_promoted_photos:72,accepted_tos:!0,for_hire:!1,social:{instagram_username:"discoverneom",portfolio_url:"http://www.neom.com",twitter_username:"neom",paypal_email:null}}},{id:"4PmYYBFhwFM",slug:"a-close-up-of-a-car-door-with-the-word-budder-on-it-4PmYYBFhwFM",alternative_slugs:{en:"a-close-up-of-a-car-door-with-the-word-budder-on-it-4PmYYBFhwFM"},created_at:"2024-03-09T18:40:37Z",updated_at:"2024-03-11T06:57:23Z",promoted_at:"2024-03-11T06:57:23Z",width:5248,height:7872,color:"#a6a6a6",blur_hash:"LHDA40%MbGxu%L?bt7of_N%gIBRj",description:null,alt_description:"a close up of a car door with the word budder on it",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1710009439657-c0dfdc051a28?ixid=M3wxMTc3M3wwfDF8YWxsfDd8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1710009439657-c0dfdc051a28?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDd8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1710009439657-c0dfdc051a28?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDd8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1710009439657-c0dfdc051a28?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDd8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1710009439657-c0dfdc051a28?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDd8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1710009439657-c0dfdc051a28"},links:{self:"https://api.unsplash.com/photos/a-close-up-of-a-car-door-with-the-word-budder-on-it-4PmYYBFhwFM",html:"https://unsplash.com/photos/a-close-up-of-a-car-door-with-the-word-budder-on-it-4PmYYBFhwFM",download:"https://unsplash.com/photos/4PmYYBFhwFM/download?ixid=M3wxMTc3M3wwfDF8YWxsfDd8fHx8fHwyfHwxNzEwMTUzMjA1fA",download_location:"https://api.unsplash.com/photos/4PmYYBFhwFM/download?ixid=M3wxMTc3M3wwfDF8YWxsfDd8fHx8fHwyfHwxNzEwMTUzMjA1fA"},likes:5,liked_by_user:!1,current_user_collections:[],sponsorship:null,topic_submissions:{},user:{id:"Xz7_QPPM2So",updated_at:"2024-03-11T08:27:09Z",username:"tiago_f_ferreira",name:"Tiago Ferreira",first_name:"Tiago",last_name:"Ferreira",twitter_username:null,portfolio_url:"https://tiagoferreira765.wixsite.com/photographyandmusic",bio:`Photography - a hobby, a passion.\r
Planet earth , a creative space to enjoy.`,location:"Lisboa, Portugal",links:{self:"https://api.unsplash.com/users/tiago_f_ferreira",html:"https://unsplash.com/@tiago_f_ferreira",photos:"https://api.unsplash.com/users/tiago_f_ferreira/photos",likes:"https://api.unsplash.com/users/tiago_f_ferreira/likes",portfolio:"https://api.unsplash.com/users/tiago_f_ferreira/portfolio",following:"https://api.unsplash.com/users/tiago_f_ferreira/following",followers:"https://api.unsplash.com/users/tiago_f_ferreira/followers"},profile_image:{small:"https://images.unsplash.com/profile-1595844391672-cdf854039843image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1595844391672-cdf854039843image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1595844391672-cdf854039843image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"tiago_f_ferreira",total_collections:1,total_likes:144,total_photos:205,total_promoted_photos:8,accepted_tos:!0,for_hire:!1,social:{instagram_username:"tiago_f_ferreira",portfolio_url:"https://tiagoferreira765.wixsite.com/photographyandmusic",twitter_username:null,paypal_email:null}}},{id:"BUhVFtY-890",slug:"a-close-up-of-a-bird-with-a-red-head-BUhVFtY-890",alternative_slugs:{en:"a-close-up-of-a-bird-with-a-red-head-BUhVFtY-890"},created_at:"2024-03-09T10:03:28Z",updated_at:"2024-03-11T06:57:20Z",promoted_at:"2024-03-11T06:57:20Z",width:3511,height:2231,color:"#262626",blur_hash:"L24epEWB0eMx$*t8OEV@RPj]baay",description:null,alt_description:"a close up of a bird with a red head",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1709978601970-036e92662b46?ixid=M3wxMTc3M3wwfDF8YWxsfDh8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1709978601970-036e92662b46?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDh8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1709978601970-036e92662b46?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDh8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1709978601970-036e92662b46?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDh8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1709978601970-036e92662b46?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDh8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1709978601970-036e92662b46"},links:{self:"https://api.unsplash.com/photos/a-close-up-of-a-bird-with-a-red-head-BUhVFtY-890",html:"https://unsplash.com/photos/a-close-up-of-a-bird-with-a-red-head-BUhVFtY-890",download:"https://unsplash.com/photos/BUhVFtY-890/download?ixid=M3wxMTc3M3wwfDF8YWxsfDh8fHx8fHwyfHwxNzEwMTUzMjA1fA",download_location:"https://api.unsplash.com/photos/BUhVFtY-890/download?ixid=M3wxMTc3M3wwfDF8YWxsfDh8fHx8fHwyfHwxNzEwMTUzMjA1fA"},likes:8,liked_by_user:!1,current_user_collections:[],sponsorship:null,topic_submissions:{"textures-patterns":{status:"rejected"},spring:{status:"rejected"},"earth-hour":{status:"approved",approved_on:"2024-03-10T12:31:10Z"},health:{status:"unevaluated"},animals:{status:"unevaluated"},film:{status:"unevaluated"},travel:{status:"unevaluated"},nature:{status:"unevaluated"},wallpapers:{status:"unevaluated"}},user:{id:"3SCC0WcF-wA",updated_at:"2024-03-11T09:44:02Z",username:"refargotohp",name:"refargotohp",first_name:"refargotohp",last_name:null,twitter_username:null,portfolio_url:null,bio:"Hello  My name is Pavel, and I am a photographer. I enjoy the photo in any of its manifestations. Sequential shooting, street, studio, portraiture - it's all me. Waiting for you on my social networks - @refargotohp",location:null,links:{self:"https://api.unsplash.com/users/refargotohp",html:"https://unsplash.com/@refargotohp",photos:"https://api.unsplash.com/users/refargotohp/photos",likes:"https://api.unsplash.com/users/refargotohp/likes",portfolio:"https://api.unsplash.com/users/refargotohp/portfolio",following:"https://api.unsplash.com/users/refargotohp/following",followers:"https://api.unsplash.com/users/refargotohp/followers"},profile_image:{small:"https://images.unsplash.com/profile-1653036388874-dab6bdb375bcimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1653036388874-dab6bdb375bcimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1653036388874-dab6bdb375bcimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"refargotohp",total_collections:1,total_likes:86,total_photos:132,total_promoted_photos:61,accepted_tos:!0,for_hire:!0,social:{instagram_username:"refargotohp",portfolio_url:null,twitter_username:null,paypal_email:null}}},{id:"99clkpyauJI",slug:"there-are-bottles-of-beer-on-a-shelf-in-front-of-a-window-99clkpyauJI",alternative_slugs:{en:"there-are-bottles-of-beer-on-a-shelf-in-front-of-a-window-99clkpyauJI"},created_at:"2024-03-10T00:15:28Z",updated_at:"2024-03-11T06:56:32Z",promoted_at:"2024-03-11T06:56:32Z",width:4299,height:3448,color:"#f3f3f3",blur_hash:"LjJuGn?bM{xu~qoKRPM{9FM{t6M_",description:null,alt_description:"there are bottles of beer on a shelf in front of a window",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1710029721414-9e2125e155c3?ixid=M3wxMTc3M3wwfDF8YWxsfDl8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1710029721414-9e2125e155c3?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDl8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1710029721414-9e2125e155c3?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDl8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1710029721414-9e2125e155c3?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDl8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1710029721414-9e2125e155c3?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDl8fHx8fHwyfHwxNzEwMTUzMjA1fA&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1710029721414-9e2125e155c3"},links:{self:"https://api.unsplash.com/photos/there-are-bottles-of-beer-on-a-shelf-in-front-of-a-window-99clkpyauJI",html:"https://unsplash.com/photos/there-are-bottles-of-beer-on-a-shelf-in-front-of-a-window-99clkpyauJI",download:"https://unsplash.com/photos/99clkpyauJI/download?ixid=M3wxMTc3M3wwfDF8YWxsfDl8fHx8fHwyfHwxNzEwMTUzMjA1fA",download_location:"https://api.unsplash.com/photos/99clkpyauJI/download?ixid=M3wxMTc3M3wwfDF8YWxsfDl8fHx8fHwyfHwxNzEwMTUzMjA1fA"},likes:2,liked_by_user:!1,current_user_collections:[],sponsorship:null,topic_submissions:{film:{status:"approved",approved_on:"2024-03-10T16:39:06Z"}},user:{id:"TPCcwPbQzmY",updated_at:"2024-03-11T06:59:01Z",username:"suzm4film",name:"szm 4",first_name:"szm",last_name:"4",twitter_username:null,portfolio_url:null,bio:null,location:"Japan",links:{self:"https://api.unsplash.com/users/suzm4film",html:"https://unsplash.com/@suzm4film",photos:"https://api.unsplash.com/users/suzm4film/photos",likes:"https://api.unsplash.com/users/suzm4film/likes",portfolio:"https://api.unsplash.com/users/suzm4film/portfolio",following:"https://api.unsplash.com/users/suzm4film/following",followers:"https://api.unsplash.com/users/suzm4film/followers"},profile_image:{small:"https://images.unsplash.com/profile-1632890829763-5c518f873dee?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1632890829763-5c518f873dee?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1632890829763-5c518f873dee?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:null,total_collections:0,total_likes:0,total_photos:189,total_promoted_photos:19,accepted_tos:!0,for_hire:!1,social:{instagram_username:null,portfolio_url:null,twitter_username:null,paypal_email:null}}},{id:"Lbt-cZyOUM4",slug:"an-old-fashioned-typewriter-sitting-on-a-table-in-front-of-a-window-Lbt-cZyOUM4",alternative_slugs:{en:"an-old-fashioned-typewriter-sitting-on-a-table-in-front-of-a-window-Lbt-cZyOUM4"},created_at:"2024-03-09T16:58:57Z",updated_at:"2024-03-11T06:57:06Z",promoted_at:"2024-03-11T06:55:38Z",width:5783,height:3848,color:"#0c2626",blur_hash:"LkG[.y01Ri-:?bM{RjofM{xuRkWB",description:null,alt_description:"an old fashioned typewriter sitting on a table in front of a window",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1710003364549-de37d4ed3413?ixid=M3wxMTc3M3wwfDF8YWxsfDEwfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1710003364549-de37d4ed3413?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDEwfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1710003364549-de37d4ed3413?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDEwfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1710003364549-de37d4ed3413?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDEwfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1710003364549-de37d4ed3413?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDEwfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1710003364549-de37d4ed3413"},links:{self:"https://api.unsplash.com/photos/an-old-fashioned-typewriter-sitting-on-a-table-in-front-of-a-window-Lbt-cZyOUM4",html:"https://unsplash.com/photos/an-old-fashioned-typewriter-sitting-on-a-table-in-front-of-a-window-Lbt-cZyOUM4",download:"https://unsplash.com/photos/Lbt-cZyOUM4/download?ixid=M3wxMTc3M3wwfDF8YWxsfDEwfHx8fHx8Mnx8MTcxMDE1MzIwNXw",download_location:"https://api.unsplash.com/photos/Lbt-cZyOUM4/download?ixid=M3wxMTc3M3wwfDF8YWxsfDEwfHx8fHx8Mnx8MTcxMDE1MzIwNXw"},likes:3,liked_by_user:!1,current_user_collections:[],sponsorship:null,topic_submissions:{},user:{id:"8D4VFtkiIuw",updated_at:"2024-03-11T07:28:57Z",username:"tama66",name:"Peter Herrmann",first_name:"Peter",last_name:"Herrmann",twitter_username:null,portfolio_url:null,bio:"Everything... but not boring! Instagram@Tiefstapler66",location:"Leverkusen/Germany",links:{self:"https://api.unsplash.com/users/tama66",html:"https://unsplash.com/@tama66",photos:"https://api.unsplash.com/users/tama66/photos",likes:"https://api.unsplash.com/users/tama66/likes",portfolio:"https://api.unsplash.com/users/tama66/portfolio",following:"https://api.unsplash.com/users/tama66/following",followers:"https://api.unsplash.com/users/tama66/followers"},profile_image:{small:"https://images.unsplash.com/profile-1611475141936-383e23c6cc6dimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1611475141936-383e23c6cc6dimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1611475141936-383e23c6cc6dimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"tiefstapler66",total_collections:1,total_likes:149,total_photos:363,total_promoted_photos:152,accepted_tos:!0,for_hire:!0,social:{instagram_username:"tiefstapler66",portfolio_url:null,twitter_username:null,paypal_email:null}}},{id:"D1jr0Mevs-c",slug:"an-aerial-view-of-a-body-of-water-D1jr0Mevs-c",alternative_slugs:{en:"an-aerial-view-of-a-body-of-water-D1jr0Mevs-c"},created_at:"2024-02-07T22:34:15Z",updated_at:"2024-03-10T10:54:36Z",promoted_at:null,width:5280,height:2970,color:"#0c2626",blur_hash:"LH9[JL0i+HM{^}Ezw#R.b@n$nhbb",description:"The Islands of NEOM are home to kaleidoscopic-coloured coral reefs and an abundance of diverse marine life | Islands of NEOM  NEOM, Saudi Arabia",alt_description:"an aerial view of a body of water",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1707343843982-f8275f3994c5?ixid=M3wxMTc3M3wxfDF8YWxsfDExfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1707343843982-f8275f3994c5?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wxfDF8YWxsfDExfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1707343843982-f8275f3994c5?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wxfDF8YWxsfDExfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1707343843982-f8275f3994c5?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wxfDF8YWxsfDExfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1707343843982-f8275f3994c5?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wxfDF8YWxsfDExfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1707343843982-f8275f3994c5"},links:{self:"https://api.unsplash.com/photos/an-aerial-view-of-a-body-of-water-D1jr0Mevs-c",html:"https://unsplash.com/photos/an-aerial-view-of-a-body-of-water-D1jr0Mevs-c",download:"https://unsplash.com/photos/D1jr0Mevs-c/download?ixid=M3wxMTc3M3wxfDF8YWxsfDExfHx8fHx8Mnx8MTcxMDE1MzIwNXw",download_location:"https://api.unsplash.com/photos/D1jr0Mevs-c/download?ixid=M3wxMTc3M3wxfDF8YWxsfDExfHx8fHx8Mnx8MTcxMDE1MzIwNXw"},likes:308,liked_by_user:!1,current_user_collections:[],sponsorship:{impression_urls:[],tagline:"Made to Change",tagline_url:"https://www.neom.com/en-us?utm_source=unsplash&utm_medium=referral",sponsor:{id:"mYizSrdJkkU",updated_at:"2024-03-11T08:54:08Z",username:"neom",name:"NEOM",first_name:"NEOM",last_name:null,twitter_username:"neom",portfolio_url:"http://www.neom.com",bio:"Located in the northwest of Saudi Arabia, NEOMs diverse climate offers both sun-soaked beaches and snow-capped mountains. NEOMs unique location will provide residents with enhanced livability while protecting 95% of the natural landscape.",location:"NEOM, Saudi Arabia",links:{self:"https://api.unsplash.com/users/neom",html:"https://unsplash.com/@neom",photos:"https://api.unsplash.com/users/neom/photos",likes:"https://api.unsplash.com/users/neom/likes",portfolio:"https://api.unsplash.com/users/neom/portfolio",following:"https://api.unsplash.com/users/neom/following",followers:"https://api.unsplash.com/users/neom/followers"},profile_image:{small:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"discoverneom",total_collections:7,total_likes:1,total_photos:222,total_promoted_photos:72,accepted_tos:!0,for_hire:!1,social:{instagram_username:"discoverneom",portfolio_url:"http://www.neom.com",twitter_username:"neom",paypal_email:null}}},topic_submissions:{},user:{id:"mYizSrdJkkU",updated_at:"2024-03-11T08:54:08Z",username:"neom",name:"NEOM",first_name:"NEOM",last_name:null,twitter_username:"neom",portfolio_url:"http://www.neom.com",bio:"Located in the northwest of Saudi Arabia, NEOMs diverse climate offers both sun-soaked beaches and snow-capped mountains. NEOMs unique location will provide residents with enhanced livability while protecting 95% of the natural landscape.",location:"NEOM, Saudi Arabia",links:{self:"https://api.unsplash.com/users/neom",html:"https://unsplash.com/@neom",photos:"https://api.unsplash.com/users/neom/photos",likes:"https://api.unsplash.com/users/neom/likes",portfolio:"https://api.unsplash.com/users/neom/portfolio",following:"https://api.unsplash.com/users/neom/following",followers:"https://api.unsplash.com/users/neom/followers"},profile_image:{small:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"discoverneom",total_collections:7,total_likes:1,total_photos:222,total_promoted_photos:72,accepted_tos:!0,for_hire:!1,social:{instagram_username:"discoverneom",portfolio_url:"http://www.neom.com",twitter_username:"neom",paypal_email:null}}},{id:"0RBEUjWQBBA",slug:"a-woman-standing-under-a-cherry-blossom-tree-0RBEUjWQBBA",alternative_slugs:{en:"a-woman-standing-under-a-cherry-blossom-tree-0RBEUjWQBBA"},created_at:"2024-03-10T10:15:48Z",updated_at:"2024-03-11T06:55:22Z",promoted_at:"2024-03-11T06:55:22Z",width:4672,height:7008,color:"#262626",blur_hash:"LOG8o{t7WBWB~DofR*j@D%NGR%WB",description:null,alt_description:"a woman standing under a cherry blossom tree",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1710065574765-a685385c6d9a?ixid=M3wxMTc3M3wwfDF8YWxsfDEyfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1710065574765-a685385c6d9a?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDEyfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1710065574765-a685385c6d9a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDEyfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1710065574765-a685385c6d9a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDEyfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1710065574765-a685385c6d9a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDEyfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1710065574765-a685385c6d9a"},links:{self:"https://api.unsplash.com/photos/a-woman-standing-under-a-cherry-blossom-tree-0RBEUjWQBBA",html:"https://unsplash.com/photos/a-woman-standing-under-a-cherry-blossom-tree-0RBEUjWQBBA",download:"https://unsplash.com/photos/0RBEUjWQBBA/download?ixid=M3wxMTc3M3wwfDF8YWxsfDEyfHx8fHx8Mnx8MTcxMDE1MzIwNXw",download_location:"https://api.unsplash.com/photos/0RBEUjWQBBA/download?ixid=M3wxMTc3M3wwfDF8YWxsfDEyfHx8fHx8Mnx8MTcxMDE1MzIwNXw"},likes:11,liked_by_user:!1,current_user_collections:[],sponsorship:null,topic_submissions:{},user:{id:"ePlndXHeIiM",updated_at:"2024-03-11T09:04:03Z",username:"lwdzl",name:"Jack Dong",first_name:"Jack",last_name:"Dong",twitter_username:null,portfolio_url:"https://www.xiaohongshu.com/user/profile/5f11b998000000000101d8d2?xhsshare=CopyLink&appuid=5f11b998000000000101d8d2&apptime=1696562673",bio:null,location:null,links:{self:"https://api.unsplash.com/users/lwdzl",html:"https://unsplash.com/@lwdzl",photos:"https://api.unsplash.com/users/lwdzl/photos",likes:"https://api.unsplash.com/users/lwdzl/likes",portfolio:"https://api.unsplash.com/users/lwdzl/portfolio",following:"https://api.unsplash.com/users/lwdzl/following",followers:"https://api.unsplash.com/users/lwdzl/followers"},profile_image:{small:"https://images.unsplash.com/profile-1696563144074-80a8da44bcd4?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1696563144074-80a8da44bcd4?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1696563144074-80a8da44bcd4?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:null,total_collections:0,total_likes:101,total_photos:640,total_promoted_photos:112,accepted_tos:!0,for_hire:!0,social:{instagram_username:null,portfolio_url:"https://www.xiaohongshu.com/user/profile/5f11b998000000000101d8d2?xhsshare=CopyLink&appuid=5f11b998000000000101d8d2&apptime=1696562673",twitter_username:null,paypal_email:null}}},{id:"2IGDvJa2Bd0",slug:"a-path-in-the-middle-of-a-foggy-forest-2IGDvJa2Bd0",alternative_slugs:{en:"a-path-in-the-middle-of-a-foggy-forest-2IGDvJa2Bd0"},created_at:"2024-02-21T14:32:53Z",updated_at:"2024-03-11T06:54:06Z",promoted_at:"2024-03-11T06:54:06Z",width:4672,height:5840,color:"#f3f3f3",blur_hash:"L#Gv00ofD%ay~qoeM_ay%NafWVj[",description:null,alt_description:"a path in the middle of a foggy forest",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1708525736169-534ee3e24e99?ixid=M3wxMTc3M3wwfDF8YWxsfDEzfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1708525736169-534ee3e24e99?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDEzfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1708525736169-534ee3e24e99?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDEzfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1708525736169-534ee3e24e99?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDEzfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1708525736169-534ee3e24e99?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDEzfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1708525736169-534ee3e24e99"},links:{self:"https://api.unsplash.com/photos/a-path-in-the-middle-of-a-foggy-forest-2IGDvJa2Bd0",html:"https://unsplash.com/photos/a-path-in-the-middle-of-a-foggy-forest-2IGDvJa2Bd0",download:"https://unsplash.com/photos/2IGDvJa2Bd0/download?ixid=M3wxMTc3M3wwfDF8YWxsfDEzfHx8fHx8Mnx8MTcxMDE1MzIwNXw",download_location:"https://api.unsplash.com/photos/2IGDvJa2Bd0/download?ixid=M3wxMTc3M3wwfDF8YWxsfDEzfHx8fHx8Mnx8MTcxMDE1MzIwNXw"},likes:11,liked_by_user:!1,current_user_collections:[],sponsorship:null,topic_submissions:{},user:{id:"zL5HAN1fnJw",updated_at:"2024-03-11T06:58:57Z",username:"viklukphotography",name:"Viktor Mischke",first_name:"Viktor",last_name:"Mischke",twitter_username:null,portfolio_url:"https://www.istockphoto.com/de/portfolio/snoviktor",bio:null,location:"Schloss Holte-Stukenbrock",links:{self:"https://api.unsplash.com/users/viklukphotography",html:"https://unsplash.com/@viklukphotography",photos:"https://api.unsplash.com/users/viklukphotography/photos",likes:"https://api.unsplash.com/users/viklukphotography/likes",portfolio:"https://api.unsplash.com/users/viklukphotography/portfolio",following:"https://api.unsplash.com/users/viklukphotography/following",followers:"https://api.unsplash.com/users/viklukphotography/followers"},profile_image:{small:"https://images.unsplash.com/profile-1646051425690-ed09fae6858fimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1646051425690-ed09fae6858fimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1646051425690-ed09fae6858fimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"viktormischke",total_collections:0,total_likes:141,total_photos:38,total_promoted_photos:8,accepted_tos:!0,for_hire:!1,social:{instagram_username:"viktormischke",portfolio_url:"https://www.istockphoto.com/de/portfolio/snoviktor",twitter_username:null,paypal_email:null}}},{id:"PZfeP0uwBpQ",slug:"a-person-with-a-hat-on-their-head-in-a-field-PZfeP0uwBpQ",alternative_slugs:{en:"a-person-with-a-hat-on-their-head-in-a-field-PZfeP0uwBpQ"},created_at:"2024-02-24T10:57:49Z",updated_at:"2024-03-11T06:53:56Z",promoted_at:"2024-03-11T06:53:56Z",width:2720,height:4080,color:"#404026",blur_hash:"LIB:Tx%K56NGORbYxas:0KRj-poe",description:"A woman wearing a traditional coolie hat kneels in a field of green vegetables, carefully harvesting the crops.",alt_description:"a person with a hat on their head in a field",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1708771641703-0df3d179cec3?ixid=M3wxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1708771641703-0df3d179cec3?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1708771641703-0df3d179cec3?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1708771641703-0df3d179cec3?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1708771641703-0df3d179cec3?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1708771641703-0df3d179cec3"},links:{self:"https://api.unsplash.com/photos/a-person-with-a-hat-on-their-head-in-a-field-PZfeP0uwBpQ",html:"https://unsplash.com/photos/a-person-with-a-hat-on-their-head-in-a-field-PZfeP0uwBpQ",download:"https://unsplash.com/photos/PZfeP0uwBpQ/download?ixid=M3wxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTcxMDE1MzIwNXw",download_location:"https://api.unsplash.com/photos/PZfeP0uwBpQ/download?ixid=M3wxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTcxMDE1MzIwNXw"},likes:2,liked_by_user:!1,current_user_collections:[],sponsorship:null,topic_submissions:{people:{status:"rejected"},experimental:{status:"rejected"}},user:{id:"mWjiXj5vQuQ",updated_at:"2024-03-11T06:58:57Z",username:"chanwei_snap",name:"Chanwei",first_name:"Chanwei",last_name:null,twitter_username:null,portfolio_url:null,bio:` Just a snap-happy amateur sharing my photos with you!\r
Instagram: @chanwei.snap\r
`,location:"Taipei, Taiwan",links:{self:"https://api.unsplash.com/users/chanwei_snap",html:"https://unsplash.com/@chanwei_snap",photos:"https://api.unsplash.com/users/chanwei_snap/photos",likes:"https://api.unsplash.com/users/chanwei_snap/likes",portfolio:"https://api.unsplash.com/users/chanwei_snap/portfolio",following:"https://api.unsplash.com/users/chanwei_snap/following",followers:"https://api.unsplash.com/users/chanwei_snap/followers"},profile_image:{small:"https://images.unsplash.com/profile-1705518610211-a929b876f4d5image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1705518610211-a929b876f4d5image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1705518610211-a929b876f4d5image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"chanwei.snap",total_collections:15,total_likes:63,total_photos:150,total_promoted_photos:2,accepted_tos:!0,for_hire:!1,social:{instagram_username:"chanwei.snap",portfolio_url:null,twitter_username:null,paypal_email:null}}},{id:"1JwHaWeSK9s",slug:"a-picture-of-some-white-flowers-on-a-white-background-1JwHaWeSK9s",alternative_slugs:{en:"a-picture-of-some-white-flowers-on-a-white-background-1JwHaWeSK9s"},created_at:"2024-03-10T11:33:51Z",updated_at:"2024-03-11T06:57:09Z",promoted_at:"2024-03-11T06:53:39Z",width:3586,height:3917,color:"#f3f3d9",blur_hash:"LIQ0T^j=_4%M%MxbM{M{_4jZITbH",description:"Title: Christmas eve Artist: Callowhill, James Publisher: L. Prang & Co. Name on Item: JC Date: [ca. 18611897] https://www.digitalcommonwealth.org/search/commonwealth:7w62f880r",alt_description:"a picture of some white flowers on a white background",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1710069455079-2059d3cefe91?ixid=M3wxMTc3M3wwfDF8YWxsfDE1fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1710069455079-2059d3cefe91?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDE1fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1710069455079-2059d3cefe91?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDE1fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1710069455079-2059d3cefe91?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDE1fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1710069455079-2059d3cefe91?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDE1fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1710069455079-2059d3cefe91"},links:{self:"https://api.unsplash.com/photos/a-picture-of-some-white-flowers-on-a-white-background-1JwHaWeSK9s",html:"https://unsplash.com/photos/a-picture-of-some-white-flowers-on-a-white-background-1JwHaWeSK9s",download:"https://unsplash.com/photos/1JwHaWeSK9s/download?ixid=M3wxMTc3M3wwfDF8YWxsfDE1fHx8fHx8Mnx8MTcxMDE1MzIwNXw",download_location:"https://api.unsplash.com/photos/1JwHaWeSK9s/download?ixid=M3wxMTc3M3wwfDF8YWxsfDE1fHx8fHx8Mnx8MTcxMDE1MzIwNXw"},likes:7,liked_by_user:!1,current_user_collections:[],sponsorship:null,topic_submissions:{},user:{id:"piFVWeoWxU8",updated_at:"2024-03-11T07:28:12Z",username:"bostonpubliclibrary",name:"Boston Public Library",first_name:"Boston",last_name:"Public Library",twitter_username:null,portfolio_url:"https://www.bpl.org/",bio:"Considered a pioneer of public library service in the United States, the Boston Public Library is among the three largest collections in the country and is committed to be Free for All.",location:"Boston, USA",links:{self:"https://api.unsplash.com/users/bostonpubliclibrary",html:"https://unsplash.com/@bostonpubliclibrary",photos:"https://api.unsplash.com/users/bostonpubliclibrary/photos",likes:"https://api.unsplash.com/users/bostonpubliclibrary/likes",portfolio:"https://api.unsplash.com/users/bostonpubliclibrary/portfolio",following:"https://api.unsplash.com/users/bostonpubliclibrary/following",followers:"https://api.unsplash.com/users/bostonpubliclibrary/followers"},profile_image:{small:"https://images.unsplash.com/profile-1579171056760-0293bb679901image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1579171056760-0293bb679901image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1579171056760-0293bb679901image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:null,total_collections:6,total_likes:0,total_photos:510,total_promoted_photos:62,accepted_tos:!0,for_hire:!1,social:{instagram_username:null,portfolio_url:"https://www.bpl.org/",twitter_username:null,paypal_email:null}}},{id:"efzvMAIpfWY",slug:"a-couple-of-people-that-are-standing-in-the-dirt-efzvMAIpfWY",alternative_slugs:{en:"a-couple-of-people-that-are-standing-in-the-dirt-efzvMAIpfWY"},created_at:"2023-04-28T12:46:16Z",updated_at:"2024-03-11T09:48:19Z",promoted_at:null,width:9504,height:6336,color:"#c07359",blur_hash:"LELo7xNHxa~Bz:s9S4nO~VbwoLS~",description:"Amongst expansive red sands and spectacular sandstone rock formations, Hisma Desert  NEOM, Saudi Arabia | The NEOM Nature Reserve region is being designed to deliver protection and restoration of biodiversity across 95% of NEOM.",alt_description:"a couple of people that are standing in the dirt",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1682685797742-42c9987a2c34?ixid=M3wxMTc3M3wxfDF8YWxsfDE2fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1682685797742-42c9987a2c34?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wxfDF8YWxsfDE2fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1682685797742-42c9987a2c34?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wxfDF8YWxsfDE2fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1682685797742-42c9987a2c34?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wxfDF8YWxsfDE2fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1682685797742-42c9987a2c34?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wxfDF8YWxsfDE2fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1682685797742-42c9987a2c34"},links:{self:"https://api.unsplash.com/photos/a-couple-of-people-that-are-standing-in-the-dirt-efzvMAIpfWY",html:"https://unsplash.com/photos/a-couple-of-people-that-are-standing-in-the-dirt-efzvMAIpfWY",download:"https://unsplash.com/photos/efzvMAIpfWY/download?ixid=M3wxMTc3M3wxfDF8YWxsfDE2fHx8fHx8Mnx8MTcxMDE1MzIwNXw",download_location:"https://api.unsplash.com/photos/efzvMAIpfWY/download?ixid=M3wxMTc3M3wxfDF8YWxsfDE2fHx8fHx8Mnx8MTcxMDE1MzIwNXw"},likes:211,liked_by_user:!1,current_user_collections:[],sponsorship:{impression_urls:["https://secure.insightexpressai.com/adServer/adServerESI.aspx?script=false&bannerID=11515544&rnd=[timestamp]&redir=https://secure.insightexpressai.com/adserver/1pixel.gif","https://secure.insightexpressai.com/adServer/adServerESI.aspx?script=false&bannerID=11515747&rnd=[timestamp]&redir=https://secure.insightexpressai.com/adserver/1pixel.gif"],tagline:"Made to Change",tagline_url:"https://www.neom.com/en-us?utm_source=unsplash&utm_medium=referral",sponsor:{id:"mYizSrdJkkU",updated_at:"2024-03-11T08:54:08Z",username:"neom",name:"NEOM",first_name:"NEOM",last_name:null,twitter_username:"neom",portfolio_url:"http://www.neom.com",bio:"Located in the northwest of Saudi Arabia, NEOMs diverse climate offers both sun-soaked beaches and snow-capped mountains. NEOMs unique location will provide residents with enhanced livability while protecting 95% of the natural landscape.",location:"NEOM, Saudi Arabia",links:{self:"https://api.unsplash.com/users/neom",html:"https://unsplash.com/@neom",photos:"https://api.unsplash.com/users/neom/photos",likes:"https://api.unsplash.com/users/neom/likes",portfolio:"https://api.unsplash.com/users/neom/portfolio",following:"https://api.unsplash.com/users/neom/following",followers:"https://api.unsplash.com/users/neom/followers"},profile_image:{small:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"discoverneom",total_collections:7,total_likes:1,total_photos:222,total_promoted_photos:72,accepted_tos:!0,for_hire:!1,social:{instagram_username:"discoverneom",portfolio_url:"http://www.neom.com",twitter_username:"neom",paypal_email:null}}},topic_submissions:{},user:{id:"mYizSrdJkkU",updated_at:"2024-03-11T08:54:08Z",username:"neom",name:"NEOM",first_name:"NEOM",last_name:null,twitter_username:"neom",portfolio_url:"http://www.neom.com",bio:"Located in the northwest of Saudi Arabia, NEOMs diverse climate offers both sun-soaked beaches and snow-capped mountains. NEOMs unique location will provide residents with enhanced livability while protecting 95% of the natural landscape.",location:"NEOM, Saudi Arabia",links:{self:"https://api.unsplash.com/users/neom",html:"https://unsplash.com/@neom",photos:"https://api.unsplash.com/users/neom/photos",likes:"https://api.unsplash.com/users/neom/likes",portfolio:"https://api.unsplash.com/users/neom/portfolio",following:"https://api.unsplash.com/users/neom/following",followers:"https://api.unsplash.com/users/neom/followers"},profile_image:{small:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"discoverneom",total_collections:7,total_likes:1,total_photos:222,total_promoted_photos:72,accepted_tos:!0,for_hire:!1,social:{instagram_username:"discoverneom",portfolio_url:"http://www.neom.com",twitter_username:"neom",paypal_email:null}}},{id:"j39-6Uto9QQ",slug:"a-forest-filled-with-lots-of-tall-trees-j39-6Uto9QQ",alternative_slugs:{en:"a-forest-filled-with-lots-of-tall-trees-j39-6Uto9QQ"},created_at:"2024-03-09T22:12:40Z",updated_at:"2024-03-11T07:57:13Z",promoted_at:"2024-03-11T06:51:56Z",width:3759,height:5639,color:"#26260c",blur_hash:"L79tDG?H4;IURu%MM{RP~oohIoIo",description:null,alt_description:"a forest filled with lots of tall trees",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1710020339360-ce951881b835?ixid=M3wxMTc3M3wwfDF8YWxsfDE3fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1710020339360-ce951881b835?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDE3fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1710020339360-ce951881b835?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDE3fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1710020339360-ce951881b835?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDE3fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1710020339360-ce951881b835?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDE3fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1710020339360-ce951881b835"},links:{self:"https://api.unsplash.com/photos/a-forest-filled-with-lots-of-tall-trees-j39-6Uto9QQ",html:"https://unsplash.com/photos/a-forest-filled-with-lots-of-tall-trees-j39-6Uto9QQ",download:"https://unsplash.com/photos/j39-6Uto9QQ/download?ixid=M3wxMTc3M3wwfDF8YWxsfDE3fHx8fHx8Mnx8MTcxMDE1MzIwNXw",download_location:"https://api.unsplash.com/photos/j39-6Uto9QQ/download?ixid=M3wxMTc3M3wwfDF8YWxsfDE3fHx8fHx8Mnx8MTcxMDE1MzIwNXw"},likes:1,liked_by_user:!1,current_user_collections:[],sponsorship:null,topic_submissions:{},user:{id:"MarIhx6ztc0",updated_at:"2024-03-11T06:51:56Z",username:"brice_cooper18",name:"Brice Cooper",first_name:"Brice",last_name:"Cooper",twitter_username:null,portfolio_url:null,bio:"Always down for an adventure, capturing those adventures one photo at a time. Never stop exploring!",location:"Florida",links:{self:"https://api.unsplash.com/users/brice_cooper18",html:"https://unsplash.com/@brice_cooper18",photos:"https://api.unsplash.com/users/brice_cooper18/photos",likes:"https://api.unsplash.com/users/brice_cooper18/likes",portfolio:"https://api.unsplash.com/users/brice_cooper18/portfolio",following:"https://api.unsplash.com/users/brice_cooper18/following",followers:"https://api.unsplash.com/users/brice_cooper18/followers"},profile_image:{small:"https://images.unsplash.com/profile-1673045276376-91bb892b6e94image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1673045276376-91bb892b6e94image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1673045276376-91bb892b6e94image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"brice_cooper18",total_collections:14,total_likes:0,total_photos:1467,total_promoted_photos:51,accepted_tos:!0,for_hire:!0,social:{instagram_username:"brice_cooper18",portfolio_url:null,twitter_username:null,paypal_email:null}}},{id:"oTE1p2Awp3I",slug:"a-couple-of-people-standing-on-top-of-a-cliff-next-to-the-ocean-oTE1p2Awp3I",alternative_slugs:{en:"a-couple-of-people-standing-on-top-of-a-cliff-next-to-the-ocean-oTE1p2Awp3I"},created_at:"2024-02-27T22:15:01Z",updated_at:"2024-03-11T06:51:52Z",promoted_at:"2024-03-11T06:51:52Z",width:4e3,height:5333,color:"#c0c0c0",blur_hash:"LLE:C[u5IooJ_N%gE1ax~ps8Vsoe",description:null,alt_description:"a couple of people standing on top of a cliff next to the ocean",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1709071784840-cf3ecc434749?ixid=M3wxMTc3M3wwfDF8YWxsfDE4fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1709071784840-cf3ecc434749?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDE4fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1709071784840-cf3ecc434749?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDE4fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1709071784840-cf3ecc434749?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDE4fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1709071784840-cf3ecc434749?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDE4fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1709071784840-cf3ecc434749"},links:{self:"https://api.unsplash.com/photos/a-couple-of-people-standing-on-top-of-a-cliff-next-to-the-ocean-oTE1p2Awp3I",html:"https://unsplash.com/photos/a-couple-of-people-standing-on-top-of-a-cliff-next-to-the-ocean-oTE1p2Awp3I",download:"https://unsplash.com/photos/oTE1p2Awp3I/download?ixid=M3wxMTc3M3wwfDF8YWxsfDE4fHx8fHx8Mnx8MTcxMDE1MzIwNXw",download_location:"https://api.unsplash.com/photos/oTE1p2Awp3I/download?ixid=M3wxMTc3M3wwfDF8YWxsfDE4fHx8fHx8Mnx8MTcxMDE1MzIwNXw"},likes:8,liked_by_user:!1,current_user_collections:[],sponsorship:null,topic_submissions:{},user:{id:"khtnjqjzcq0",updated_at:"2024-03-11T06:51:53Z",username:"mitchorr",name:"Mitchell Orr",first_name:"Mitchell",last_name:"Orr",twitter_username:null,portfolio_url:"https://mitchorr.darkroom.tech/",bio:`If you feel you would like to support my work, any donations no matter how small, would be extremely helpful. \r
Thanks for looking!`,location:"Wirral",links:{self:"https://api.unsplash.com/users/mitchorr",html:"https://unsplash.com/@mitchorr",photos:"https://api.unsplash.com/users/mitchorr/photos",likes:"https://api.unsplash.com/users/mitchorr/likes",portfolio:"https://api.unsplash.com/users/mitchorr/portfolio",following:"https://api.unsplash.com/users/mitchorr/following",followers:"https://api.unsplash.com/users/mitchorr/followers"},profile_image:{small:"https://images.unsplash.com/profile-1687891061126-8858e815018fimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1687891061126-8858e815018fimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1687891061126-8858e815018fimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"mitchorr1",total_collections:0,total_likes:41,total_photos:358,total_promoted_photos:118,accepted_tos:!0,for_hire:!0,social:{instagram_username:"mitchorr1",portfolio_url:"https://mitchorr.darkroom.tech/",twitter_username:null,paypal_email:null}}},{id:"ihmo0uRQ3jA",slug:"a-bed-sitting-in-a-bedroom-next-to-a-window-ihmo0uRQ3jA",alternative_slugs:{en:"a-bed-sitting-in-a-bedroom-next-to-a-window-ihmo0uRQ3jA"},created_at:"2024-02-24T20:00:04Z",updated_at:"2024-03-11T06:51:48Z",promoted_at:"2024-03-11T06:51:48Z",width:4e3,height:6e3,color:"#260c0c",blur_hash:"L78;b;?I4Xx?tcIUD+xt03oy-.M|",description:null,alt_description:"a bed sitting in a bedroom next to a window",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1708804309492-5ef3f3458c33?ixid=M3wxMTc3M3wwfDF8YWxsfDE5fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1708804309492-5ef3f3458c33?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDE5fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1708804309492-5ef3f3458c33?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDE5fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1708804309492-5ef3f3458c33?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDE5fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1708804309492-5ef3f3458c33?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDE5fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1708804309492-5ef3f3458c33"},links:{self:"https://api.unsplash.com/photos/a-bed-sitting-in-a-bedroom-next-to-a-window-ihmo0uRQ3jA",html:"https://unsplash.com/photos/a-bed-sitting-in-a-bedroom-next-to-a-window-ihmo0uRQ3jA",download:"https://unsplash.com/photos/ihmo0uRQ3jA/download?ixid=M3wxMTc3M3wwfDF8YWxsfDE5fHx8fHx8Mnx8MTcxMDE1MzIwNXw",download_location:"https://api.unsplash.com/photos/ihmo0uRQ3jA/download?ixid=M3wxMTc3M3wwfDF8YWxsfDE5fHx8fHx8Mnx8MTcxMDE1MzIwNXw"},likes:20,liked_by_user:!1,current_user_collections:[],sponsorship:null,topic_submissions:{},user:{id:"Og5qBrDjufI",updated_at:"2024-03-11T06:51:49Z",username:"mariailves",name:"Maria Ilves",first_name:"Maria",last_name:"Ilves",twitter_username:null,portfolio_url:"http://www.mariailves.com",bio:null,location:"Ambleside",links:{self:"https://api.unsplash.com/users/mariailves",html:"https://unsplash.com/@mariailves",photos:"https://api.unsplash.com/users/mariailves/photos",likes:"https://api.unsplash.com/users/mariailves/likes",portfolio:"https://api.unsplash.com/users/mariailves/portfolio",following:"https://api.unsplash.com/users/mariailves/following",followers:"https://api.unsplash.com/users/mariailves/followers"},profile_image:{small:"https://images.unsplash.com/profile-1708802611867-ab4ff1564c8cimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1708802611867-ab4ff1564c8cimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1708802611867-ab4ff1564c8cimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"mariailves_",total_collections:0,total_likes:0,total_photos:38,total_promoted_photos:4,accepted_tos:!0,for_hire:!0,social:{instagram_username:"mariailves_",portfolio_url:"http://www.mariailves.com",twitter_username:null,paypal_email:null}}},{id:"UvQtTVdFi9I",slug:"UvQtTVdFi9I",alternative_slugs:{en:"UvQtTVdFi9I"},created_at:"2016-08-12T16:12:25Z",updated_at:"2024-03-11T06:50:27Z",promoted_at:"2024-03-11T06:50:27Z",width:3648,height:5472,color:"#8ca673",blur_hash:"LGG9g4IAVax[.Zxus=kB9HtQ%LRj",description:null,alt_description:null,breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1471018289981-5d9f06e2bf45?ixid=M3wxMTc3M3wwfDF8YWxsfDIwfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1471018289981-5d9f06e2bf45?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDIwfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1471018289981-5d9f06e2bf45?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDIwfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1471018289981-5d9f06e2bf45?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDIwfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1471018289981-5d9f06e2bf45?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDIwfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1471018289981-5d9f06e2bf45"},links:{self:"https://api.unsplash.com/photos/UvQtTVdFi9I",html:"https://unsplash.com/photos/UvQtTVdFi9I",download:"https://unsplash.com/photos/UvQtTVdFi9I/download?ixid=M3wxMTc3M3wwfDF8YWxsfDIwfHx8fHx8Mnx8MTcxMDE1MzIwNXw",download_location:"https://api.unsplash.com/photos/UvQtTVdFi9I/download?ixid=M3wxMTc3M3wwfDF8YWxsfDIwfHx8fHx8Mnx8MTcxMDE1MzIwNXw"},likes:60,liked_by_user:!1,current_user_collections:[],sponsorship:null,topic_submissions:{},user:{id:"dhG1THiRwtA",updated_at:"2024-03-11T06:50:28Z",username:"clarissemeyer",name:"Clarisse Meyer",first_name:"Clarisse",last_name:"Meyer",twitter_username:"claireymeyer",portfolio_url:"https://www.clarisserae.com",bio:`Photo | Video | Design - Southern California & Beyond\r
Instagram: @clarisse.rae`,location:"Orange County, CA",links:{self:"https://api.unsplash.com/users/clarissemeyer",html:"https://unsplash.com/@clarissemeyer",photos:"https://api.unsplash.com/users/clarissemeyer/photos",likes:"https://api.unsplash.com/users/clarissemeyer/likes",portfolio:"https://api.unsplash.com/users/clarissemeyer/portfolio",following:"https://api.unsplash.com/users/clarissemeyer/following",followers:"https://api.unsplash.com/users/clarissemeyer/followers"},profile_image:{small:"https://images.unsplash.com/profile-1470948329031-558b487bdf37?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1470948329031-558b487bdf37?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1470948329031-558b487bdf37?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"clarisse.rae",total_collections:2,total_likes:139,total_photos:99,total_promoted_photos:58,accepted_tos:!1,for_hire:!1,social:{instagram_username:"clarisse.rae",portfolio_url:"https://www.clarisserae.com",twitter_username:"claireymeyer",paypal_email:null}}},{id:"iswshBYbTBk",slug:"a-woman-riding-an-escalator-down-an-escalator-iswshBYbTBk",alternative_slugs:{en:"a-woman-riding-an-escalator-down-an-escalator-iswshBYbTBk"},created_at:"2024-02-27T19:26:10Z",updated_at:"2024-03-11T06:48:50Z",promoted_at:"2024-03-11T06:48:50Z",width:3940,height:2634,color:"#73a673",blur_hash:"LEDn~t%{y:WXDPVtH[jt8{o|VGk9",description:null,alt_description:"a woman riding an escalator down an escalator",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1709061965707-9a89ffb23103?ixid=M3wxMTc3M3wwfDF8YWxsfDIyfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1709061965707-9a89ffb23103?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDIyfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1709061965707-9a89ffb23103?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDIyfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1709061965707-9a89ffb23103?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDIyfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1709061965707-9a89ffb23103?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDIyfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1709061965707-9a89ffb23103"},links:{self:"https://api.unsplash.com/photos/a-woman-riding-an-escalator-down-an-escalator-iswshBYbTBk",html:"https://unsplash.com/photos/a-woman-riding-an-escalator-down-an-escalator-iswshBYbTBk",download:"https://unsplash.com/photos/iswshBYbTBk/download?ixid=M3wxMTc3M3wwfDF8YWxsfDIyfHx8fHx8Mnx8MTcxMDE1MzIwNXw",download_location:"https://api.unsplash.com/photos/iswshBYbTBk/download?ixid=M3wxMTc3M3wwfDF8YWxsfDIyfHx8fHx8Mnx8MTcxMDE1MzIwNXw"},likes:4,liked_by_user:!1,current_user_collections:[],sponsorship:null,topic_submissions:{people:{status:"rejected"}},user:{id:"d-2o2yQwtxY",updated_at:"2024-03-11T06:48:59Z",username:"vitalymazur",name:"Vitalii Mazur",first_name:"Vitalii",last_name:"Mazur",twitter_username:"@madebyvitalii",portfolio_url:"https://www.behance.net/vitaliimazur",bio:`Life through photography  \r
Feel free to support me via PayPal (vitaly.mazur@icloud.com) if you like to use my shots. Also I'm available for a photoshoot in Toronto `,location:"Toronto, Canada",links:{self:"https://api.unsplash.com/users/vitalymazur",html:"https://unsplash.com/@vitalymazur",photos:"https://api.unsplash.com/users/vitalymazur/photos",likes:"https://api.unsplash.com/users/vitalymazur/likes",portfolio:"https://api.unsplash.com/users/vitalymazur/portfolio",following:"https://api.unsplash.com/users/vitalymazur/following",followers:"https://api.unsplash.com/users/vitalymazur/followers"},profile_image:{small:"https://images.unsplash.com/profile-1708119387274-fad12c7d293b?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1708119387274-fad12c7d293b?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1708119387274-fad12c7d293b?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"vitalymazur ",total_collections:14,total_likes:773,total_photos:263,total_promoted_photos:15,accepted_tos:!0,for_hire:!0,social:{instagram_username:"vitalymazur ",portfolio_url:"https://www.behance.net/vitaliimazur",twitter_username:"@madebyvitalii",paypal_email:null}}},{id:"uSNuKKh7wpA",slug:"a-picture-of-a-green-object-with-a-white-background-uSNuKKh7wpA",alternative_slugs:{en:"a-picture-of-a-green-object-with-a-white-background-uSNuKKh7wpA"},created_at:"2024-03-01T10:58:28Z",updated_at:"2024-03-11T06:48:07Z",promoted_at:"2024-03-11T06:48:07Z",width:9600,height:5400,color:"#d9d9d9",blur_hash:"LJLq]_WI_3%eo$xa?cRi~qobITM|",description:"Made in blender 4.0",alt_description:"a picture of a green object with a white background",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1709290649154-54c725bd4484?ixid=M3wxMTc3M3wwfDF8YWxsfDIzfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1709290649154-54c725bd4484?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDIzfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1709290649154-54c725bd4484?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDIzfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1709290649154-54c725bd4484?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDIzfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1709290649154-54c725bd4484?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDIzfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1709290649154-54c725bd4484"},links:{self:"https://api.unsplash.com/photos/a-picture-of-a-green-object-with-a-white-background-uSNuKKh7wpA",html:"https://unsplash.com/photos/a-picture-of-a-green-object-with-a-white-background-uSNuKKh7wpA",download:"https://unsplash.com/photos/uSNuKKh7wpA/download?ixid=M3wxMTc3M3wwfDF8YWxsfDIzfHx8fHx8Mnx8MTcxMDE1MzIwNXw",download_location:"https://api.unsplash.com/photos/uSNuKKh7wpA/download?ixid=M3wxMTc3M3wwfDF8YWxsfDIzfHx8fHx8Mnx8MTcxMDE1MzIwNXw"},likes:42,liked_by_user:!1,current_user_collections:[],sponsorship:null,topic_submissions:{"3d-renders":{status:"approved",approved_on:"2024-03-06T08:20:20Z"},experimental:{status:"approved",approved_on:"2024-03-06T07:38:30Z"}},user:{id:"5TCQxdaW0wE",updated_at:"2024-03-11T10:04:04Z",username:"theshubhamdhage",name:"Shubham Dhage",first_name:"Shubham",last_name:"Dhage",twitter_username:"theshubhamdhage",portfolio_url:"https://theshubhamdhage.com/",bio:"Creating things is my passion.",location:"Pune, India",links:{self:"https://api.unsplash.com/users/theshubhamdhage",html:"https://unsplash.com/@theshubhamdhage",photos:"https://api.unsplash.com/users/theshubhamdhage/photos",likes:"https://api.unsplash.com/users/theshubhamdhage/likes",portfolio:"https://api.unsplash.com/users/theshubhamdhage/portfolio",following:"https://api.unsplash.com/users/theshubhamdhage/following",followers:"https://api.unsplash.com/users/theshubhamdhage/followers"},profile_image:{small:"https://images.unsplash.com/profile-1702918491890-622aa47079a5image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1702918491890-622aa47079a5image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1702918491890-622aa47079a5image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"theshubhamdhage",total_collections:2,total_likes:296,total_photos:734,total_promoted_photos:147,accepted_tos:!0,for_hire:!0,social:{instagram_username:"theshubhamdhage",portfolio_url:"https://theshubhamdhage.com/",twitter_username:"theshubhamdhage",paypal_email:null}}},{id:"7lN8MJPnlXs",slug:"a-close-up-of-a-pine-tree-with-lots-of-needles-7lN8MJPnlXs",alternative_slugs:{en:"a-close-up-of-a-pine-tree-with-lots-of-needles-7lN8MJPnlXs"},created_at:"2024-03-06T19:31:23Z",updated_at:"2024-03-11T06:47:23Z",promoted_at:"2024-03-11T06:47:23Z",width:6720,height:4480,color:"#26260c",blur_hash:"L05OKD},~lR7TJRj%d^$_0E49Is:",description:null,alt_description:"a close up of a pine tree with lots of needles",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1709753422610-39ed7ddf9e08?ixid=M3wxMTc3M3wwfDF8YWxsfDI0fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1709753422610-39ed7ddf9e08?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDI0fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1709753422610-39ed7ddf9e08?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDI0fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1709753422610-39ed7ddf9e08?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDI0fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1709753422610-39ed7ddf9e08?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDI0fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1709753422610-39ed7ddf9e08"},links:{self:"https://api.unsplash.com/photos/a-close-up-of-a-pine-tree-with-lots-of-needles-7lN8MJPnlXs",html:"https://unsplash.com/photos/a-close-up-of-a-pine-tree-with-lots-of-needles-7lN8MJPnlXs",download:"https://unsplash.com/photos/7lN8MJPnlXs/download?ixid=M3wxMTc3M3wwfDF8YWxsfDI0fHx8fHx8Mnx8MTcxMDE1MzIwNXw",download_location:"https://api.unsplash.com/photos/7lN8MJPnlXs/download?ixid=M3wxMTc3M3wwfDF8YWxsfDI0fHx8fHx8Mnx8MTcxMDE1MzIwNXw"},likes:5,liked_by_user:!1,current_user_collections:[],sponsorship:null,topic_submissions:{"textures-patterns":{status:"approved",approved_on:"2024-03-11T06:47:18Z"}},user:{id:"gMFqynHNocY",updated_at:"2024-03-11T06:48:57Z",username:"blakecheekk",name:"Blake Cheek",first_name:"Blake",last_name:"Cheek",twitter_username:"blakecheekk",portfolio_url:"http://blakecheek.com",bio:"Photographer and Videographer. Lover of coffee and Jesus. ",location:"Atlanta, Ga",links:{self:"https://api.unsplash.com/users/blakecheekk",html:"https://unsplash.com/@blakecheekk",photos:"https://api.unsplash.com/users/blakecheekk/photos",likes:"https://api.unsplash.com/users/blakecheekk/likes",portfolio:"https://api.unsplash.com/users/blakecheekk/portfolio",following:"https://api.unsplash.com/users/blakecheekk/following",followers:"https://api.unsplash.com/users/blakecheekk/followers"},profile_image:{small:"https://images.unsplash.com/profile-1709746841716-156061dd4fe9image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1709746841716-156061dd4fe9image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1709746841716-156061dd4fe9image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"blakecheekk",total_collections:4,total_likes:0,total_photos:423,total_promoted_photos:165,accepted_tos:!0,for_hire:!0,social:{instagram_username:"blakecheekk",portfolio_url:"http://blakecheek.com",twitter_username:"blakecheekk",paypal_email:null}}},{id:"Fw8vp9G6FtE",slug:"the-contents-of-a-backpack-laid-out-on-a-table-Fw8vp9G6FtE",alternative_slugs:{en:"the-contents-of-a-backpack-laid-out-on-a-table-Fw8vp9G6FtE"},created_at:"2024-03-10T00:43:31Z",updated_at:"2024-03-11T06:46:50Z",promoted_at:"2024-03-11T06:46:50Z",width:6240,height:4160,color:"#262626",blur_hash:"LIINNov{ae}=56I]eToaEmWC^iI;",description:null,alt_description:"the contents of a backpack laid out on a table",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1710031407576-135a680d6e10?ixid=M3wxMTc3M3wwfDF8YWxsfDI1fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1710031407576-135a680d6e10?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDI1fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1710031407576-135a680d6e10?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDI1fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1710031407576-135a680d6e10?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDI1fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1710031407576-135a680d6e10?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDI1fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1710031407576-135a680d6e10"},links:{self:"https://api.unsplash.com/photos/the-contents-of-a-backpack-laid-out-on-a-table-Fw8vp9G6FtE",html:"https://unsplash.com/photos/the-contents-of-a-backpack-laid-out-on-a-table-Fw8vp9G6FtE",download:"https://unsplash.com/photos/Fw8vp9G6FtE/download?ixid=M3wxMTc3M3wwfDF8YWxsfDI1fHx8fHx8Mnx8MTcxMDE1MzIwNXw",download_location:"https://api.unsplash.com/photos/Fw8vp9G6FtE/download?ixid=M3wxMTc3M3wwfDF8YWxsfDI1fHx8fHx8Mnx8MTcxMDE1MzIwNXw"},likes:4,liked_by_user:!1,current_user_collections:[],sponsorship:null,topic_submissions:{},user:{id:"UmKpkFAcSDE",updated_at:"2024-03-11T06:46:50Z",username:"taylorheeryphoto",name:"Taylor Heery",first_name:"Taylor",last_name:"Heery",twitter_username:"tahegri",portfolio_url:"http://www.taylorheery.com",bio:`VENMO: @taylorheeryphoto\r
Fujifilm fanatic.`,location:"Hendersonville, NC",links:{self:"https://api.unsplash.com/users/taylorheeryphoto",html:"https://unsplash.com/@taylorheeryphoto",photos:"https://api.unsplash.com/users/taylorheeryphoto/photos",likes:"https://api.unsplash.com/users/taylorheeryphoto/likes",portfolio:"https://api.unsplash.com/users/taylorheeryphoto/portfolio",following:"https://api.unsplash.com/users/taylorheeryphoto/following",followers:"https://api.unsplash.com/users/taylorheeryphoto/followers"},profile_image:{small:"https://images.unsplash.com/profile-1710031596049-549d947d2a3a?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1710031596049-549d947d2a3a?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1710031596049-549d947d2a3a?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"taylorheeryphoto",total_collections:0,total_likes:107,total_photos:520,total_promoted_photos:209,accepted_tos:!0,for_hire:!0,social:{instagram_username:"taylorheeryphoto",portfolio_url:"http://www.taylorheery.com",twitter_username:"tahegri",paypal_email:null}}},{id:"e75CfMG0Sgo",slug:"a-person-with-a-backpack-looking-at-mountains-e75CfMG0Sgo",alternative_slugs:{en:"a-person-with-a-backpack-looking-at-mountains-e75CfMG0Sgo"},created_at:"2023-04-28T12:46:16Z",updated_at:"2024-03-10T11:50:20Z",promoted_at:null,width:5429,height:3619,color:"#a6c0d9",blur_hash:"LnHLYm%0IAi_?wn$ngj[OtRjs:f6",description:"Nature Reserve  NEOM, Saudi Arabia | The NEOM Nature Reserve region is being designed to deliver protection and restoration of biodiversity across 95% of NEOM.",alt_description:"a person with a backpack looking at mountains",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1682685796002-e05458d61f07?ixid=M3wxMTc3M3wxfDF8YWxsfDI2fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1682685796002-e05458d61f07?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wxfDF8YWxsfDI2fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1682685796002-e05458d61f07?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wxfDF8YWxsfDI2fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1682685796002-e05458d61f07?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wxfDF8YWxsfDI2fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1682685796002-e05458d61f07?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wxfDF8YWxsfDI2fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1682685796002-e05458d61f07"},links:{self:"https://api.unsplash.com/photos/a-person-with-a-backpack-looking-at-mountains-e75CfMG0Sgo",html:"https://unsplash.com/photos/a-person-with-a-backpack-looking-at-mountains-e75CfMG0Sgo",download:"https://unsplash.com/photos/e75CfMG0Sgo/download?ixid=M3wxMTc3M3wxfDF8YWxsfDI2fHx8fHx8Mnx8MTcxMDE1MzIwNXw",download_location:"https://api.unsplash.com/photos/e75CfMG0Sgo/download?ixid=M3wxMTc3M3wxfDF8YWxsfDI2fHx8fHx8Mnx8MTcxMDE1MzIwNXw"},likes:174,liked_by_user:!1,current_user_collections:[],sponsorship:{impression_urls:["https://secure.insightexpressai.com/adServer/adServerESI.aspx?script=false&bannerID=11515577&rnd=[timestamp]&redir=https://secure.insightexpressai.com/adserver/1pixel.gif","https://secure.insightexpressai.com/adServer/adServerESI.aspx?script=false&bannerID=11515780&rnd=[timestamp]&redir=https://secure.insightexpressai.com/adserver/1pixel.gif"],tagline:"Made to Change",tagline_url:"https://www.neom.com/en-us?utm_source=unsplash&utm_medium=referral",sponsor:{id:"mYizSrdJkkU",updated_at:"2024-03-11T08:54:08Z",username:"neom",name:"NEOM",first_name:"NEOM",last_name:null,twitter_username:"neom",portfolio_url:"http://www.neom.com",bio:"Located in the northwest of Saudi Arabia, NEOMs diverse climate offers both sun-soaked beaches and snow-capped mountains. NEOMs unique location will provide residents with enhanced livability while protecting 95% of the natural landscape.",location:"NEOM, Saudi Arabia",links:{self:"https://api.unsplash.com/users/neom",html:"https://unsplash.com/@neom",photos:"https://api.unsplash.com/users/neom/photos",likes:"https://api.unsplash.com/users/neom/likes",portfolio:"https://api.unsplash.com/users/neom/portfolio",following:"https://api.unsplash.com/users/neom/following",followers:"https://api.unsplash.com/users/neom/followers"},profile_image:{small:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"discoverneom",total_collections:7,total_likes:1,total_photos:222,total_promoted_photos:72,accepted_tos:!0,for_hire:!1,social:{instagram_username:"discoverneom",portfolio_url:"http://www.neom.com",twitter_username:"neom",paypal_email:null}}},topic_submissions:{},user:{id:"mYizSrdJkkU",updated_at:"2024-03-11T08:54:08Z",username:"neom",name:"NEOM",first_name:"NEOM",last_name:null,twitter_username:"neom",portfolio_url:"http://www.neom.com",bio:"Located in the northwest of Saudi Arabia, NEOMs diverse climate offers both sun-soaked beaches and snow-capped mountains. NEOMs unique location will provide residents with enhanced livability while protecting 95% of the natural landscape.",location:"NEOM, Saudi Arabia",links:{self:"https://api.unsplash.com/users/neom",html:"https://unsplash.com/@neom",photos:"https://api.unsplash.com/users/neom/photos",likes:"https://api.unsplash.com/users/neom/likes",portfolio:"https://api.unsplash.com/users/neom/portfolio",following:"https://api.unsplash.com/users/neom/following",followers:"https://api.unsplash.com/users/neom/followers"},profile_image:{small:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1679489218992-ebe823c797dfimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"discoverneom",total_collections:7,total_likes:1,total_photos:222,total_promoted_photos:72,accepted_tos:!0,for_hire:!1,social:{instagram_username:"discoverneom",portfolio_url:"http://www.neom.com",twitter_username:"neom",paypal_email:null}}},{id:"jSjHcyHFOdQ",slug:"a-picture-of-a-green-plant-in-a-dark-room-jSjHcyHFOdQ",alternative_slugs:{en:"a-picture-of-a-green-plant-in-a-dark-room-jSjHcyHFOdQ"},created_at:"2024-02-08T15:36:25Z",updated_at:"2024-03-11T06:46:46Z",promoted_at:"2024-03-11T06:46:46Z",width:8400,height:5600,color:"#0c260c",blur_hash:"L44CLsVuD7pF.Po2R7R*-.oyX5My",description:null,alt_description:"a picture of a green plant in a dark room",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1707406543260-ed14bbd0d086?ixid=M3wxMTc3M3wwfDF8YWxsfDI3fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1707406543260-ed14bbd0d086?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDI3fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1707406543260-ed14bbd0d086?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDI3fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1707406543260-ed14bbd0d086?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDI3fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1707406543260-ed14bbd0d086?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDI3fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1707406543260-ed14bbd0d086"},links:{self:"https://api.unsplash.com/photos/a-picture-of-a-green-plant-in-a-dark-room-jSjHcyHFOdQ",html:"https://unsplash.com/photos/a-picture-of-a-green-plant-in-a-dark-room-jSjHcyHFOdQ",download:"https://unsplash.com/photos/jSjHcyHFOdQ/download?ixid=M3wxMTc3M3wwfDF8YWxsfDI3fHx8fHx8Mnx8MTcxMDE1MzIwNXw",download_location:"https://api.unsplash.com/photos/jSjHcyHFOdQ/download?ixid=M3wxMTc3M3wwfDF8YWxsfDI3fHx8fHx8Mnx8MTcxMDE1MzIwNXw"},likes:14,liked_by_user:!1,current_user_collections:[],sponsorship:null,topic_submissions:{},user:{id:"ogQykx6hk_c",updated_at:"2024-03-11T06:46:46Z",username:"pawel_czerwinski",name:"Pawel Czerwinski",first_name:"Pawel",last_name:"Czerwinski",twitter_username:"pm_cze",portfolio_url:"http://paypal.me/pmcze",bio:"Questions about how you can use the photos? help.unsplash.com/en/collections/1463188-unsplash-license ",location:"Poland",links:{self:"https://api.unsplash.com/users/pawel_czerwinski",html:"https://unsplash.com/@pawel_czerwinski",photos:"https://api.unsplash.com/users/pawel_czerwinski/photos",likes:"https://api.unsplash.com/users/pawel_czerwinski/likes",portfolio:"https://api.unsplash.com/users/pawel_czerwinski/portfolio",following:"https://api.unsplash.com/users/pawel_czerwinski/following",followers:"https://api.unsplash.com/users/pawel_czerwinski/followers"},profile_image:{small:"https://images.unsplash.com/profile-1592328433409-d9ce8a5333eaimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1592328433409-d9ce8a5333eaimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1592328433409-d9ce8a5333eaimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"pmcze",total_collections:7,total_likes:39154,total_photos:2137,total_promoted_photos:1760,accepted_tos:!0,for_hire:!1,social:{instagram_username:"pmcze",portfolio_url:"http://paypal.me/pmcze",twitter_username:"pm_cze",paypal_email:null}}},{id:"OfGHUYX0CCg",slug:"a-body-of-water-that-has-some-waves-on-it-OfGHUYX0CCg",alternative_slugs:{en:"a-body-of-water-that-has-some-waves-on-it-OfGHUYX0CCg"},created_at:"2024-03-06T14:06:51Z",updated_at:"2024-03-11T08:56:52Z",promoted_at:"2024-03-11T06:45:54Z",width:8192,height:5460,color:"#260c0c",blur_hash:"LUF{kg=cj@fQ}XxFS3azxFfjS2WW",description:null,alt_description:"a body of water that has some waves on it",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1709733167477-25398ca709c0?ixid=M3wxMTc3M3wwfDF8YWxsfDI4fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1709733167477-25398ca709c0?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDI4fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1709733167477-25398ca709c0?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDI4fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1709733167477-25398ca709c0?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDI4fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1709733167477-25398ca709c0?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDI4fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1709733167477-25398ca709c0"},links:{self:"https://api.unsplash.com/photos/a-body-of-water-that-has-some-waves-on-it-OfGHUYX0CCg",html:"https://unsplash.com/photos/a-body-of-water-that-has-some-waves-on-it-OfGHUYX0CCg",download:"https://unsplash.com/photos/OfGHUYX0CCg/download?ixid=M3wxMTc3M3wwfDF8YWxsfDI4fHx8fHx8Mnx8MTcxMDE1MzIwNXw",download_location:"https://api.unsplash.com/photos/OfGHUYX0CCg/download?ixid=M3wxMTc3M3wwfDF8YWxsfDI4fHx8fHx8Mnx8MTcxMDE1MzIwNXw"},likes:16,liked_by_user:!1,current_user_collections:[],sponsorship:null,topic_submissions:{"earth-hour":{status:"approved",approved_on:"2024-03-07T09:43:45Z"}},user:{id:"uFFemR6e1vs",updated_at:"2024-03-11T06:48:56Z",username:"marcospradobr",name:"Marcos Paulo Prado",first_name:"Marcos Paulo",last_name:"Prado",twitter_username:null,portfolio_url:"https://www.instagram.com/eusoumarcosprado",bio:"People and commercial photographer based in Rio de Janeiro, Brasil",location:"Rio de Janeiro, Brazil",links:{self:"https://api.unsplash.com/users/marcospradobr",html:"https://unsplash.com/@marcospradobr",photos:"https://api.unsplash.com/users/marcospradobr/photos",likes:"https://api.unsplash.com/users/marcospradobr/likes",portfolio:"https://api.unsplash.com/users/marcospradobr/portfolio",following:"https://api.unsplash.com/users/marcospradobr/following",followers:"https://api.unsplash.com/users/marcospradobr/followers"},profile_image:{small:"https://images.unsplash.com/profile-1572910425876-25d44d080554image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1572910425876-25d44d080554image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1572910425876-25d44d080554image?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"eusoumarcosprado",total_collections:0,total_likes:306,total_photos:413,total_promoted_photos:139,accepted_tos:!0,for_hire:!0,social:{instagram_username:"eusoumarcosprado",portfolio_url:"https://www.instagram.com/eusoumarcosprado",twitter_username:null,paypal_email:null}}},{id:"VKQpbzeWbrk",slug:"a-bouquet-of-orange-and-white-tulips-on-a-red-door-VKQpbzeWbrk",alternative_slugs:{en:"a-bouquet-of-orange-and-white-tulips-on-a-red-door-VKQpbzeWbrk"},created_at:"2024-03-09T21:24:04Z",updated_at:"2024-03-11T06:45:51Z",promoted_at:"2024-03-11T06:45:51Z",width:2592,height:3872,color:"#8c2626",blur_hash:"LFI2{Exr0gE}Dlo|=_W-5RE3O=xH",description:null,alt_description:"a bouquet of orange and white tulips on a red door",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1710018337941-58197591d55a?ixid=M3wxMTc3M3wwfDF8YWxsfDI5fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1710018337941-58197591d55a?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDI5fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1710018337941-58197591d55a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDI5fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1710018337941-58197591d55a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDI5fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1710018337941-58197591d55a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDI5fHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1710018337941-58197591d55a"},links:{self:"https://api.unsplash.com/photos/a-bouquet-of-orange-and-white-tulips-on-a-red-door-VKQpbzeWbrk",html:"https://unsplash.com/photos/a-bouquet-of-orange-and-white-tulips-on-a-red-door-VKQpbzeWbrk",download:"https://unsplash.com/photos/VKQpbzeWbrk/download?ixid=M3wxMTc3M3wwfDF8YWxsfDI5fHx8fHx8Mnx8MTcxMDE1MzIwNXw",download_location:"https://api.unsplash.com/photos/VKQpbzeWbrk/download?ixid=M3wxMTc3M3wwfDF8YWxsfDI5fHx8fHx8Mnx8MTcxMDE1MzIwNXw"},likes:3,liked_by_user:!1,current_user_collections:[],sponsorship:null,topic_submissions:{},user:{id:"H8-Yyg-eX4A",updated_at:"2024-03-11T06:48:56Z",username:"jaelphotos",name:"Jael Coon",first_name:"Jael",last_name:"Coon",twitter_username:null,portfolio_url:"https://linktr.ee/jaelcoon",bio:"Coffee drinker, photographer, artist and chef/baker",location:"USA",links:{self:"https://api.unsplash.com/users/jaelphotos",html:"https://unsplash.com/@jaelphotos",photos:"https://api.unsplash.com/users/jaelphotos/photos",likes:"https://api.unsplash.com/users/jaelphotos/likes",portfolio:"https://api.unsplash.com/users/jaelphotos/portfolio",following:"https://api.unsplash.com/users/jaelphotos/following",followers:"https://api.unsplash.com/users/jaelphotos/followers"},profile_image:{small:"https://images.unsplash.com/profile-1693432710439-47b22b3f6a9eimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1693432710439-47b22b3f6a9eimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1693432710439-47b22b3f6a9eimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"jaelcoon",total_collections:51,total_likes:0,total_photos:230,total_promoted_photos:3,accepted_tos:!0,for_hire:!1,social:{instagram_username:"jaelcoon",portfolio_url:"https://linktr.ee/jaelcoon",twitter_username:null,paypal_email:null}}},{id:"W6AqsLH6HOg",slug:"a-license-plate-on-the-back-of-a-car-W6AqsLH6HOg",alternative_slugs:{en:"a-license-plate-on-the-back-of-a-car-W6AqsLH6HOg"},created_at:"2024-03-06T06:59:15Z",updated_at:"2024-03-11T06:45:45Z",promoted_at:"2024-03-11T06:45:45Z",width:6e3,height:4e3,color:"#595959",blur_hash:"LYE_]gO?}qOsW--Ux]$%RPoeX9oz",description:null,alt_description:"a license plate on the back of a car",breadcrumbs:[],urls:{raw:"https://images.unsplash.com/photo-1709708210553-490ba885fcf6?ixid=M3wxMTc3M3wwfDF8YWxsfDMwfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3",full:"https://images.unsplash.com/photo-1709708210553-490ba885fcf6?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDMwfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=85",regular:"https://images.unsplash.com/photo-1709708210553-490ba885fcf6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDMwfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=1080",small:"https://images.unsplash.com/photo-1709708210553-490ba885fcf6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDMwfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=400",thumb:"https://images.unsplash.com/photo-1709708210553-490ba885fcf6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8YWxsfDMwfHx8fHx8Mnx8MTcxMDE1MzIwNXw&ixlib=rb-4.0.3&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1709708210553-490ba885fcf6"},links:{self:"https://api.unsplash.com/photos/a-license-plate-on-the-back-of-a-car-W6AqsLH6HOg",html:"https://unsplash.com/photos/a-license-plate-on-the-back-of-a-car-W6AqsLH6HOg",download:"https://unsplash.com/photos/W6AqsLH6HOg/download?ixid=M3wxMTc3M3wwfDF8YWxsfDMwfHx8fHx8Mnx8MTcxMDE1MzIwNXw",download_location:"https://api.unsplash.com/photos/W6AqsLH6HOg/download?ixid=M3wxMTc3M3wwfDF8YWxsfDMwfHx8fHx8Mnx8MTcxMDE1MzIwNXw"},likes:3,liked_by_user:!1,current_user_collections:[],sponsorship:null,topic_submissions:{},user:{id:"VNV70zPYNto",updated_at:"2024-03-11T06:48:56Z",username:"venajeborec",name:"Vclav Pechar",first_name:"Vclav",last_name:"Pechar",twitter_username:null,portfolio_url:null,bio:`Photographer from South Bohemia \r
Be free to contact me to book a shoot `,location:"Czech Republic - Psek",links:{self:"https://api.unsplash.com/users/venajeborec",html:"https://unsplash.com/@venajeborec",photos:"https://api.unsplash.com/users/venajeborec/photos",likes:"https://api.unsplash.com/users/venajeborec/likes",portfolio:"https://api.unsplash.com/users/venajeborec/portfolio",following:"https://api.unsplash.com/users/venajeborec/following",followers:"https://api.unsplash.com/users/venajeborec/followers"},profile_image:{small:"https://images.unsplash.com/profile-1687031143105-2420498da92eimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=32&h=32",medium:"https://images.unsplash.com/profile-1687031143105-2420498da92eimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=64&h=64",large:"https://images.unsplash.com/profile-1687031143105-2420498da92eimage?ixlib=rb-4.0.3&crop=faces&fit=crop&w=128&h=128"},instagram_username:"amazingvena",total_collections:0,total_likes:7,total_photos:324,total_promoted_photos:30,accepted_tos:!0,for_hire:!0,social:{instagram_username:"amazingvena",portfolio_url:null,twitter_username:null,paypal_email:null}}}],Zj=Kj;class Vj{constructor(){jt(this,"photos",Zj),jt(this,"PAGINATION",{}),jt(this,"REQUEST_IS_RUNNING",!1),jt(this,"SEARCH_IS_RUNNING",!1),jt(this,"LAST_REQUEST_URL",""),jt(this,"ERROR",null),jt(this,"IS_LOADING",!1),jt(this,"currentPage",1)}async fetchPhotos(){this.IS_LOADING=!0;const n=(this.currentPage-1)*30,s=this.currentPage*30;return this.currentPage+=1,this.IS_LOADING=!1,this.photos.slice(n,s)}async fetchNextPage(){if(this.REQUEST_IS_RUNNING||this.SEARCH_IS_RUNNING)return null;const n=await this.fetchPhotos();return n.length>0?n:null}async searchPhotos(n){this.SEARCH_IS_RUNNING=!0;const s=this.photos.filter(o=>o.description&&o.description.toLowerCase().includes(n.toLowerCase())||o.alt_description&&o.alt_description.toLowerCase().includes(n.toLowerCase()));return this.SEARCH_IS_RUNNING=!1,s}searchIsRunning(){return this.SEARCH_IS_RUNNING}triggerDownload(n){}}class Qj{constructor(n){jt(this,"_provider"),this._provider=n}async fetchPhotos(){return await this._provider.fetchPhotos()}async searchPhotos(n){return await this._provider.searchPhotos(n)}async triggerDownload(n){this._provider.triggerDownload(n)}async fetchNextPage(){return await this._provider.fetchNextPage()||null}searchIsRunning(){return this._provider.searchIsRunning()}}class Jj{constructor(n){jt(this,"API_URL","https://api.unsplash.com"),jt(this,"HEADERS"),jt(this,"ERROR",null),jt(this,"PAGINATION",{}),jt(this,"REQUEST_IS_RUNNING",!1),jt(this,"SEARCH_IS_RUNNING",!1),jt(this,"LAST_REQUEST_URL",""),jt(this,"IS_LOADING",!1),this.HEADERS=n}async makeRequest(n){if(this.REQUEST_IS_RUNNING)return null;this.LAST_REQUEST_URL=n;const s={method:"GET",headers:this.HEADERS};try{this.REQUEST_IS_RUNNING=!0,this.IS_LOADING=!0;const o=await fetch(n,s),c=await this.checkStatus(o);this.extractPagination(c);const h=await c.json();return"results"in h?h.results:h}catch(o){return this.ERROR=o,null}finally{this.REQUEST_IS_RUNNING=!1,this.IS_LOADING=!1}}extractPagination(n){let s=new RegExp('<(.*)>; rel="(.*)"'),o=[],c={};for(let h of n.headers.entries())h[0]==="link"&&o.push(h[1]);return o&&o.toString().split(",").forEach(h=>{if(h){let y=s.exec(h);y&&(c[y[2]]=y[1])}}),this.PAGINATION=c,n}async fetchPhotos(){const n=`${this.API_URL}/photos?per_page=30`;return await this.makeRequest(n)}async fetchNextPage(){if(this.REQUEST_IS_RUNNING||this.SEARCH_IS_RUNNING)return null;if(this.PAGINATION.next){const n=`${this.PAGINATION.next}`,s=await this.makeRequest(n);if(s)return s}return null}async searchPhotos(n){const s=`${this.API_URL}/search/photos?query=${n}&per_page=30`;return await this.makeRequest(s)||[]}async triggerDownload(n){n.links.download_location&&await this.makeRequest(n.links.download_location)}async checkStatus(n){if(n.status>=200&&n.status<300)return n;let s="",o;const c=n.headers.get("content-type");if(c==="application/json")o=n.json().then(h=>h.errors[0]);else if(c==="text/xml")o=n.text();else throw new Error("Unsupported content type");return o.then(h=>{throw n.status===403&&n.headers.get("x-ratelimit-remaining")==="0"&&(s="Unsplash API rate limit reached, please try again later."),s=s||h||`Error ${n.status}: Uh-oh! Trouble reaching the Unsplash API`,this.ERROR=s,new Error(s)})}searchIsRunning(){return this.SEARCH_IS_RUNNING}}class e5{constructor(n,s){jt(this,"photoUseCases"),jt(this,"masonryService"),jt(this,"photos",[]),this.photoUseCases=n,this.masonryService=s}async loadNew(){let n=await this.photoUseCases.fetchPhotos();this.photos=n,await this.layoutPhotos()}async layoutPhotos(){this.masonryService.reset(),this.photos&&this.photos.forEach(n=>{n.ratio=n.height/n.width,this.masonryService.addPhotoToColumns(n)})}getColumns(){return this.masonryService.getColumns()}async updateSearch(n){let s=await this.photoUseCases.searchPhotos(n);this.photos=s,this.layoutPhotos()}async loadNextPage(){const n=await this.photoUseCases.fetchNextPage()||[];this.photos=[...this.photos,...n],this.layoutPhotos()}clearPhotos(){this.photos=[]}triggerDownload(n){this.photoUseCases.triggerDownload(n)}searchIsRunning(){return this.photoUseCases.searchIsRunning()}}const t5=({onClose:e,onImageInsert:n,unsplashProviderConfig:s})=>{const o=D.useMemo(()=>s?new Jj(s):new Vj,[s]),c=D.useMemo(()=>new Qj(o),[o]),h=D.useMemo(()=>new $j(3),[]),y=D.useMemo(()=>new e5(c,h),[c,h]),m=D.useRef(null),[l,f]=D.useState(0),[u,d]=D.useState(0),[g,w]=D.useState(y.searchIsRunning()||!0),_=D.useRef(!1),[k,M]=D.useState(""),[T,A]=D.useState(null),[C,R]=D.useState([]);st.useEffect(()=>{m.current&&T===null&&u!==0&&(m.current.scrollTop=u,d(0))},[T,l,u]),st.useEffect(()=>{const W=q=>{q.key==="Escape"&&e()};return window.addEventListener("keydown",W),()=>{window.removeEventListener("keydown",W)}},[e]),st.useEffect(()=>{const W=m.current;if(!T)return W&&W.addEventListener("scroll",()=>{f(W.scrollTop)}),()=>{W&&W.removeEventListener("scroll",()=>{f(W.scrollTop)})}},[m,T]);const $=st.useCallback(async()=>{if(_.current===!1||k.length===0){R([]),y.clearPhotos(),await y.loadNew();const W=y.getColumns();R(W||[]),m.current&&m.current.scrollTop!==0&&(m.current.scrollTop=0),w(!1)}},[y,k]),B=async W=>{const q=W.target.value;q.length>2&&(A(null),M(q)),q.length===0&&(M(""),_.current=!1,await $())},O=st.useCallback(async()=>{if(k){w(!0),R([]),y.clearPhotos(),await y.updateSearch(k);const W=y.getColumns();W&&R(W),m.current&&m.current.scrollTop!==0&&(m.current.scrollTop=0),w(!1)}},[k,y]);st.useEffect(()=>{const W=setTimeout(async()=>{k.length>2?await O():await $()},300);return()=>{_.current=!0,clearTimeout(W)}},[k,O,$]);const Z=st.useCallback(async()=>{w(!0),await y.loadNextPage();const W=y.getColumns();R(W||[]),w(!1)},[y]);st.useEffect(()=>{const W=m.current;if(W){const q=async()=>{T===null&&W.scrollTop+W.clientHeight>=W.scrollHeight-1e3&&await Z()};return W.addEventListener("scroll",q),()=>{W.removeEventListener("scroll",q)}}},[m,Z,T]);const X=W=>{W&&(A(W),d(l)),W===null&&(A(null),m.current&&(m.current.scrollTop=u))};async function G(W){W.src&&(y.triggerDownload(W),n(W))}return Fe.jsx(Xj,{closeModal:e,handleSearch:B,children:Fe.jsx(Wj,{dataset:C,error:null,galleryRef:m,insertImage:G,isLoading:g,selectImg:X,zoomed:T})})},r5=({unsplashProviderConfig:e,onClose:n,onImageInsert:s})=>a.jsx(Cj,{classNames:"admin-x-settings",children:a.jsx(t5,{unsplashProviderConfig:e,onClose:n,onImageInsert:s})}),Hs={heading:[{name:"Cardo",creator:"David Perry"},{name:"Chakra Petch",creator:"Cadson Demak"},{name:"Fira Mono",creator:"Carrois Apostrophe"},{name:"Fira Sans",creator:"Carrois Apostrophe"},{name:"IBM Plex Serif",creator:"Mike Abbink"},{name:"Inter",creator:"Rasmus Andersson"},{name:"JetBrains Mono",creator:"JetBrains"},{name:"Libre Baskerville",creator:"Impallari Type"},{name:"Lora",creator:"Cyreal"},{name:"Manrope",creator:"Mikhail Sharanda"},{name:"Merriweather",creator:"Sorkin Type"},{name:"Noto Sans",creator:"Google"},{name:"Noto Serif",creator:"Google"},{name:"Nunito",creator:"Vernon Adams"},{name:"Old Standard TT",creator:"Alexey Kryukov"},{name:"Poppins",creator:"Indian Type Foundry"},{name:"Roboto",creator:"Christian Robertson"},{name:"Rufina",creator:"Martin Sommaruga"},{name:"Space Grotesk",creator:"Florian Karsten"},{name:"Space Mono",creator:"Colophon Foundry"},{name:"Tenor Sans",creator:"Denis Masharov"}],body:[{name:"Fira Mono",creator:"Carrois Apostrophe"},{name:"Fira Sans",creator:"Carrois Apostrophe"},{name:"IBM Plex Serif",creator:"Mike Abbink"},{name:"Inter",creator:"Rasmus Andersson"},{name:"JetBrains Mono",creator:"JetBrains"},{name:"Lora",creator:"Cyreal"},{name:"Manrope",creator:"Mikhail Sharanda"},{name:"Merriweather",creator:"Sorkin Type"},{name:"Noto Sans",creator:"Google"},{name:"Noto Serif",creator:"Google"},{name:"Nunito",creator:"Vernon Adams"},{name:"Poppins",creator:"Indian Type Foundry"},{name:"Roboto",creator:"Christian Robertson"},{name:"Space Mono",creator:"Colophon Foundry"}]},$r="Theme default",am=({children:e,...n})=>a.jsx(t0.SingleValue,{...n,children:a.jsx("div",{className:"group","data-testid":"select-current-option","data-value":n.data.value,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex size-12 items-center justify-center rounded-md bg-white text-2xl font-bold dark:bg-black",children:"Aa"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-md",children:e}),a.jsx("span",{className:"font-sans text-xs font-normal text-grey-700 dark:text-grey-600",children:n.data.creator})]})]})})}),om=({children:e,...n})=>a.jsx(t0.Option,{...n,children:a.jsxs("div",{className:n.isSelected?"relative flex w-full items-center justify-between gap-2":"group","data-testid":"select-option","data-value":n.data.value,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"dark:group-hover:bg-grey-800 flex size-12 items-center justify-center rounded-md bg-grey-150 text-2xl font-bold group-hover:bg-grey-250 dark:bg-grey-900",children:"Aa"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-md",children:e}),a.jsx("span",{className:"font-sans text-xs font-normal text-grey-700 dark:text-grey-600",children:n.data.creator})]})]}),n.isSelected&&a.jsx("span",{children:a.jsx(ut,{name:"check",size:14})})]})}),n5=e=>e.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" "),im=({values:e,updateSetting:n})=>{const{mutateAsync:s}=Zs(),{settings:o}=et(),[c]=bt(o,["unsplash"]),[h,y]=D.useState(!1),{unsplashConfig:m}=n2(),l=it(),f=e0(),{data:u}=ed(),d=u?.themes.find(O=>O.active),g=d?`${n5(d.name)} (v${d.package?.version||"1.0"})`:"Loading...",[w,_]=D.useState(Hs.heading.find(O=>O.name===e.headingFont)||{name:$r,creator:g}),[k,M]=D.useState(Hs.heading.find(O=>O.name===e.bodyFont)||{name:$r,creator:g}),T=(O,Z=!0)=>{let X="";return O==="Cardo"?X=we("font-cardo",Z&&"font-bold"):O==="Manrope"?X=we("font-manrope",Z&&"font-bold"):O==="Merriweather"?X=we("font-merriweather",Z&&"font-bold"):O==="Nunito"?X=we("font-nunito",Z&&"font-semibold"):O==="Old Standard TT"?X=we("font-old-standard-tt",Z&&"font-bold"):O==="Prata"?X=we("font-prata",Z&&"font-normal"):O==="Roboto"?X=we("font-roboto",Z&&"font-bold"):O==="Rufina"?X=we("font-rufina",Z&&"font-bold"):O==="Tenor Sans"?X=we("font-tenor-sans",Z&&"font-normal"):O==="Chakra Petch"?X=we("font-chakra-petch",Z&&"font-normal"):O==="Fira Mono"?X=we("font-fira-mono",Z&&"font-bold"):O==="Fira Sans"?X=we("font-fira-sans",Z&&"font-bold"):O==="IBM Plex Serif"?X=we("font-ibm-plex-serif",Z&&"font-bold"):O==="Inter"?X=we("font-inter",Z&&"font-bold"):O==="JetBrains Mono"?X=we("font-jetbrains-mono",Z&&"font-bold"):O==="Lora"?X=we("font-lora",Z&&"font-bold"):O==="Noto Sans"?X=we("font-noto-sans",Z&&"font-bold"):O==="Noto Serif"?X=we("font-noto-serif",Z&&"font-bold"):O==="Poppins"?X=we("font-poppins",Z&&"font-bold"):O==="Space Grotesk"?X=we("font-space-grotesk",Z&&"font-bold"):O==="Space Mono"&&(X=we("font-space-mono",Z&&"font-bold")),X},A=Hs.heading.map(O=>{let Z=T(O.name,!0);return{label:O.name,value:O.name,creator:O.creator,className:Z}});A.unshift({label:$r,value:$r,creator:g,className:"font-sans font-normal"});const C=Hs.body.map(O=>{let Z=T(O.name,!1);return{label:O.name,value:O.name,creator:O.creator,className:Z}});C.unshift({label:$r,value:$r,creator:g,className:"font-sans font-normal"});const R=(O,Z)=>O===$r?"":T(O,Z),$={label:w.name,value:w.name,creator:w.creator},B={label:k.name,value:k.name,creator:k.creator};return a.jsxs(a.Fragment,{children:[a.jsxs(rt,{className:"mt-6",gap:"sm",margins:"lg",title:"",children:[a.jsx(Yr,{debounceMs:200,direction:"rtl",testId:"accent-color-picker",title:a.jsx("div",{children:"Accent color"}),value:e.accentColor,onChange:O=>n("accent_color",O)}),a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{children:"Publication icon"}),a.jsx(Gr,{className:"!mt-0 mr-5 max-w-[160px]",children:"A square, social icon, at least 60x60px"})]}),a.jsx("div",{className:"flex gap-3",children:a.jsx(un,{deleteButtonClassName:"!top-1 !right-1",editButtonClassName:"!top-1 !right-1",height:e.icon?"66px":"36px",id:"logo",imageBWCheckedBg:!0,imageURL:e.icon||"",width:e.icon?"66px":"160px",onDelete:()=>n("icon",null),onUpload:async O=>{try{n("icon",on(await s({file:O})))}catch(Z){const X=Z;X.response.status===415&&(X.message="Unsupported file type"),l(X)}},children:"Upload icon"})})]}),a.jsxs("div",{className:`flex items-start justify-between ${e.icon&&"mt-2"}`,children:[a.jsxs("div",{children:[a.jsx("div",{children:"Publication logo"}),a.jsx(Gr,{className:"!mt-0 mr-5 max-w-[160px]",children:"Appears usually in the main header of your theme"})]}),a.jsx("div",{children:a.jsx(un,{deleteButtonClassName:"!top-1 !right-1",height:"60px",id:"site-logo",imageBWCheckedBg:!0,imageFit:"contain",imageURL:e.logo||"",width:"160px",onDelete:()=>n("logo",null),onUpload:async O=>{try{n("logo",on(await s({file:O})))}catch(Z){const X=Z;X.response.status===415&&(X.message="Unsupported file type"),l(X)}},children:"Upload logo"})})]}),a.jsxs("div",{className:"mt-2 flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{children:"Publication cover"}),a.jsx(Gr,{className:"!mt-0 mr-5 max-w-[160px]",children:"Usually as a large banner image on your index pages"})]}),a.jsx(un,{deleteButtonClassName:"!top-1 !right-1",editButtonClassName:"!top-1 !right-10",height:"95px",id:"cover",imageURL:e.coverImage||"",openUnsplash:()=>y(!0),pintura:{isEnabled:f.isEnabled,openEditor:async()=>f.openEditor({image:e.coverImage||"",handleSave:async O=>{try{n("cover_image",on(await s({file:O})))}catch(Z){l(Z)}}})},unsplashButtonClassName:"!bg-transparent !h-6 !top-1.5 !w-6 !right-1.5 z-50",unsplashEnabled:c,width:"160px",onDelete:()=>n("cover_image",null),onUpload:async O=>{try{n("cover_image",on(await s({file:O})))}catch(Z){const X=Z;X.response.status===415&&(X.message="Unsupported file type"),l(X)}},children:"Upload cover"}),h&&m&&c&&a.jsx(r5,{unsplashProviderConfig:m,onClose:()=>{y(!1)},onImageInsert:O=>{O.src&&n("cover_image",O.src),y(!1)}})]})]}),a.jsxs(rt,{className:"-mt-4",gap:"sm",margins:"lg",title:"Typography",children:[a.jsx(Pt,{className:R($.label,!0),components:{Option:om,SingleValue:am},controlClasses:{control:"!min-h-16 !pl-2",option:"!pl-2"},hint:"",menuShouldScrollIntoView:!0,options:A,selectedOption:$,testId:"heading-font-select",title:"Heading font",onSelect:O=>{O?.value===$r?(_({name:$r,creator:g}),n("heading_font","")):(_({name:O?.value||"",creator:Hs.heading.find(Z=>Z.name===O?.value)?.creator||""}),n("heading_font",O?.value||""))}}),a.jsx(Pt,{className:R(B.label,!1),components:{Option:om,SingleValue:am},controlClasses:{control:"!min-h-16 !pl-2",option:"!pl-2"},hint:"",maxMenuHeight:200,menuPosition:"fixed",menuShouldScrollIntoView:!0,options:C,selectedOption:B,testId:"body-font-select",title:"Body font",onSelect:O=>{O?.value===$r?(M({name:$r,creator:g}),n("body_font","")):(M({name:O?.value||"",creator:Hs.body.find(Z=>Z.name===O?.value)?.creator||""}),n("body_font",O?.value||""))}})]})]})};var Fi={exports:{}},Wi={exports:{}},s5=Wi.exports,lm;function a5(){return lm||(lm=1,(function(e,n){//! mingo.js 2.5.3
//! Copyright (c) 2020 Francis Asante
//! MIT
(function(s,o){e.exports=o()})(s5,(function(){function s(p){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(b){return typeof b}:s=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},s(p)}function o(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function c(p,b){for(var x=0;x<b.length;x++){var j=b[x];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(p,j.key,j)}}function h(p,b,x){return b&&c(p.prototype,b),p}function y(p,b){return m(p)||l(p,b)||f(p,b)||d()}function m(p){if(Array.isArray(p))return p}function l(p,b){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(p)))){var x=[],j=!0,I=!1,z=void 0;try{for(var V=p[Symbol.iterator](),te;!(j=(te=V.next()).done)&&(x.push(te.value),!(b&&x.length===b));j=!0);}catch(me){I=!0,z=me}finally{try{!j&&V.return!=null&&V.return()}finally{if(I)throw z}}return x}}function f(p,b){if(p){if(typeof p=="string")return u(p,b);var x=Object.prototype.toString.call(p).slice(8,-1);if(x==="Object"&&p.constructor&&(x=p.constructor.name),x==="Map"||x==="Set")return Array.from(x);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return u(p,b)}}function u(p,b){(b==null||b>p.length)&&(b=p.length);for(var x=0,j=new Array(b);x<b;x++)j[x]=p[x];return j}function d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g="null",w="undefined",_="bool",k="boolean",M="number",T="string",A="date",C="regex",R="regexp",$="array",B="object",O="function",Z=[g,w,k,M,T,A,R],X="expression",G="group",W="pipeline",q="projection",se="query",ee=function(){};Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(b,x){if(this==null)throw new TypeError('"this" is null or not defined');var j=Object(this),I=j.length>>>0;if(I===0)return!1;var z=x|0,V=Math.max(z>=0?z:I-Math.abs(z),0);function te(me,fe){return me===fe||typeof me=="number"&&typeof fe=="number"&&isNaN(me)&&isNaN(fe)}for(;V<I;){if(te(j[V],b))return!0;V++}return!1}});var re=Array.prototype.push;function Q(p,b){p||le(b)}function ne(p){switch(H(p)){case $:return p.map(ne);case B:return pr(p,ne);default:return p}}function xe(p){switch(H(p)){case $:return Gt([],p);case B:return Object.assign({},p);default:return p}}function je(p){return p===null?"Null":p===void 0?"Undefined":p.constructor.name}function H(p){return je(p).toLowerCase()}function he(p){return H(p)===k}function ge(p){return H(p)===T}function F(p){return H(p)===M}var P=Array.isArray||function(p){return!!p&&p.constructor===Array};function J(p){return!!p&&p.constructor===Object}function be(p){return p===Object(p)}function Te(p){return H(p)===A}function De(p){return H(p)===R}function Me(p){return H(p)===O}function oe(p){return p==null}function Ee(p){return p===null}function Ne(p){return p===void 0}function Ie(p,b){return p.includes(b)}function qe(p,b){return!Ie(p,b)}function nt(p){return!!p}function Ue(p){return oe(p)||P(p)&&p.length===0||J(p)&&Be(p).length===0||!p}function vt(p){return P(p)?p:[p]}function lt(p,b){return p.hasOwnProperty(b)}function le(p){throw new Error(p)}var Be=Object.keys;function Re(p,b,x){if(b=b.bind(x),P(p))for(var j=0,I=p.length;j<I&&b(p[j],j,p)!==!1;j++);else for(var z in p)if(p.hasOwnProperty(z)&&b(p[z],z,p)===!1)break}function pr(p,b,x){b=b.bind(x);for(var j={},I=Be(p),z=0;z<I.length;z++){var V=I[z];j[V]=b(p[V],V)}return j}function hr(p,b){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(p===ee)return b;if(b===ee)return p;var j=[p,b];if(!(j.every(J)||j.every(P)))throw Error("mismatched types. must both be array or object");if(x.flatten=x.flatten||!1,P(p))if(x.flatten){for(var I=0,z=0;I<p.length&&z<b.length;)p[I]=hr(p[I++],b[z++],x);for(;z<b.length;)p.push(b[z++])}else re.apply(p,b);else Object.keys(b).forEach(function(V){p.hasOwnProperty(V)?p[V]=hr(p[V],b[V],x):p[V]=b[V]});return p}function kt(p,b,x){return P(p)?p.reduce(b,x):(Re(p,function(j,I){return x=b(x,j,I,p)}),x)}function Ar(p,b){var x=b.map(Mr);return p.filter(function(j){return Ie(x,Mr(j))})}function pl(p,b){return Gt(Gt([],p),b.filter(qe.bind(null,p)))}function pn(p){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,x=[];function j(I,z){for(var V=0,te=I.length;V<te;V++)P(I[V])&&(z>0||z<0)?j(I[V],Math.max(-1,z-1)):x.push(I[V])}return j(p,b),x}function hn(p,b){if(b<1)return p;for(;b--&&P(p)&&p.length===1;)p=p[0];return p}function Lr(p,b){for(var x=[p],j=[b];x.length>0;)if(p=x.pop(),b=j.pop(),p!==b){var I=H(p);if(I!==H(b)||I===O)return!1;switch(I){case $:if(p.length!==b.length)return!1;Gt(x,p),Gt(j,b);break;case B:var z=Be(p),V=Be(b);if(z.length!==V.length)return!1;z.sort(),V.sort();for(var te=0,me=z.length;te<me;te++){var fe=z[te];if(fe!==V[te])return!1;x.push(p[fe]),j.push(b[fe])}break;default:if(Fr(p)!==Fr(b))return!1}}return x.length===0}function Pn(p){var b={},x=[];return Re(p,function(j){var I=Mr(j);lt(b,I)||(x.push(j),b[I]=0)}),x}function Fr(p){var b=H(p);switch(b){case k:case M:case R:return p.toString();case T:return JSON.stringify(p);case A:return p.toISOString();case g:case w:return b;case $:return"["+p.map(Fr)+"]";default:var x=b===B?"":"".concat(je(p)),j=Be(p);return j.sort(),"".concat(x,"{")+j.map(function(I){return"".concat(Fr(I),":").concat(Fr(p[I]))})+"}"}}function Mr(p){if(oe(p))return null;for(var b=0,x=Fr(p),j=x.length;j;)b=(b<<5)-b^x.charCodeAt(--j);return b>>>0}function Ln(p,b){return p<b?-1:p>b?1:0}function us(p,b,x){var j=[],I=[],z={};if(x=x||Ln,Ue(p))return p;for(var V=0;V<p.length;V++){var te=p[V],me=b(te,V);oe(me)?I.push(te):(z[me]?z[me].push(te):z[me]=[te],j.push(me))}j.sort(x);for(var fe=0;fe<j.length;fe++)Gt(I,z[j[fe]]);return I}function fs(p,b){var x={keys:[],groups:[]},j={};return Re(p,function(I){var z=b(I),V=Mr(z),te=-1;j[V]===void 0&&(te=x.keys.length,j[V]=te,x.keys.push(z),x.groups.push([])),te=j[V],x.groups[te].push(I)}),x}function Gt(p,b){return re.apply(p,b),p}function ta(p,b){for(var x=0,j=p.length-1;x<=j;){var I=Math.round(x+(j-x)/2);if(b<p[I])j=I-1;else if(b>p[I])x=I+1;else return I}return x}function hl(p){var b=this;return(function(x){return function(){for(var j=arguments.length,I=new Array(j),z=0;z<j;z++)I[z]=arguments[z];var V=Mr(I);return lt(x,V)||(x[V]=p.apply(b,I)),x[V]}})({})}function ra(p,b){return be(p)?p[b]:void 0}function mr(p,b){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j=0;x.meta=x.meta||!1;function I(z,V){for(var te=z,me=0;me<V.length;me++){var fe=V[me],Ce=fe.match(/^\d+$/)===null;if(Ce&&P(te)){if(me===0&&j>0)break;j+=1,V=V.slice(me),te=kt(te,function(ye,tt){var Xe=I(tt,V);return Xe!==void 0&&ye.push(Xe),ye},[]);break}else te=ra(te,fe);if(te===void 0)break}return te}return p=Ie(Z,H(p))?p:I(p,b.split(".")),x.meta?{result:p,depth:j}:p}function mn(p,b){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};x.preserveMissingValues=x.preserveMissingValues||!1;var j=b.split("."),I=j[0],z=j.length===1||j.slice(1).join("."),V=I.match(/^\d+$/)!==null,te=j.length>1,me,fe;try{P(p)?V?(me=ra(p,Number(I)),te&&(me=mn(me,z,x)),me=[me]):(me=[],Re(p,function(Ce){fe=mn(Ce,b,x),x.preserveMissingValues?(fe===void 0&&(fe=ee),me.push(fe)):fe!==void 0&&me.push(fe)})):(fe=ra(p,I),te&&(fe=mn(fe,z,x)),Q(fe!==void 0),me={},me[I]=fe)}catch{me=void 0}return me}function ds(p){if(P(p))for(var b=p.length-1;b>=0;b--)p[b]===ee?p.splice(b,1):ds(p[b]);else if(J(p))for(var x in p)p.hasOwnProperty(x)&&ds(p[x]);return p}function na(p,b,x){var j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,I=b.split("."),z=I[0],V=I.length===1||I.slice(1).join(".");I.length===1?x(p,z):(j===!0&&oe(p[z])&&(p[z]={}),na(p[z],V,x,j))}function sa(p,b,x){na(p,b,function(j,I){j[I]=x},!0)}function aa(p,b){na(p,b,function(x,j){P(x)&&/^\d+$/.test(j)?x.splice(parseInt(j),1):J(x)&&delete x[j]})}function oa(p){return!!p&&p[0]==="$"}function ia(p){if(Ie(Z,H(p)))return De(p)?{$regex:p}:{$eq:p};if(be(p)){var b=Be(p);if(!b.some(oa))return{$eq:p};if(Ie(b,"$regex")){var x=p.$regex,j=p.$options||"",I="";ge(x)&&(I+=x.ignoreCase||j.indexOf("i")>=0?"i":"",I+=x.multiline||j.indexOf("m")>=0?"m":"",I+=x.global||j.indexOf("g")>=0?"g":"",x=new RegExp(x,I)),p.$regex=x,delete p.$options}}return p}function la(p,b){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return oe(x)?b<0?(b=Math.max(0,p.length+b),x=p.length-b+1):(x=b,b=0):(b<0&&(b=Math.max(0,p.length+b)),Q(x>0,"Invalid argument value for $slice operator. Limit must be a positive number"),x+=b),p.slice(b,x)}function fo(p,b){var x=kt(p,function(V,te){return V+te},0),j=p.length||1,I=b&&1||0,z=x/j;return Math.sqrt(kt(p,function(V,te){return V+Math.pow(te-z,2)},0)/(j-I))}function ml(){return{assert:Q,clone:xe,cloneDeep:ne,each:Re,err:le,hashCode:Mr,getType:je,has:lt,includes:Ie.bind(null),isArray:P,isBoolean:he,isDate:Te,isEmpty:Ue,isEqual:Lr,isFunction:Me,isNil:oe,isNull:Ee,isNumber:F,isObject:J,isRegExp:De,isString:ge,isUndefined:Ne,keys:Be,reduce:kt,resolve:mr,resolveObj:mn}}var ps=function(){return Object.assign({computeValue:pe,ops:ua},ml())},po={key:"_id"};function ca(p){Object.assign(po,p||{})}var ho={$$ROOT:function(b,x,j){return j.root},$$CURRENT:function(b,x,j){return b},$$REMOVE:function(b,x,j){}},mo={$$KEEP:function(b){return b},$$PRUNE:function(){},$$DESCEND:function(b,x,j){if(!lt(x,"$cond"))return b;var I;return Re(b,function(z,V){be(z)&&(P(z)?(I=[],Re(z,function(te){J(te)&&(te=ms(te,x,j)),oe(te)||I.push(te)})):I=ms(z,x,j),oe(I)?delete b[V]:b[V]=I)}),b}},go=Be(ho),bo=Be(mo);function gn(){return po.key}function ua(){var p=Array.prototype.slice.call(arguments);return kt(p,function(b,x){return Gt(b,Be(yt[x]))},[])}function hs(p,b,x){if(lt(yt[G],b))return yt[G][b](p,x);if(J(x)){var j={};return Re(x,function(I,z){if(j[z]=hs(p,z,x[z]),lt(yt[G],z))return j=j[z],Q(Be(x).length===1,"Invalid $group expression '"+JSON.stringify(x)+"'"),!1}),j}}function pe(p,b){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(j.root=j.root||p,lt(yt[X],x))return yt[X][x](p,b,j);if(lt(yt[G],x))return p=pe(p,b,null,j),Q(P(p),x+" expression must resolve to an array"),yt[G][x](p,null,j);if(ge(b)&&b.length>0&&b[0]==="$"){if(Ie(go,b))return ho[b](p,null,j);if(Ie(bo,b))return b;var I=go.filter(function(V){return b.indexOf(V+".")===0});return I.length===1&&(I=I[0],I==="$$ROOT"&&(p=j.root),b=b.substr(I.length)),mr(p,b.slice(1))}switch(H(b)){case $:return b.map(function(V){return pe(p,V)});case B:var z={};return Re(b,function(V,te){if(z[te]=pe(p,V,te,j),[X,G].some(function(me){return lt(yt[me],te)}))return Q(Be(b).length===1,"Invalid aggregation expression '"+JSON.stringify(b)+"'"),z=z[te],!1}),z;default:return b}}function ms(p,b){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};x.root=x.root||p;var j=pe(p,b,null,x);return Ie(bo,j)?mo[j](p,b,x):j}function gl(p,b){var x=pe(p,b);return x==null?null:Math.abs(x)}function bl(p,b){var x=pe(p,b),j=!1,I=kt(x,function(z,V){return Te(V)&&(Q(!j,"'$add' can only have one date value"),j=!0,V=V.getTime()),z+=V,z},0);return j?new Date(I):I}function xl(p,b){var x=pe(p,b);return oe(x)?null:(Q(F(x)||isNaN(x),"$ceil expression must resolve to a number."),Math.ceil(x))}function vl(p,b){var x=pe(p,b);return x[0]/x[1]}function wl(p,b){var x=pe(p,b);return oe(x)?null:(Q(F(x)||isNaN(x),"$exp expression must resolve to a number."),Math.exp(x))}function yl(p,b){var x=pe(p,b);return oe(x)?null:(Q(F(x)||isNaN(x),"$floor expression must resolve to a number."),Math.floor(x))}function gs(p,b){var x=pe(p,b);return oe(x)?null:(Q(F(x)||isNaN(x),"$ln expression must resolve to a number."),Math.log(x))}function _l(p,b){var x=pe(p,b),j="$log expression must resolve to array(2) of numbers";return Q(P(x)&&x.length===2,j),x.some(oe)?null:(Q(x.some(isNaN)||x.every(F),j),Math.log10(x[0])/Math.log10(x[1]))}function bs(p,b){var x=pe(p,b);return oe(x)?null:(Q(F(x)||isNaN(x),"$log10 expression must resolve to a number."),Math.log10(x))}function kl(p,b){var x=pe(p,b);return x[0]%x[1]}function Ml(p,b){var x=pe(p,b);return kt(x,function(j,I){return j*I},1)}function jl(p,b){var x=pe(p,b);return Q(P(x)&&x.length===2&&x.every(F),"$pow expression must resolve to array(2) of numbers"),Q(!(x[0]===0&&x[1]<0),"$pow cannot raise 0 to a negative exponent"),Math.pow(x[0],x[1])}function xo(p,b){var x=pe(p,b),j=x[0],I=x[1];return oe(j)||isNaN(j)||Math.abs(j)===1/0?j:(Q(F(j),"$round expression must resolve to a number."),yo(j,I,!0))}function vo(p,b){var x=pe(p,b);return oe(x)?null:(Q(F(x)&&x>0||isNaN(x),"$sqrt expression must resolve to non-negative number."),Math.sqrt(x))}function wo(p,b){var x=pe(p,b);return x[0]-x[1]}function El(p,b){var x=pe(p,b),j=x[0],I=x[1];return oe(j)||isNaN(j)||Math.abs(j)===1/0?j:(Q(F(j),"$trunc expression must resolve to a number."),Q(oe(I)||F(I)&&I>-20&&I<100,"$trunc expression has invalid place"),yo(j,I,!1))}function yo(p,b,x){b=b||0;var j=Math.abs(p)===p?1:-1;p=Math.abs(p);var I=Math.trunc(p),z=p-I;if(b===0){var V=Math.trunc(10*z);x&&(I&1)===1&&V>=5&&I++}else if(b>0){var te=Math.pow(10,b),me=Math.trunc(z*te),fe=Math.trunc(z*te*10)%10;x&&fe>5&&(me+=1),I+=me/te}else if(b<0){var Ce=Math.pow(10,-1*b),ye=I%Ce;if(I=Math.max(0,I-ye),x&&j===-1){for(;ye>10;)ye-=ye%10;I>0&&ye>=5&&(I+=Ce)}}return I*j}function Tl(p,b){var x=pe(p,b);Q(P(x)&&x.length===2,"$arrayElemAt expression must resolve to array(2)"),Q(P(x[0]),"First operand to $arrayElemAt must resolve to an array"),Q(F(x[1]),"Second operand to $arrayElemAt must resolve to an integer");var j=x[1];if(x=x[0],j<0&&Math.abs(j)<=x.length)return x[j+x.length];if(j>=0&&j<x.length)return x[j]}function Sl(p,b){var x=pe(p,b);return Q(P(x),"$arrayToObject expression must resolve to an array"),kt(x,function(j,I){return P(I)&&I.length==2?j[I[0]]=I[1]:(Q(J(I)&&lt(I,"k")&&lt(I,"v"),"$arrayToObject expression is invalid."),j[I.k]=I.v),j},{})}function _o(p,b){var x=pe(p,b,null);return Q(P(x),"$concatArrays must resolve to an array"),x.some(oe)?null:x.reduce(function(j,I){return Gt(j,I)},[])}function ko(p,b){var x=pe(p,b.input),j=b.as,I=b.cond;return Q(P(x),"$filter 'input' expression must resolve to an array"),x.filter(function(z){var V={};return V["$"+j]=z,pe(V,I)===!0})}function Mo(p,b){var x=pe(p,b[0]),j=pe(p,b[1]);return Q(P(j),"$in second argument must be an array"),j.some(Lr.bind(null,x))}function fa(p,b){var x=pe(p,b);if(oe(x))return null;var j=x[0],I=x[1];if(oe(j))return null;Q(P(j),"$indexOfArray expression must resolve to an array.");var z=x[2]||0,V=x[3];return oe(V)&&(V=j.length),z>V?-1:(Q(z>=0&&V>=0,"$indexOfArray expression is invalid"),(z>0||V<j.length)&&(j=j.slice(z,V)),j.findIndex(Lr.bind(null,I))+z)}function Nl(p,b){return P(pe(p,b[0]))}function jo(p,b){var x=pe(p,b.input);Q(P(x),"$map 'input' expression must resolve to an array");var j=b.as,I=b.in,z="$"+j;return x.map(function(V){return p[z]=V,pe(p,I)})}function xs(p,b){var x=pe(p,b);Q(J(x),"$objectToArray expression must resolve to an object");var j=[];return Re(x,function(I,z){return j.push({k:z,v:I})}),j}function Eo(p,b){for(var x=pe(p,b),j=x[0],I=x[1],z=x[2]||1,V=[];j<I&&z>0||j>I&&z<0;)V.push(j),j+=z;return V}function Al(p,b){var x=pe(p,b.input),j=pe(p,b.initialValue),I=b.in;return oe(x)?null:(Q(P(x),"$reduce 'input' expression must resolve to an array"),kt(x,function(z,V){return pe({$value:z,$this:V},I)},j))}function To(p,b){var x=pe(p,b);if(oe(x))return null;Q(P(x),"$reverseArray expression must resolve to an array");var j=[];return Gt(j,x),j.reverse(),j}function So(p,b){var x=pe(p,b);return P(x)?x.length:void 0}function da(p,b){var x=pe(p,b);return la(x[0],x[1],x[2])}function Il(p,b){var x=pe(p,b.inputs),j=b.useLongestLength||!1;Q(P(x),"'inputs' expression must resolve to an array"),Q(he(j),"'useLongestLength' must be a boolean"),P(b.defaults)&&Q(nt(j),"'useLongestLength' must be set to true to use 'defaults'");for(var I=0,z=0,V=x.length;z<V;z++){var te=x[z];if(oe(te))return null;Q(P(te),"'inputs' expression values must resolve to an array or null"),I=j?Math.max(I,te.length):Math.min(I||te.length,te.length)}for(var me=[],fe=b.defaults||[],Ce=function(Xe){var pt=x.map(function(Ot,ir){return oe(Ot[Xe])?fe[ir]||null:Ot[Xe]});me.push(pt)},ye=0;ye<I;ye++)Ce(ye);return me}function No(p,b){var x=pe(p,b);return P(x)?kt(x,function(j,I){return Object.assign(j,I)},{}):{}}function pa(p,b){var x=pe(p,b);return nt(x)&&x.every(nt)}function ha(p,b){var x=pe(p,b);return nt(x)&&x.some(nt)}function bn(p,b){return!pe(p,b[0])}function Vt(p){return p instanceof ws?p:new ws(p)}Vt.isIterator=ma;function ma(p){return!!p&&s(p)==="object"&&ga(p.next)}function ga(p){return!!p&&typeof p=="function"}function Ao(p,b){var x=p.slice(b+1);p.splice(b),Array.prototype.push.apply(p,x)}var vs=new Error,ba=1,xa=2,Io=3,Co=4;function Cl(p,b,x){var j=!1,I=-1,z=0;return function(V){V=V===x;try{e:for(;!j;){var te=p();I++;for(var me=-1,fe=b.length,Ce=!1;++me<fe;){var ye=b[me],tt=ye.func,Xe=ye.type;switch(Xe){case ba:te=tt(te,I);break;case xa:if(!tt(te,I))continue e;break;case Io:--ye.func,ye.func||(Ce=!0);break;case Co:--ye.func,ye.func||Ao(b,me);continue e;default:break e}}if(j=Ce,V)x[z++]=te;else return{value:te,done:!1}}}catch(pt){if(pt!==vs)throw pt}return j=!0,{done:!0}}}var ws=(function(){function p(b){if(o(this,p),this.__iteratees=[],this.__first=!1,this.__done=!1,this.__buf=[],ga(b)&&(b={next:b}),ma(b)){var x=b;b=function(){var te=x.next();if(te.done)throw vs;return te.value}}else if(Array.isArray(b)){var j=b,I=j.length,z=0;b=function(){if(z<I)return j[z++];throw vs}}else if(!ga(b))throw new Error("Source is not iterable. Must be Array, Function or Object{next:Function}");this.next=Cl(b,this.__iteratees,this.__buf)}return h(p,[{key:"_validate",value:function(){if(this.__first)throw new Error("Cannot add iteratee/transform after `first()`")}},{key:"_push",value:function(x){return this._validate(),this.__iteratees.push(x),this}},{key:"map",value:function(x){return this._push({type:ba,func:x})}},{key:"filter",value:function(x){return this._push({type:xa,func:x})}},{key:"take",value:function(x){return x>0?this._push({type:Io,func:x}):this}},{key:"drop",value:function(x){return x>0?this._push({type:Co,func:x}):this}},{key:"transform",value:function(x){this._validate();var j=this,I;return Vt(function(){return I||(I=Vt(x(j.value()))),I.next()})}},{key:"first",value:function(){return this.take(1),this.__first=!0,this}},{key:"value",value:function(){return this.__done||(this.__done=this.next(this.__buf).done),this.__first?this.__buf[0]:this.__buf}},{key:"each",value:function(x){for(;;){var j=this.next();if(j.done)break;if(x(j.value)===!1)return!1}return!0}},{key:"reduce",value:function(x,j){var I=this.next(),z=0;for(j===void 0&&!I.done&&(j=I.value,I=this.next(),z++);!I.done;)j=x(j,I.value,z++),I=this.next();return j}},{key:"size",value:function(){return this.reduce(function(x,j){return++x},0)}}]),p})();typeof Symbol=="function"&&(ws.prototype[Symbol.iterator]=function(){return this});var ys=(function(){function p(b,x){o(this,p),this.__operators=b,this.__options=x}return h(p,[{key:"stream",value:function(x,j){var I=this;x=Vt(x);var z=yt[W];return Ue(this.__operators)||Re(this.__operators,function(V){var te=Be(V);Q(te.length===1&&Ie(ua(W),te[0]),"invalid aggregation operator ".concat(te)),te=te[0],j&&j instanceof gr?x=z[te].call(j,x,V[te],I.__options):x=z[te](x,V[te],I.__options)}),x}},{key:"run",value:function(x,j){return this.stream(x,j).value()}}]),p})();function Do(p,b,x){return Q(P(b),"Aggregation pipeline must be an array"),new ys(b,x).run(p)}var va=(function(){function p(b,x,j){o(this,p),this.__filterFn=x.test.bind(x),this.__query=x,this.__source=b,this.__projection=j||x.__projection,this.__operators=[],this.__result=null,this.__stack=[],this.__options={}}return h(p,[{key:"_fetch",value:function(){return this.__result?this.__result:(J(this.__projection)&&this.__operators.push({$project:this.__projection}),this.__result=Vt(this.__source).filter(this.__filterFn),this.__operators.length>0&&(this.__result=new ys(this.__operators,this.__options).stream(this.__result,this.__query)),this.__result)}},{key:"all",value:function(){return this._fetch().value()}},{key:"count",value:function(){return this.all().length}},{key:"skip",value:function(x){return this.__operators.push({$skip:x}),this}},{key:"limit",value:function(x){return this.__operators.push({$limit:x}),this}},{key:"sort",value:function(x){return this.__operators.push({$sort:x}),this}},{key:"collation",value:function(x){return this.__options.collation=x,this}},{key:"next",value:function(){if(this.__stack){if(this.__stack.length>0)return this.__stack.pop();var x=this._fetch().next();if(!x.done)return x.value;this.__stack=null}}},{key:"hasNext",value:function(){if(!this.__stack)return!1;if(this.__stack.length>0)return!0;var x=this._fetch().next();return x.done?this.__stack=null:this.__stack.push(x.value),!!this.__stack}},{key:"map",value:function(x){return this._fetch().map(x).value()}},{key:"forEach",value:function(x){this._fetch().each(x)}}]),p})();typeof Symbol=="function"&&(va.prototype[Symbol.iterator]=function(){return this._fetch()});var gr=(function(){function p(b,x){o(this,p),this.__criteria=b,this.__projection=x||{},this.__compiled=[],this._compile()}return h(p,[{key:"_compile",value:function(){var x=this;Q(J(this.__criteria),"query criteria must be an object");var j;Re(this.__criteria,function(I,z){z==="$where"?j={field:z,expr:I}:z==="$expr"||Ie(["$and","$or","$nor"],z)?x._processOperator(z,z,I):(Q(!oa(z),"unknown top level operator: ".concat(z)),I=ia(I),Re(I,function(V,te){x._processOperator(z,te,V)})),J(j)&&x._processOperator(j.field,j.field,j.expr)})}},{key:"_processOperator",value:function(x,j,I){Q(lt(yt[se],j),"invalid query operator ".concat(j," detected")),this.__compiled.push(yt[se][j](x,I))}},{key:"test",value:function(x){for(var j=0,I=this.__compiled.length;j<I;j++)if(!this.__compiled[j](x))return!1;return!0}},{key:"find",value:function(x,j){return new va(x,this,j)}},{key:"remove",value:function(x){var j=this;return kt(x,function(I,z){return j.test(z)||I.push(z),I},[])}}]),p})();function wa(p,b,x){return new gr(b).find(p,x)}function Dl(p,b){return new gr(b).remove(p)}function ya(p,b){if(Lr(p,b)||oe(p)&&oe(b))return!0;if(P(p)){var x=Lr.bind(null,b);return p.some(x)||pn(p,1).some(x)}return!1}function Ro(p,b){return!ya(p,b)}function Oo(p,b){return oe(p)?b.some(Ee):Ar(vt(p),b).length>0}function $o(p,b){return!Oo(p,b)}function ht(p,b){return xn(p,b,function(x,j){return x<j})}function ft(p,b){return xn(p,b,function(x,j){return x<=j})}function Po(p,b){return xn(p,b,function(x,j){return x>j})}function Lo(p,b){return xn(p,b,function(x,j){return x>=j})}function Rl(p,b){return vt(p).some(function(x){return F(x)&&P(b)&&b.length===2&&x%b[0]===b[1]})}function Ol(p,b){p=vt(p);var x=function(I){return ge(I)&&!!I.match(b)};return p.some(x)||pn(p,1).some(x)}function $l(p,b){return(b===!1||b===0)&&p===void 0||(b===!0||b===1)&&p!==void 0}function Pl(p,b){var x=!1;if(P(p)&&P(b))for(var j=0,I=b.length;j<I;j++)if(J(b[j])&&Ie(Be(b[j]),"$elemMatch"))x=x||zo(p,b[j].$elemMatch);else return Ar(b,p).length===I;return x}function Fo(p,b){return P(p)&&F(b)&&p.length===b}function zo(p,b){if(P(p)&&!Ue(p)){var x=function(me){return me},j=b;Be(b).every(oa)&&(j={temp:b},x=function(me){return{temp:me}});for(var I=new gr(j),z=0,V=p.length;z<V;z++)if(I.test(x(p[z])))return!0}return!1}function Lt(p,b){switch(b){case 1:case"double":return F(p)&&(p+"").indexOf(".")!==-1;case 2:case T:return ge(p);case 3:case B:return J(p);case 4:case $:return P(p);case 6:case w:return oe(p);case 8:case _:return he(p);case 9:case A:return Te(p);case 10:case g:return Ee(p);case 11:case C:return De(p);case 16:case"int":return F(p)&&p<=2147483647&&(p+"").indexOf(".")===-1;case 18:case"long":return F(p)&&p>2147483647&&p<=9223372036854776e3&&(p+"").indexOf(".")===-1;case 19:case"decimal":return F(p);default:return!1}}function xn(p,b,x){return vt(p).some(function(j){return je(j)===je(b)&&x(j,b)})}function Qt(p){return function(b,x){var j=pe(b,x);return p(j[0],j[1])}}var Uo=Qt(ya),_a=Qt(Ro),ar=Qt(Po),Ho=Qt(ht),Bo=Qt(Lo),Wo=Qt(ft),qo=Qt($o);function Yo(p,b){var x=pe(p,b);return x[0]>x[1]?1:x[0]<x[1]?-1:0}function Go(p,b){var x,j,I,z="$cond: invalid arguments";P(b)?(Q(b.length===3,z),x=b[0],j=b[1],I=b[2]):(Q(J(b),z),x=b.if,j=b.then,I=b.else);var V=pe(p,x);return V?pe(p,j):pe(p,I)}function Jt(p,b){var x="Invalid arguments for $switch operator";Q(b.branches,x);var j=b.branches.find(function(I){return Q(I.case&&I.then,x),pe(p,I.case)});return j?pe(p,j.then):(Q(b.default,x),pe(p,b.default))}function Ll(p,b){Q(P(b)&&b.length===2,"$ifNull expression must resolve to array(2)");var x=pe(p,b);return oe(x[0])?x[1]:x[0]}function er(p,b){var x=pe(p,b),j=new Date(x.getFullYear(),0,0),I=x-j,z=1e3*60*60*24;return Math.round(I/z)}function Xo(p,b){var x=pe(p,b);return x.getDate()}function ka(p,b){var x=pe(p,b);return x.getDay()+1}function Ir(p,b){var x=pe(p,b);return x.getFullYear()}function Fn(p,b){var x=pe(p,b);return x.getMonth()+1}function _s(p,b){var x=pe(p,b);x=new Date(+x),x.setHours(0,0,0),x.setDate(x.getDate()+4-(x.getDay()||7));var j=new Date(x.getFullYear(),0,1);return Math.floor(((x-j)/864e5+1)/7)}function mt(p,b){var x=pe(p,b);return x.getUTCHours()}function Cr(p,b){var x=pe(p,b);return x.getMinutes()}function ks(p,b){var x=pe(p,b);return x.getSeconds()}function Ko(p,b){var x=pe(p,b);return x.getMilliseconds()}var Ma={"%Y":[Ir,4],"%m":[Fn,2],"%d":[Xo,2],"%H":[mt,2],"%M":[Cr,2],"%S":[ks,2],"%L":[Ko,3],"%j":[er,3],"%w":[ka,1],"%U":[_s,2],"%%":"%"};function Fl(p,b){for(var x=b.format,j=pe(p,b.date),I=x.match(/(%%|%Y|%m|%d|%H|%M|%S|%L|%j|%w|%U)/g),z=0,V=I.length;z<V;z++){var te=Ma[I[z]],me=te;if(P(te)){var fe=te[0],Ce=te[1];me=zl(fe(p,j),Ce)}x=x.replace(I[z],me)}return x}function zl(p,b){return new Array(Math.max(b-String(p).length+1,0)).join("0")+p}function Ul(p,b){return b}function Zo(p,b){var x=pe(p,b),j=Pn(x[0]),I=Pn(x[1]);return j.length===I.length&&j.length===Ar(j,I).length}function Ms(p,b){var x=pe(p,b);return Ar(x[0],x[1])}function vn(p,b){var x=pe(p,b);return x[0].filter(qe.bind(null,x[1]))}function Hl(p,b){var x=pe(p,b);return pl(x[0],x[1])}function Vo(p,b){var x=pe(p,b);return Ar(x[0],x[1]).length===x[0].length}function Qo(p,b){var x=pe(p,b)[0];return x.some(nt)}function ja(p,b){var x=pe(p,b)[0];return x.every(nt)}function Ea(p,b){var x=pe(p,b);return[null,void 0].some(Ie.bind(null,x))?null:x.join("")}function Jo(p,b){var x=pe(p,b),j="$indexOfBytes expression resolves to invalid an argument";if(oe(x[0]))return null;Q(ge(x[0])&&ge(x[1]),j);var I=x[0],z=x[1],V=x[2],te=x[3],me=oe(V)||F(V)&&V>=0&&Math.round(V)===V;if(me=me&&(oe(te)||F(te)&&te>=0&&Math.round(te)===te),Q(me,j),V=V||0,te=te||I.length,V>te)return-1;var fe=I.substring(V,te).indexOf(z);return fe>-1?fe+V:fe}function Bl(p,b){var x=pe(p,b);return oe(x[0])?null:(Q(x.every(ge),"$split expression must result to array(2) of strings"),x[0].split(x[1]))}function Ta(p,b){return~-encodeURI(pe(p,b)).split(/%..|./).length}function Sa(p,b){return pe(p,b).length}function Wl(p,b){var x=pe(p,b),j=x[0],I=x[1];return Lr(j,I)||x.every(oe)?0:(Q(x.every(ge),"$strcasecmp must resolve to array(2) of strings"),j=j.toUpperCase(),I=I.toUpperCase(),j>I&&1||j<I&&-1||0)}function ei(p,b){var x=pe(p,b),j=x[0],I=x[1],z=x[2];Q(ge(j)&&F(I)&&I>=0&&F(z)&&z>=0,"$substrBytes: invalid arguments");for(var V=Yl(j),te=[],me=0,fe=0;fe<V.length;fe++)te.push(me),me+=V[fe].length;var Ce=te.indexOf(I),ye=te.indexOf(I+z);return Q(Ce>-1&&ye>-1,"$substrBytes: invalid range, start or end index is a UTF-8 continuation byte."),j.substring(Ce,ye)}function Xt(p,b){var x=pe(p,b),j=x[0],I=x[1],z=x[2];return ge(j)?I<0?"":z<0?j.substr(I):j.substr(I,z):""}function Na(p,b){return Xt(p,b)}function zn(p,b){var x=pe(p,b);return Ue(x)?"":x.toLowerCase()}function ti(p,b){var x=pe(p,b);return Ue(x)?"":x.toUpperCase()}var ri=[192,224,240];function ql(p){if(p<128)return[p];for(var b=p<2048&&1||p<65536&&2||3,x=ri[b-1],j=[(p>>6*b)+x];b>0;)j.push(128|p>>6*--b&63);return j}function Yl(p){for(var b=[],x=0,j=p.length;x<j;x++)b.push(ql(p.codePointAt(x)));return b}function Gl(p,b){var x=b.vars,j=b.in,I=Be(x);return Re(I,function(z){var V=pe(p,x[z]),te="$"+z;p[te]=V}),pe(p,j)}var Xl=Object.freeze({__proto__:null,$abs:gl,$add:bl,$ceil:xl,$divide:vl,$exp:wl,$floor:yl,$ln:gs,$log:_l,$log10:bs,$mod:kl,$multiply:Ml,$pow:jl,$round:xo,$sqrt:vo,$subtract:wo,$trunc:El,$arrayElemAt:Tl,$arrayToObject:Sl,$concatArrays:_o,$filter:ko,$in:Mo,$indexOfArray:fa,$isArray:Nl,$map:jo,$objectToArray:xs,$range:Eo,$reduce:Al,$reverseArray:To,$size:So,$slice:da,$zip:Il,$mergeObjects:No,$and:pa,$or:ha,$not:bn,$eq:Uo,$ne:_a,$gt:ar,$lt:Ho,$gte:Bo,$lte:Wo,$nin:qo,$cmp:Yo,$cond:Go,$switch:Jt,$ifNull:Ll,$dayOfYear:er,$dayOfMonth:Xo,$dayOfWeek:ka,$year:Ir,$month:Fn,$week:_s,$hour:mt,$minute:Cr,$second:ks,$millisecond:Ko,$dateToString:Fl,$literal:Ul,$setEquals:Zo,$setIntersection:Ms,$setDifference:vn,$setUnion:Hl,$setIsSubset:Vo,$anyElementTrue:Qo,$allElementsTrue:ja,$concat:Ea,$indexOfBytes:Jo,$split:Bl,$strLenBytes:Ta,$strLenCP:Sa,$strcasecmp:Wl,$substrBytes:ei,$substr:Xt,$substrCP:Na,$toLower:zn,$toUpper:ti,$let:Gl});function zr(p,b){return oe(b)?p:p.map(function(x){return pe(x,b)})}function wn(p,b){return Pn(zr(p,b))}function Kl(p,b){var x=zr(p,b).filter(F),j=kt(x,function(I,z){return I+z},0);return j/(x.length||1)}function Zl(p,b){return p.length>0?pe(p[0],b):void 0}function Aa(p,b){return p.length>0?pe(p[p.length-1],b):void 0}function ni(p,b){return kt(zr(p,b),function(x,j){return oe(x)||j>x?j:x},void 0)}function Ur(p,b){return kt(p,function(x,j){return Object.assign(x,pe(j,b))},{})}function js(p,b){return kt(zr(p,b),function(x,j){return oe(x)||j<x?j:x},void 0)}function Vl(p,b){return fo(zr(p,b).filter(F),!1)}function Ql(p,b){return fo(zr(p,b).filter(F),!0)}function Jl(p,b){return P(p)?F(b)?p.length*b:kt(zr(p,b).filter(F),function(x,j){return x+j},0):0}var yn=Object.freeze({__proto__:null,$addToSet:wn,$avg:Kl,$first:Zl,$last:Aa,$max:ni,$mergeObjects:Ur,$min:js,$push:zr,$stdDevPop:Vl,$stdDevSamp:Ql,$sum:Jl});function or(p,b,x){var j=Be(b);return j.length===0?p:p.map(function(I){var z=ne(I);return Re(j,function(V){var te=pe(I,b[V]);sa(z,V,te)}),z})}var si=or;function ec(p,b,x){var j=b.boundaries,I=b.default,z=j[0],V=j[j.length-1],te=b.output||{count:{$sum:1}};Q(j.length>2,"$bucket 'boundaries' expression must have at least 3 elements");for(var me=je(z),fe=0,Ce=j.length-1;fe<Ce;fe++)Q(me===je(j[fe+1]),"$bucket 'boundaries' must all be of the same type"),Q(j[fe]<j[fe+1],"$bucket 'boundaries' must be sorted in ascending order");!oe(I)&&je(b.default)===je(z)&&Q(z>b.default||V<b.default,"$bucket 'default' expression must be out of boundaries range");var ye={};Re(j,function(Xe){return ye[Xe]=[]}),oe(I)||(ye[I]=[]);var tt=!1;return Vt(function(){return tt||(p.each(function(Xe){var pt=pe(Xe,b.groupBy);if(oe(pt)||pt<z||pt>=V)Q(!oe(I),"$bucket require a default for out of range values"),ye[I].push(Xe);else{Q(pt>=z&&pt<V,"$bucket 'groupBy' expression must resolve to a value in range of boundaries");var Ot=ta(j,pt),ir=j[Math.max(0,Ot-1)];ye[ir].push(Xe)}}),j.pop(),oe(I)||j.push(I),tt=Vt(j).map(function(Xe){var pt=hs(ye[Xe],null,te);return Object.assign(pt,{_id:Xe})})),tt.next()})}function tc(p,b,x){var j=b.output||{count:{$sum:1}},I=b.groupBy,z=b.buckets;return Q(z>0,"The $bucketAuto 'buckets' field must be greater than 0, but found: "+z),p.transform(function(V){for(var te=Math.max(1,Math.round(V.length/z)),me=hl(pe),fe={},Ce=[],ye=us(V,function(Da){var Bn=me(Da,I);return oe(Bn)?Ce.push(Da):(fe[Bn]||(fe[Bn]=[]),fe[Bn].push(Da)),Bn}),tt=gn(),Xe=[],pt=0,Ot=0,ir=ye.length;Ot<z&&pt<ir;Ot++){for(var S={},br=[],Hn=0;Hn<te&&pt<ir;Hn++){var $t=me(ye[pt],I);if(oe($t)&&($t=null),Gt(br,oe($t)?Ce:fe[$t]),pt+=oe($t)?Ce.length:fe[$t].length,lt(S,"min")||(S.min=$t),Xe.length>0){var Ke=Xe[Xe.length-1];Ke[tt].max=S.min}}Ot==z-1&&Gt(br,ye.slice(pt)),Xe.push(Object.assign(hs(br,null,j),{_id:S}))}return Xe.length>0&&(Xe[Xe.length-1][tt].max=me(ye[ye.length-1],I)),Xe})}function rc(p,b,x){return Q(ge(b)&&b.trim()!==""&&b.indexOf(".")===-1&&b.trim()[0]!=="$","Invalid expression value for $count"),Vt(function(){var j={};return j[b]=p.size(),{value:j,done:!1}}).first()}function nc(p,b,x){return p.transform(function(j){return[pr(b,function(I){return Do(j,I)})]})}function ai(p,b,x){var j=gn(),I=b[j];return p.transform(function(z){var V=fs(z,function(fe){return pe(fe,I,I)});b=xe(b),delete b[j];var te=-1,me=V.keys.length;return function(){if(++te===me)return{done:!0};var fe=V.keys[te],Ce={};return fe!==void 0&&(Ce[j]=fe),Re(b,function(ye,tt){Ce[tt]=hs(V.groups[te],tt,ye)}),{value:Ce,done:!1}}})}function _n(p,b,x){return p.take(b)}function Y(p,b,x){var j=b.from,I=b.localField,z=b.foreignField,V=b.as;Q(P(j)&&ge(z)&&ge(I)&&ge(V),"$lookup: invalid argument");var te={};return Re(j,function(me){var fe=Mr(mr(me,z));te[fe]=te[fe]||[],te[fe].push(me)}),p.map(function(me){var fe=Mr(mr(me,I)),Ce=xe(me);return Ce[V]=te[fe]||[],Ce})}function ie(p,b,x){var j=new gr(b);return p.filter(function(I){return j.test(I)})}function ae(p,b,x){return Q(P(b),"$out expression must be an array"),p.map(function(j){return b.push(j),j})}function _e(p,b,x){if(Ue(b))return p;var j=Be(b),I=!1,z=gn();if(Qe(b),Ie(j,z)){var V=b[z];(V===0||V===!1)&&(j=j.filter(qe.bind(null,[z])),Q(qe(j,z),"Must not contain collections id key"),I=Ue(j))}else j.push(z);return p.map(function(te){return Le(te,b,j,I)})}function Le(p,b,x,j){var I=gn(),z={},V=!1,te=!1,me=[];return j&&me.push(I),x.forEach(function(fe){var Ce,ye=b[fe];if(fe!==I&&Ie([0,!1],ye)&&(te=!0),fe===I&&Ue(ye))Ce=p[fe];else if(ge(ye))Ce=pe(p,ye,fe);else if(!Ie([1,!0],ye))if(P(ye))Ce=ye.map(function(S){var br=pe(p,S);return oe(br)?null:br});else if(J(ye)){var tt=Be(ye),Xe=tt.length>1?!1:tt[0];if(Ie(ua(q),Xe)){var pt=yt[q];Xe==="$slice"?vt(ye[Xe]).every(F)?(Ce=pt[Xe](p,ye[Xe],fe),V=!0):Ce=pe(p,ye,fe):Ce=pt[Xe](p,ye[Xe],fe)}else if(lt(p,fe)){Qe(ye);var Ot=p[fe];Ce=P(Ot)?Ot.map(function(S){return Le(S,ye,tt,!1)}):Le(Ot,ye,tt,!1)}else Ce=pe(p,ye,fe)}else{me.push(fe);return}var ir=mn(p,fe,{preserveMissingValues:!0});ir!==void 0&&hr(z,ir,{flatten:!0}),qe([0,1,!1,!0],ye)&&(Ce===void 0?aa(z,fe):sa(z,fe,Ce))}),ds(z),(V||te||j)&&(z=Object.assign({},p,z),me.length>0&&(z=ne(z),Re(me,function(fe){return aa(z,fe)}))),z}function Qe(p){var b=gn(),x=[!1,!1];Re(p,function(j,I){I!==b&&(j===0||j===!1?x[0]=!0:(j===1||j===!0)&&(x[1]=!0),Q(!(x[0]&&x[1]),"Projection cannot have a mix of inclusion and exclusion."))})}function It(p,b,x){return p.map(function(j){return ms(ne(j),b)})}function dt(p,b,x){return p.map(function(j){return j=pe(j,b.newRoot),Q(J(j),"$replaceRoot expression must return an object"),j})}function Ia(p,b,x){var j=b.size;return Q(F(j),"$sample size must be a positive integer"),p.transform(function(I){var z=I.length,V=-1;return function(){if(++V===j)return{done:!0};var te=Math.floor(Math.random()*z);return{value:I[te],done:!1}}})}function sc(p,b,x){return p.drop(b)}function tr(p,b,x){if(Ue(b)||!J(b))return p;x=x||{};var j=Ln,I=x.collation;return J(I)&&ge(I.locale)&&(j=ac(I)),p.transform(function(z){var V=Be(b);return Re(V.reverse(),function(te){var me=fs(z,function(ye){return mr(ye,te)}),fe={},Ce=us(me.keys,function(ye,tt){return fe[ye]=tt,ye},j);b[te]===-1&&Ce.reverse(),z=[],Re(Ce,function(ye){return Gt(z,me.groups[fe[ye]])})}),z})}var Es={1:"base",2:"accent",3:"variant"};function ac(p){var b={sensitivity:Es[p.strength||3],caseFirst:p.caseFirst==="off"?"false":p.caseFirst||"false",numeric:p.numericOrdering||!1,ignorePunctuation:p.alternate==="shifted"};(p.caseLevel||!1)===!0&&(b.sensitivity==="base"&&(b.sensitivity="case"),b.sensitivity==="accent"&&(b.sensitivity="variant"));var x=new Intl.Collator(p.locale,b);return function(j,I){if(!ge(j)||!ge(I))return Ln(j,I);var z=x.compare(j,I);return z<0?-1:z>0?1:0}}function kn(p,b,x){var j={count:{$sum:1}};return j[gn()]=b,tr(ai(p,j),{count:-1},x)}function Ts(p,b,x){ge(b)&&(b={path:b});var j=b.path.substr(1),I=b.includeArrayIndex||!1,z=b.preserveNullAndEmptyArrays||!1,V=function(fe,Ce){return I!==!1&&(fe[I]=Ce),fe},te;return Vt(function(){for(var me=function(){if(Vt.isIterator(te)){var ye=te.next();if(!ye.done)return{v:ye}}var tt=p.next();if(tt.done)return{v:tt};if(tt=tt.value,te=mr(tt,j),P(te))if(te.length===0&&z===!0){te=null;var Xe=ne(tt);return aa(Xe,j),{v:{value:V(Xe,null),done:!1}}}else te=Vt(te).map(function(Ot,ir){var S=ne(tt);return sa(S,j,Ot),V(S,ir)});else if(!Ue(te)||z===!0){var pt=ne(tt);return{v:{value:V(pt,null),done:!1}}}};;){var fe=me();if(s(fe)==="object")return fe.v}})}var Ss=Object.freeze({__proto__:null,$addFields:or,$set:si,$bucket:ec,$bucketAuto:tc,$count:rc,$facet:nc,$group:ai,$limit:_n,$lookup:Y,$match:ie,$out:ae,$project:_e,$redact:It,$replaceRoot:dt,$sample:Ia,$skip:sc,$sort:tr,$sortByCount:kn,$unwind:Ts});function at(p,b,x){le("$ not implemented")}function oc(p,b,x){var j=mr(p,x),I=new gr(b);Q(P(j),"$elemMatch: invalid argument");for(var z=0;z<j.length;z++)if(I.test(j[z]))return[j[z]]}function oi(p,b,x){var j=mr(p,x);return P(j)?P(b)?la(j,b[0],b[1]):(Q(F(b),"$slice: invalid arguments for projection"),la(j,b)):j}var Ns=Object.freeze({__proto__:null,$:at,$elemMatch:oc,$slice:oi});function Bt(p){return function(b,x){return function(j){var I=mr(j,b,{meta:!0});return I=hn(I.result,I.depth),p(I,x)}}}var ic=Bt(Pl),lc=Bt(zo),As=Bt(ya),Hr=Bt($l),Is=Bt(Po),ii=Bt(Lo),Cs=Bt(Oo),li=Bt(ht),ci=Bt(ft),Ds=Bt(Rl),ui=Bt(Ro),Un=Bt($o),Kr=Bt(Ol),Rs=Bt(Fo),cc=Bt(Lt);function uc(p,b){Q(P(b),"Invalid expression: $and expects value to be an Array");var x=[];return Re(b,function(j){return x.push(new gr(j))}),function(j){for(var I=0;I<x.length;I++)if(!x[I].test(j))return!1;return!0}}function fi(p,b){Q(P(b),"Invalid expression. $or expects value to be an Array");var x=[];return Re(b,function(j){return x.push(new gr(j))}),function(j){for(var I=0;I<x.length;I++)if(x[I].test(j))return!0;return!1}}function Os(p,b){Q(P(b),"Invalid expression. $nor expects value to be an Array");var x=fi("$or",b);return function(j){return!x(j)}}function $s(p,b){var x={};x[p]=ia(b);var j=new gr(x);return function(I){return!j.test(I)}}function Ca(p,b){return Me(b)||(b=new Function("return "+b+";")),function(x){return b.call(x)===!0}}function fc(p,b){return function(x){return pe(x,b)}}var di=Object.freeze({__proto__:null,$all:ic,$elemMatch:lc,$eq:As,$exists:Hr,$gt:Is,$gte:ii,$in:Cs,$lt:li,$lte:ci,$mod:Ds,$ne:ui,$nin:Un,$regex:Kr,$size:Rs,$type:cc,$and:uc,$or:fi,$nor:Os,$not:$s,$where:Ca,$expr:fc}),yt={};yt[X]={},yt[G]={},yt[W]={},yt[q]={},yt[se]={};var dc=[[X,Xl],[G,yn],[W,Ss],[q,Ns],[se,di]];function Ct(){Re(dc,function(p){var b=y(p,2),x=b[0],j=b[1];Object.assign(yt[x],j)})}function zt(p,b){var x=b(ps());Q(lt(yt,p),"Invalid operator class ".concat(p));var j=yt[p];Re(x,function(z,V){Q(/^\$[a-zA-Z0-9_]*$/.test(V),"Invalid operator name ".concat(V)),Q(!lt(j,V),"".concat(V," already exists for '").concat(p,"' operators"))});var I={};switch(p){case se:Re(x,function(z,V){z=z.bind(x),I[V]=function(te,me){return function(fe){var Ce=mr(fe,te),ye=z(te,Ce,me);return Q(he(ye),"".concat(V," must return a boolean")),ye}}});break;case q:Re(x,function(z,V){z=z.bind(x),I[V]=function(te,me,fe){var Ce=mr(te,fe);return z(fe,Ce,me)}});break;default:Re(x,function(z,V){I[V]=function(){for(var te=arguments.length,me=new Array(te),fe=0;fe<te;fe++)me[fe]=arguments[fe];return z.apply(x,me)}})}Object.assign(yt[p],I)}var pc={query:function(b,x){return new gr(b).find(this.toJSON(),x)},aggregate:function(b){return new ys(b).run(this.toJSON())}};Ct();var hc="2.5.3",pi={_internal:ps,Aggregator:ys,CollectionMixin:pc,Cursor:va,Lazy:Vt,OP_EXPRESSION:X,OP_GROUP:G,OP_PIPELINE:W,OP_PROJECTION:q,OP_QUERY:se,Query:gr,VERSION:hc,addOperators:zt,aggregate:Do,find:wa,remove:Dl,setup:ca};return pi}))})(Wi)),Wi.exports}var zi={},Ui={exports:{}};const o5={},i5=Object.freeze(Object.defineProperty({__proto__:null,default:o5},Symbol.toStringTag,{value:"Module"})),cm=rd(i5);var um;function l5(){return um||(um=1,(function(e,n){var s=(function(){var o=function(W,q,se,ee){for(se=se||{},ee=W.length;ee--;se[W[ee]]=q);return se},c=[1,5],h=[1,7],y=[1,8],m=[1,6,10],l=[1,9],f=[1,6,8,10],u=[1,24],d=[1,25],g=[1,26],w=[1,27],_=[1,28],k=[1,29],M=[1,30],T=[1,17],A=[1,18],C=[1,19],R=[21,22,23,24,25,29,30],$=[1,6,8,10,18],B=[1,47],O=[6,18],Z={trace:function(){},yy:{},symbols_:{error:2,expressions:3,expression:4,andCondition:5,OR:6,filterExpr:7,AND:8,LPAREN:9,RPAREN:10,propExpr:11,valueExpr:12,PROP:13,NOT:14,REGEXPOP:15,LBRACKET:16,inExpr:17,RBRACKET:18,OP:19,VALUE:20,NULL:21,TRUE:22,FALSE:23,NUMBER:24,NOW:25,DATEOP:26,AMOUNT:27,INTERVAL:28,LITERAL:29,STRING:30,ADD:31,SUB:32,CONTAINS:33,STARTSWITH:34,ENDSWITH:35,GT:36,LT:37,GTE:38,LTE:39,$accept:0,$end:1},terminals_:{2:"error",6:"OR",8:"AND",9:"LPAREN",10:"RPAREN",13:"PROP",14:"NOT",16:"LBRACKET",18:"RBRACKET",21:"NULL",22:"TRUE",23:"FALSE",24:"NUMBER",25:"NOW",27:"AMOUNT",28:"INTERVAL",29:"LITERAL",30:"STRING",31:"ADD",32:"SUB",33:"CONTAINS",34:"STARTSWITH",35:"ENDSWITH",36:"GT",37:"LT",38:"GTE",39:"LTE"},productions_:[0,[3,1],[4,1],[4,3],[5,1],[5,3],[7,3],[7,2],[11,1],[12,2],[12,1],[12,4],[12,3],[12,2],[12,1],[17,3],[17,1],[20,1],[20,1],[20,1],[20,1],[20,4],[20,1],[20,1],[26,1],[26,1],[15,2],[15,2],[15,2],[19,1],[19,1],[19,1],[19,1],[19,1]],performAction:function(q,se,ee,re,Q,ne,xe,je){var H=ne.length-1;switch(Q){case 1:return re.debug("expression",ne[H]),re.debug("opt",je),ne[H]&&ne[H].yg?ne[H].yg:ne[H];case 2:re.debug("andCondition",ne[H]),this.$=ne[H];break;case 3:re.debug("expression OR andCondition",ne[H-2],ne[H]),ne[H-2]=ne[H-2].$or?ne[H-2]:{$or:[re.ungroup(ne[H-2])]},ne[H-2].$or.push(re.ungroup(ne[H])),this.$=ne[H-2];break;case 4:re.debug("filterExpr",ne[H]),this.$=ne[H];break;case 5:re.debug("andCondition AND filterExpr",ne[H-2],ne[H]),ne[H-2]=ne[H-2].$and?ne[H-2]:{$and:[re.ungroup(ne[H-2])]},ne[H-2].$and.push(re.ungroup(ne[H])),this.$=ne[H-2];break;case 6:re.debug("LPAREN expression RPAREN",ne[H-1]),this.$={yg:ne[H-1]};break;case 7:this.$={[ne[H-1]]:ne[H]};break;case 8:ne[H]=ne[H].replace(/:$/,""),ne[H]=je.aliases&&je.aliases[ne[H]]?je.aliases[ne[H]]:ne[H],this.$=ne[H];break;case 9:this.$={$not:ne[H]};break;case 10:this.$={$regex:ne[H]};break;case 11:this.$={$nin:ne[H-1]};break;case 12:this.$={$in:ne[H-1]};break;case 13:this.$={},this.$[ne[H-1]]=ne[H];break;case 14:this.$=ne[H];break;case 15:this.$.push(ne[H]);break;case 16:this.$=[ne[H]];break;case 17:this.$=null;break;case 18:this.$=!0;break;case 19:this.$=!1;break;case 20:this.$=parseInt(q);break;case 21:this.$=re.relDateToAbsolute(ne[H-2],ne[H-1],ne[H]);break;case 22:this.$=re.unescape(ne[H]);break;case 23:ne[H]=ne[H].replace(/^'|'$/g,""),this.$=re.unescape(ne[H]);break;case 24:this.$="add";break;case 25:this.$="sub";break;case 26:ne[H]=ne[H].replace(/^'|'$/g,""),ne[H]=re.unescape(ne[H]),this.$=re.stringToRegExp(ne[H]);break;case 27:ne[H]=ne[H].replace(/^'|'$/g,""),ne[H]=re.unescape(ne[H]),this.$=re.stringToRegExp(ne[H],"^");break;case 28:ne[H]=ne[H].replace(/^'|'$/g,""),ne[H]=re.unescape(ne[H]),this.$=re.stringToRegExp(ne[H],"$");break;case 29:this.$="$ne";break;case 30:this.$="$gt";break;case 31:this.$="$lt";break;case 32:this.$="$gte";break;case 33:this.$="$lte";break}},table:[{3:1,4:2,5:3,7:4,9:c,11:6,13:h},{1:[3]},{1:[2,1],6:y},o(m,[2,2],{8:l}),o(f,[2,4]),{4:10,5:3,7:4,9:c,11:6,13:h},{12:11,14:[1,12],15:13,16:[1,14],19:15,20:16,21:u,22:d,23:g,24:w,25:_,29:k,30:M,33:T,34:A,35:C,36:[1,20],37:[1,21],38:[1,22],39:[1,23]},o([14,16,21,22,23,24,25,29,30,33,34,35,36,37,38,39],[2,8]),{5:31,7:4,9:c,11:6,13:h},{7:32,9:c,11:6,13:h},{6:y,10:[1,33]},o(f,[2,7]),o(R,[2,29],{15:34,16:[1,35],33:T,34:A,35:C}),o(f,[2,10]),{17:36,20:37,21:u,22:d,23:g,24:w,25:_,29:k,30:M},{20:38,21:u,22:d,23:g,24:w,25:_,29:k,30:M},o(f,[2,14]),{30:[1,39]},{30:[1,40]},{30:[1,41]},o(R,[2,30]),o(R,[2,31]),o(R,[2,32]),o(R,[2,33]),o($,[2,17]),o($,[2,18]),o($,[2,19]),o($,[2,20]),{26:42,31:[1,43],32:[1,44]},o($,[2,22]),o($,[2,23]),o(m,[2,3],{8:l}),o(f,[2,5]),o(f,[2,6]),o(f,[2,9]),{17:45,20:37,21:u,22:d,23:g,24:w,25:_,29:k,30:M},{6:B,18:[1,46]},o(O,[2,16]),o(f,[2,13]),o(f,[2,26]),o(f,[2,27]),o(f,[2,28]),{27:[1,48]},{27:[2,24]},{27:[2,25]},{6:B,18:[1,49]},o(f,[2,12]),{20:50,21:u,22:d,23:g,24:w,25:_,29:k,30:M},{28:[1,51]},o(f,[2,11]),o(O,[2,15]),o($,[2,21])],defaultActions:{43:[2,24],44:[2,25]},parseError:function(q,se){if(se.recoverable)this.trace(q);else{var ee=new Error(q);throw ee.hash=se,ee}},parse:function(q){var se=this,ee=[0],re=[null],Q=[],ne=this.table,xe="",je=0,H=0,he=2,ge=1,F=Q.slice.call(arguments,1),P=Object.create(this.lexer),J={yy:{}};for(var be in this.yy)Object.prototype.hasOwnProperty.call(this.yy,be)&&(J.yy[be]=this.yy[be]);P.setInput(q,J.yy),J.yy.lexer=P,J.yy.parser=this,typeof P.yylloc>"u"&&(P.yylloc={});var Te=P.yylloc;Q.push(Te);var De=P.options&&P.options.ranges;typeof J.yy.parseError=="function"?this.parseError=J.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Me=function(){var Be;return Be=P.lex()||ge,typeof Be!="number"&&(Be=se.symbols_[Be]||Be),Be},oe,Ee,Ne,Ie,qe={},nt,Ue,vt,lt;;){if(Ee=ee[ee.length-1],this.defaultActions[Ee]?Ne=this.defaultActions[Ee]:((oe===null||typeof oe>"u")&&(oe=Me()),Ne=ne[Ee]&&ne[Ee][oe]),typeof Ne>"u"||!Ne.length||!Ne[0]){var le="";lt=[];for(nt in ne[Ee])this.terminals_[nt]&&nt>he&&lt.push("'"+this.terminals_[nt]+"'");P.showPosition?le="Parse error on line "+(je+1)+`:
`+P.showPosition()+`
Expecting `+lt.join(", ")+", got '"+(this.terminals_[oe]||oe)+"'":le="Parse error on line "+(je+1)+": Unexpected "+(oe==ge?"end of input":"'"+(this.terminals_[oe]||oe)+"'"),this.parseError(le,{text:P.match,token:this.terminals_[oe]||oe,line:P.yylineno,loc:Te,expected:lt})}if(Ne[0]instanceof Array&&Ne.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ee+", token: "+oe);switch(Ne[0]){case 1:ee.push(oe),re.push(P.yytext),Q.push(P.yylloc),ee.push(Ne[1]),oe=null,H=P.yyleng,xe=P.yytext,je=P.yylineno,Te=P.yylloc;break;case 2:if(Ue=this.productions_[Ne[1]][1],qe.$=re[re.length-Ue],qe._$={first_line:Q[Q.length-(Ue||1)].first_line,last_line:Q[Q.length-1].last_line,first_column:Q[Q.length-(Ue||1)].first_column,last_column:Q[Q.length-1].last_column},De&&(qe._$.range=[Q[Q.length-(Ue||1)].range[0],Q[Q.length-1].range[1]]),Ie=this.performAction.apply(qe,[xe,H,je,J.yy,Ne[1],re,Q].concat(F)),typeof Ie<"u")return Ie;Ue&&(ee=ee.slice(0,-1*Ue*2),re=re.slice(0,-1*Ue),Q=Q.slice(0,-1*Ue)),ee.push(this.productions_[Ne[1]][0]),re.push(qe.$),Q.push(qe._$),vt=ne[ee[ee.length-2]][ee[ee.length-1]],ee.push(vt);break;case 3:return!0}}return!0}};Z.parseError=function(W,q){var se=W.split(`
`);throw se[0]="Query Error: unexpected character in filter at char "+(q.loc.first_column+1),new Error(se.join(`
`))};var X=(function(){var W={EOF:1,parseError:function(se,ee){if(this.yy.parser)this.yy.parser.parseError(se,ee);else throw new Error(se)},setInput:function(q,se){return this.yy=se||this.yy||{},this._input=q,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var q=this._input[0];this.yytext+=q,this.yyleng++,this.offset++,this.match+=q,this.matched+=q;var se=q.match(/(?:\r\n?|\n).*/g);return se?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),q},unput:function(q){var se=q.length,ee=q.split(/(?:\r\n?|\n)/g);this._input=q+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-se),this.offset-=se;var re=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ee.length-1&&(this.yylineno-=ee.length-1);var Q=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ee?(ee.length===re.length?this.yylloc.first_column:0)+re[re.length-ee.length].length-ee[0].length:this.yylloc.first_column-se},this.options.ranges&&(this.yylloc.range=[Q[0],Q[0]+this.yyleng-se]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(q){this.unput(this.match.slice(q))},pastInput:function(){var q=this.matched.substr(0,this.matched.length-this.match.length);return(q.length>20?"...":"")+q.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var q=this.match;return q.length<20&&(q+=this._input.substr(0,20-q.length)),(q.substr(0,20)+(q.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var q=this.pastInput(),se=new Array(q.length+1).join("-");return q+this.upcomingInput()+`
`+se+"^"},test_match:function(q,se){var ee,re,Q;if(this.options.backtrack_lexer&&(Q={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Q.yylloc.range=this.yylloc.range.slice(0))),re=q[0].match(/(?:\r\n?|\n).*/g),re&&(this.yylineno+=re.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:re?re[re.length-1].length-re[re.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+q[0].length},this.yytext+=q[0],this.match+=q[0],this.matches=q,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(q[0].length),this.matched+=q[0],ee=this.performAction.call(this,this.yy,this,se,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ee)return ee;if(this._backtrack){for(var ne in Q)this[ne]=Q[ne];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var q,se,ee,re;this._more||(this.yytext="",this.match="");for(var Q=this._currentRules(),ne=0;ne<Q.length;ne++)if(ee=this._input.match(this.rules[Q[ne]]),ee&&(!se||ee[0].length>se[0].length)){if(se=ee,re=ne,this.options.backtrack_lexer){if(q=this.test_match(ee,Q[ne]),q!==!1)return q;if(this._backtrack){se=!1;continue}else return!1}else if(!this.options.flex)break}return se?(q=this.test_match(se,Q[re]),q!==!1?q:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var se=this.next();return se||this.lex()},begin:function(se){this.conditionStack.push(se)},popState:function(){var se=this.conditionStack.length-1;return se>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(se){return se=this.conditionStack.length-1-Math.abs(se||0),se>=0?this.conditionStack[se]:"INITIAL"},pushState:function(se){this.begin(se)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(se,ee,re,Q){switch(re){case 0:break;case 1:return 21;case 2:return 22;case 3:return 23;case 4:return 13;case 5:return 24;case 6:return 16;case 7:return 18;case 8:return this.pushState("reldate"),25;case 9:return 32;case 10:return 31;case 11:return 27;case 12:return this.popState(),28;case 13:return 29;case 14:return 30;case 15:return 9;case 16:return 10;case 17:return 6;case 18:return 8;case 19:return 14;case 20:return 38;case 21:return 39;case 22:return 36;case 23:return 37;case 24:return 34;case 25:return 35;case 26:return 33;case 27:return 29}},rules:[/^(?:\s+)/,/^(?:(?:null|NULL|Null)(?!(\\(['"\+\,\(\)\>\<=\[\]\~\^\$])|([^\s'"\+\,\(\)\>\<=\[\]\~]))+))/,/^(?:(?:true|TRUE|True)(?!(\\(['"\+\,\(\)\>\<=\[\]\~\^\$])|([^\s'"\+\,\(\)\>\<=\[\]\~]))+))/,/^(?:(?:false|FALSE|False)(?!(\\(['"\+\,\(\)\>\<=\[\]\~\^\$])|([^\s'"\+\,\(\)\>\<=\[\]\~]))+))/,/^(?:[a-zA-Z_][a-zA-Z0-9_\.]*[:])/,/^(?:[0-9]+(\.[0-9]+)?\b(?![\-]))/,/^(?:\[)/,/^(?:\])/,/^(?:now(?=[-+]\d+[dwMyhms](?:([\+\,\(\)\[\]])|$)))/,/^(?:-)/,/^(?:\+)/,/^(?:\d+)/,/^(?:[dwMyhms])/,/^(?:([^\s'"\+\,\(\)\>\<=\[\]\~\-])(\\(['"\+\,\(\)\>\<=\[\]\~\^\$])|([^\s'"\+\,\(\)\>\<=\[\]\~]))+)/,/^(?:['](\\['"]|[^'"])+?['])/,/^(?:\()/,/^(?:\))/,/^(?:,)/,/^(?:\+)/,/^(?:-)/,/^(?:>=)/,/^(?:<=)/,/^(?:>)/,/^(?:<)/,/^(?:~\^)/,/^(?:~\$)/,/^(?:~)/,/^(?:([a-zA-Z])(?![a-zA-Z'"\,\(\)\>\<=\[\]\~]))/],conditions:{reldate:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27],inclusive:!0},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27],inclusive:!0}}};return W.parseError=function(q,se){var ee=q.split(`
`),re,Q;throw re=ee[2].indexOf("^"),Q=ee[1].charAt(re),ee[0]='Query Error: unrecognized text "'+Q+'" in filter at char '+(re+1),Error(ee.join(`
`))},W})();Z.lexer=X;function G(){this.yy={}}return G.prototype=Z,Z.Parser=G,new G})();typeof z2<"u"&&(n.parser=s,n.Parser=s.Parser,n.parse=function(){return s.parse.apply(s,arguments)},n.main=function(c){c[1]||(console.log("Usage: "+c[0]+" FILE"),process.exit(1));var h=cm.readFileSync(cm.normalize(c[1]),"utf8");return n.parser.parse(h)},require.main===e&&n.main(process.argv.slice(1)))})(Ui,Ui.exports)),Ui.exports}var bu={},xu={},vu,fm;function yb(){return fm||(fm=1,vu=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var n={},s=Symbol("test"),o=Object(s);if(typeof s=="string"||Object.prototype.toString.call(s)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var c=42;n[s]=c;for(var h in n)return!1;if(typeof Object.keys=="function"&&Object.keys(n).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(n).length!==0)return!1;var y=Object.getOwnPropertySymbols(n);if(y.length!==1||y[0]!==s||!Object.prototype.propertyIsEnumerable.call(n,s))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var m=Object.getOwnPropertyDescriptor(n,s);if(m.value!==c||m.enumerable!==!0)return!1}return!0}),vu}var wu,dm;function cl(){if(dm)return wu;dm=1;var e=yb();return wu=function(){return e()&&!!Symbol.toStringTag},wu}var yu,pm;function _b(){return pm||(pm=1,yu=Object),yu}var _u,hm;function c5(){return hm||(hm=1,_u=Error),_u}var ku,mm;function u5(){return mm||(mm=1,ku=EvalError),ku}var Mu,gm;function f5(){return gm||(gm=1,Mu=RangeError),Mu}var ju,bm;function d5(){return bm||(bm=1,ju=ReferenceError),ju}var Eu,xm;function kb(){return xm||(xm=1,Eu=SyntaxError),Eu}var Tu,vm;function co(){return vm||(vm=1,Tu=TypeError),Tu}var Su,wm;function p5(){return wm||(wm=1,Su=URIError),Su}var Nu,ym;function h5(){return ym||(ym=1,Nu=Math.abs),Nu}var Au,_m;function m5(){return _m||(_m=1,Au=Math.floor),Au}var Iu,km;function g5(){return km||(km=1,Iu=Math.max),Iu}var Cu,Mm;function b5(){return Mm||(Mm=1,Cu=Math.min),Cu}var Du,jm;function x5(){return jm||(jm=1,Du=Math.pow),Du}var Ru,Em;function v5(){return Em||(Em=1,Ru=Math.round),Ru}var Ou,Tm;function w5(){return Tm||(Tm=1,Ou=Number.isNaN||function(n){return n!==n}),Ou}var $u,Sm;function y5(){if(Sm)return $u;Sm=1;var e=w5();return $u=function(s){return e(s)||s===0?s:s<0?-1:1},$u}var Pu,Nm;function _5(){return Nm||(Nm=1,Pu=Object.getOwnPropertyDescriptor),Pu}var Lu,Am;function ea(){if(Am)return Lu;Am=1;var e=_5();if(e)try{e([],"length")}catch{e=null}return Lu=e,Lu}var Fu,Im;function ul(){if(Im)return Fu;Im=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Fu=e,Fu}var zu,Cm;function k5(){if(Cm)return zu;Cm=1;var e=typeof Symbol<"u"&&Symbol,n=yb();return zu=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:n()},zu}var Uu,Dm;function Mb(){return Dm||(Dm=1,Uu=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Uu}var Hu,Rm;function jb(){if(Rm)return Hu;Rm=1;var e=_b();return Hu=e.getPrototypeOf||null,Hu}var Bu,Om;function M5(){if(Om)return Bu;Om=1;var e="Function.prototype.bind called on incompatible ",n=Object.prototype.toString,s=Math.max,o="[object Function]",c=function(l,f){for(var u=[],d=0;d<l.length;d+=1)u[d]=l[d];for(var g=0;g<f.length;g+=1)u[g+l.length]=f[g];return u},h=function(l,f){for(var u=[],d=f,g=0;d<l.length;d+=1,g+=1)u[g]=l[d];return u},y=function(m,l){for(var f="",u=0;u<m.length;u+=1)f+=m[u],u+1<m.length&&(f+=l);return f};return Bu=function(l){var f=this;if(typeof f!="function"||n.apply(f)!==o)throw new TypeError(e+f);for(var u=h(arguments,1),d,g=function(){if(this instanceof d){var T=f.apply(this,c(u,arguments));return Object(T)===T?T:this}return f.apply(l,c(u,arguments))},w=s(0,f.length-u.length),_=[],k=0;k<w;k++)_[k]="$"+k;if(d=Function("binder","return function ("+y(_,",")+"){ return binder.apply(this,arguments); }")(g),f.prototype){var M=function(){};M.prototype=f.prototype,d.prototype=new M,M.prototype=null}return d},Bu}var Wu,$m;function uo(){if($m)return Wu;$m=1;var e=M5();return Wu=Function.prototype.bind||e,Wu}var qu,Pm;function bd(){return Pm||(Pm=1,qu=Function.prototype.call),qu}var Yu,Lm;function xd(){return Lm||(Lm=1,Yu=Function.prototype.apply),Yu}var Gu,Fm;function j5(){return Fm||(Fm=1,Gu=typeof Reflect<"u"&&Reflect&&Reflect.apply),Gu}var Xu,zm;function Eb(){if(zm)return Xu;zm=1;var e=uo(),n=xd(),s=bd(),o=j5();return Xu=o||e.call(s,n),Xu}var Ku,Um;function vd(){if(Um)return Ku;Um=1;var e=uo(),n=co(),s=bd(),o=Eb();return Ku=function(h){if(h.length<1||typeof h[0]!="function")throw new n("a function is required");return o(e,s,h)},Ku}var Zu,Hm;function E5(){if(Hm)return Zu;Hm=1;var e=vd(),n=ea(),s;try{s=[].__proto__===Array.prototype}catch(y){if(!y||typeof y!="object"||!("code"in y)||y.code!=="ERR_PROTO_ACCESS")throw y}var o=!!s&&n&&n(Object.prototype,"__proto__"),c=Object,h=c.getPrototypeOf;return Zu=o&&typeof o.get=="function"?e([o.get]):typeof h=="function"?function(m){return h(m==null?m:c(m))}:!1,Zu}var Vu,Bm;function wd(){if(Bm)return Vu;Bm=1;var e=Mb(),n=jb(),s=E5();return Vu=e?function(c){return e(c)}:n?function(c){if(!c||typeof c!="object"&&typeof c!="function")throw new TypeError("getProto: not an object");return n(c)}:s?function(c){return s(c)}:null,Vu}var Qu,Wm;function Tb(){if(Wm)return Qu;Wm=1;var e=Function.prototype.call,n=Object.prototype.hasOwnProperty,s=uo();return Qu=s.call(e,n),Qu}var Ju,qm;function yd(){if(qm)return Ju;qm=1;var e,n=_b(),s=c5(),o=u5(),c=f5(),h=d5(),y=kb(),m=co(),l=p5(),f=h5(),u=m5(),d=g5(),g=b5(),w=x5(),_=v5(),k=y5(),M=Function,T=function(Me){try{return M('"use strict"; return ('+Me+").constructor;")()}catch{}},A=ea(),C=ul(),R=function(){throw new m},$=A?(function(){try{return arguments.callee,R}catch{try{return A(arguments,"callee").get}catch{return R}}})():R,B=k5()(),O=wd(),Z=jb(),X=Mb(),G=xd(),W=bd(),q={},se=typeof Uint8Array>"u"||!O?e:O(Uint8Array),ee={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":B&&O?O([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":q,"%AsyncGenerator%":q,"%AsyncGeneratorFunction%":q,"%AsyncIteratorPrototype%":q,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":s,"%eval%":eval,"%EvalError%":o,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":M,"%GeneratorFunction%":q,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":B&&O?O(O([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!B||!O?e:O(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":n,"%Object.getOwnPropertyDescriptor%":A,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":c,"%ReferenceError%":h,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!B||!O?e:O(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":B&&O?O(""[Symbol.iterator]()):e,"%Symbol%":B?Symbol:e,"%SyntaxError%":y,"%ThrowTypeError%":$,"%TypedArray%":se,"%TypeError%":m,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":W,"%Function.prototype.apply%":G,"%Object.defineProperty%":C,"%Object.getPrototypeOf%":Z,"%Math.abs%":f,"%Math.floor%":u,"%Math.max%":d,"%Math.min%":g,"%Math.pow%":w,"%Math.round%":_,"%Math.sign%":k,"%Reflect.getPrototypeOf%":X};if(O)try{null.error}catch(Me){var re=O(O(Me));ee["%Error.prototype%"]=re}var Q=function Me(oe){var Ee;if(oe==="%AsyncFunction%")Ee=T("async function () {}");else if(oe==="%GeneratorFunction%")Ee=T("function* () {}");else if(oe==="%AsyncGeneratorFunction%")Ee=T("async function* () {}");else if(oe==="%AsyncGenerator%"){var Ne=Me("%AsyncGeneratorFunction%");Ne&&(Ee=Ne.prototype)}else if(oe==="%AsyncIteratorPrototype%"){var Ie=Me("%AsyncGenerator%");Ie&&O&&(Ee=O(Ie.prototype))}return ee[oe]=Ee,Ee},ne={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},xe=uo(),je=Tb(),H=xe.call(W,Array.prototype.concat),he=xe.call(G,Array.prototype.splice),ge=xe.call(W,String.prototype.replace),F=xe.call(W,String.prototype.slice),P=xe.call(W,RegExp.prototype.exec),J=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,be=/\\(\\)?/g,Te=function(oe){var Ee=F(oe,0,1),Ne=F(oe,-1);if(Ee==="%"&&Ne!=="%")throw new y("invalid intrinsic syntax, expected closing `%`");if(Ne==="%"&&Ee!=="%")throw new y("invalid intrinsic syntax, expected opening `%`");var Ie=[];return ge(oe,J,function(qe,nt,Ue,vt){Ie[Ie.length]=Ue?ge(vt,be,"$1"):nt||qe}),Ie},De=function(oe,Ee){var Ne=oe,Ie;if(je(ne,Ne)&&(Ie=ne[Ne],Ne="%"+Ie[0]+"%"),je(ee,Ne)){var qe=ee[Ne];if(qe===q&&(qe=Q(Ne)),typeof qe>"u"&&!Ee)throw new m("intrinsic "+oe+" exists, but is not available. Please file an issue!");return{alias:Ie,name:Ne,value:qe}}throw new y("intrinsic "+oe+" does not exist!")};return Ju=function(oe,Ee){if(typeof oe!="string"||oe.length===0)throw new m("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Ee!="boolean")throw new m('"allowMissing" argument must be a boolean');if(P(/^%?[^%]*%?$/,oe)===null)throw new y("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ne=Te(oe),Ie=Ne.length>0?Ne[0]:"",qe=De("%"+Ie+"%",Ee),nt=qe.name,Ue=qe.value,vt=!1,lt=qe.alias;lt&&(Ie=lt[0],he(Ne,H([0,1],lt)));for(var le=1,Be=!0;le<Ne.length;le+=1){var Re=Ne[le],pr=F(Re,0,1),hr=F(Re,-1);if((pr==='"'||pr==="'"||pr==="`"||hr==='"'||hr==="'"||hr==="`")&&pr!==hr)throw new y("property names with quotes must have matching quotes");if((Re==="constructor"||!Be)&&(vt=!0),Ie+="."+Re,nt="%"+Ie+"%",je(ee,nt))Ue=ee[nt];else if(Ue!=null){if(!(Re in Ue)){if(!Ee)throw new m("base intrinsic for "+oe+" exists, but the property is not available.");return}if(A&&le+1>=Ne.length){var kt=A(Ue,Re);Be=!!kt,Be&&"get"in kt&&!("originalValue"in kt.get)?Ue=kt.get:Ue=Ue[Re]}else Be=je(Ue,Re),Ue=Ue[Re];Be&&!vt&&(ee[nt]=Ue)}}return Ue},Ju}var ef={exports:{}},tf,Ym;function T5(){if(Ym)return tf;Ym=1;var e=ul(),n=kb(),s=co(),o=ea();return tf=function(h,y,m){if(!h||typeof h!="object"&&typeof h!="function")throw new s("`obj` must be an object or a function`");if(typeof y!="string"&&typeof y!="symbol")throw new s("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new s("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,d=arguments.length>6?arguments[6]:!1,g=!!o&&o(h,y);if(e)e(h,y,{configurable:u===null&&g?g.configurable:!u,enumerable:l===null&&g?g.enumerable:!l,value:m,writable:f===null&&g?g.writable:!f});else if(d||!l&&!f&&!u)h[y]=m;else throw new n("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},tf}var rf,Gm;function S5(){if(Gm)return rf;Gm=1;var e=ul(),n=function(){return!!e};return n.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},rf=n,rf}var nf,Xm;function N5(){if(Xm)return nf;Xm=1;var e=yd(),n=T5(),s=S5()(),o=ea(),c=co(),h=e("%Math.floor%");return nf=function(m,l){if(typeof m!="function")throw new c("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||h(l)!==l)throw new c("`length` must be a positive 32-bit integer");var f=arguments.length>2&&!!arguments[2],u=!0,d=!0;if("length"in m&&o){var g=o(m,"length");g&&!g.configurable&&(u=!1),g&&!g.writable&&(d=!1)}return(u||d||!f)&&(s?n(m,"length",l,!0,!0):n(m,"length",l)),m},nf}var sf,Km;function A5(){if(Km)return sf;Km=1;var e=uo(),n=xd(),s=Eb();return sf=function(){return s(e,n,arguments)},sf}var Zm;function Sb(){return Zm||(Zm=1,(function(e){var n=N5(),s=ul(),o=vd(),c=A5();e.exports=function(y){var m=o(arguments),l=y.length-(arguments.length-1);return n(m,1+(l>0?l:0),!0)},s?s(e.exports,"apply",{value:c}):e.exports.apply=c})(ef)),ef.exports}var af,Vm;function I5(){if(Vm)return af;Vm=1;var e=yd(),n=Sb(),s=n(e("String.prototype.indexOf"));return af=function(c,h){var y=e(c,!!h);return typeof y=="function"&&s(c,".prototype.")>-1?n(y):y},af}var of,Qm;function C5(){if(Qm)return of;Qm=1;var e=cl()(),n=I5(),s=n("Object.prototype.toString"),o=function(m){return e&&m&&typeof m=="object"&&Symbol.toStringTag in m?!1:s(m)==="[object Arguments]"},c=function(m){return o(m)?!0:m!==null&&typeof m=="object"&&typeof m.length=="number"&&m.length>=0&&s(m)!=="[object Array]"&&s(m.callee)==="[object Function]"},h=(function(){return o(arguments)})();return o.isLegacyArguments=c,of=h?o:c,of}var lf,Jm;function fl(){if(Jm)return lf;Jm=1;var e=yd(),n=vd(),s=n([e("%String.prototype.indexOf%")]);return lf=function(c,h){var y=e(c,!!h);return typeof y=="function"&&s(c,".prototype.")>-1?n([y]):y},lf}var cf,eg;function D5(){if(eg)return cf;eg=1;var e=fl(),n=cl()(),s=Tb(),o=ea(),c;if(n){var h=e("RegExp.prototype.exec"),y={},m=function(){throw y},l={toString:m,valueOf:m};typeof Symbol.toPrimitive=="symbol"&&(l[Symbol.toPrimitive]=m),c=function(g){if(!g||typeof g!="object")return!1;var w=o(g,"lastIndex"),_=w&&s(w,"value");if(!_)return!1;try{h(g,l)}catch(k){return k===y}}}else{var f=e("Object.prototype.toString"),u="[object RegExp]";c=function(g){return!g||typeof g!="object"&&typeof g!="function"?!1:f(g)===u}}return cf=c,cf}var uf,tg;function R5(){if(tg)return uf;tg=1;var e=fl(),n=D5(),s=e("RegExp.prototype.exec"),o=co();return uf=function(h){if(!n(h))throw new o("`regex` must be a RegExp");return function(m){return s(h,m)!==null}},uf}var ff,rg;function O5(){if(rg)return ff;rg=1;var e=fl(),n=R5(),s=n(/^\s*(?:function)?\*/),o=cl()(),c=wd(),h=e("Object.prototype.toString"),y=e("Function.prototype.toString"),m=function(){if(!o)return!1;try{return Function("return function*() {}")()}catch{}},l;return ff=function(u){if(typeof u!="function")return!1;if(s(y(u)))return!0;if(!o){var d=h(u);return d==="[object GeneratorFunction]"}if(!c)return!1;if(typeof l>"u"){var g=m();l=g?c(g):!1}return c(u)===l},ff}var df,ng;function $5(){if(ng)return df;ng=1;var e=Function.prototype.toString,n=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,s,o;if(typeof n=="function"&&typeof Object.defineProperty=="function")try{s=Object.defineProperty({},"length",{get:function(){throw o}}),o={},n(function(){throw 42},null,s)}catch(A){A!==o&&(n=null)}else n=null;var c=/^\s*class\b/,h=function(C){try{var R=e.call(C);return c.test(R)}catch{return!1}},y=function(C){try{return h(C)?!1:(e.call(C),!0)}catch{return!1}},m=Object.prototype.toString,l="[object Object]",f="[object Function]",u="[object GeneratorFunction]",d="[object HTMLAllCollection]",g="[object HTML document.all class]",w="[object HTMLCollection]",_=typeof Symbol=="function"&&!!Symbol.toStringTag,k=!(0 in[,]),M=function(){return!1};if(typeof document=="object"){var T=document.all;m.call(T)===m.call(document.all)&&(M=function(C){if((k||!C)&&(typeof C>"u"||typeof C=="object"))try{var R=m.call(C);return(R===d||R===g||R===w||R===l)&&C("")==null}catch{}return!1})}return df=n?function(C){if(M(C))return!0;if(!C||typeof C!="function"&&typeof C!="object")return!1;try{n(C,null,s)}catch(R){if(R!==o)return!1}return!h(C)&&y(C)}:function(C){if(M(C))return!0;if(!C||typeof C!="function"&&typeof C!="object")return!1;if(_)return y(C);if(h(C))return!1;var R=m.call(C);return R!==f&&R!==u&&!/^\[object HTML/.test(R)?!1:y(C)},df}var pf,sg;function P5(){if(sg)return pf;sg=1;var e=$5(),n=Object.prototype.toString,s=Object.prototype.hasOwnProperty,o=function(l,f,u){for(var d=0,g=l.length;d<g;d++)s.call(l,d)&&(u==null?f(l[d],d,l):f.call(u,l[d],d,l))},c=function(l,f,u){for(var d=0,g=l.length;d<g;d++)u==null?f(l.charAt(d),d,l):f.call(u,l.charAt(d),d,l)},h=function(l,f,u){for(var d in l)s.call(l,d)&&(u==null?f(l[d],d,l):f.call(u,l[d],d,l))};function y(m){return n.call(m)==="[object Array]"}return pf=function(l,f,u){if(!e(f))throw new TypeError("iterator must be a function");var d;arguments.length>=3&&(d=u),y(l)?o(l,f,d):typeof l=="string"?c(l,f,d):h(l,f,d)},pf}var hf,ag;function L5(){return ag||(ag=1,hf=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),hf}var mf,og;function F5(){if(og)return mf;og=1;var e=L5(),n=typeof globalThis>"u"?Ws:globalThis;return mf=function(){for(var o=[],c=0;c<e.length;c++)typeof n[e[c]]=="function"&&(o[o.length]=e[c]);return o},mf}var gf,ig;function Nb(){if(ig)return gf;ig=1;var e=P5(),n=F5(),s=Sb(),o=fl(),c=ea(),h=wd(),y=o("Object.prototype.toString"),m=cl()(),l=typeof globalThis>"u"?Ws:globalThis,f=n(),u=o("String.prototype.slice"),d=o("Array.prototype.indexOf",!0)||function(M,T){for(var A=0;A<M.length;A+=1)if(M[A]===T)return A;return-1},g={__proto__:null};m&&c&&h?e(f,function(k){var M=new l[k];if(Symbol.toStringTag in M&&h){var T=h(M),A=c(T,Symbol.toStringTag);if(!A&&T){var C=h(T);A=c(C,Symbol.toStringTag)}g["$"+k]=s(A.get)}}):e(f,function(k){var M=new l[k],T=M.slice||M.set;T&&(g["$"+k]=s(T))});var w=function(M){var T=!1;return e(g,function(A,C){if(!T)try{"$"+A(M)===C&&(T=u(C,1))}catch{}}),T},_=function(M){var T=!1;return e(g,function(A,C){if(!T)try{A(M),T=u(C,1)}catch{}}),T};return gf=function(M){if(!M||typeof M!="object")return!1;if(!m){var T=u(y(M),8,-1);return d(f,T)>-1?T:T!=="Object"?!1:_(M)}return c?w(M):null},gf}var bf,lg;function z5(){if(lg)return bf;lg=1;var e=Nb();return bf=function(s){return!!e(s)},bf}var cg;function U5(){return cg||(cg=1,(function(e){var n=C5(),s=O5(),o=Nb(),c=z5();function h(le){return le.call.bind(le)}var y=typeof BigInt<"u",m=typeof Symbol<"u",l=h(Object.prototype.toString),f=h(Number.prototype.valueOf),u=h(String.prototype.valueOf),d=h(Boolean.prototype.valueOf);if(y)var g=h(BigInt.prototype.valueOf);if(m)var w=h(Symbol.prototype.valueOf);function _(le,Be){if(typeof le!="object")return!1;try{return Be(le),!0}catch{return!1}}e.isArgumentsObject=n,e.isGeneratorFunction=s,e.isTypedArray=c;function k(le){return typeof Promise<"u"&&le instanceof Promise||le!==null&&typeof le=="object"&&typeof le.then=="function"&&typeof le.catch=="function"}e.isPromise=k;function M(le){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(le):c(le)||F(le)}e.isArrayBufferView=M;function T(le){return o(le)==="Uint8Array"}e.isUint8Array=T;function A(le){return o(le)==="Uint8ClampedArray"}e.isUint8ClampedArray=A;function C(le){return o(le)==="Uint16Array"}e.isUint16Array=C;function R(le){return o(le)==="Uint32Array"}e.isUint32Array=R;function $(le){return o(le)==="Int8Array"}e.isInt8Array=$;function B(le){return o(le)==="Int16Array"}e.isInt16Array=B;function O(le){return o(le)==="Int32Array"}e.isInt32Array=O;function Z(le){return o(le)==="Float32Array"}e.isFloat32Array=Z;function X(le){return o(le)==="Float64Array"}e.isFloat64Array=X;function G(le){return o(le)==="BigInt64Array"}e.isBigInt64Array=G;function W(le){return o(le)==="BigUint64Array"}e.isBigUint64Array=W;function q(le){return l(le)==="[object Map]"}q.working=typeof Map<"u"&&q(new Map);function se(le){return typeof Map>"u"?!1:q.working?q(le):le instanceof Map}e.isMap=se;function ee(le){return l(le)==="[object Set]"}ee.working=typeof Set<"u"&&ee(new Set);function re(le){return typeof Set>"u"?!1:ee.working?ee(le):le instanceof Set}e.isSet=re;function Q(le){return l(le)==="[object WeakMap]"}Q.working=typeof WeakMap<"u"&&Q(new WeakMap);function ne(le){return typeof WeakMap>"u"?!1:Q.working?Q(le):le instanceof WeakMap}e.isWeakMap=ne;function xe(le){return l(le)==="[object WeakSet]"}xe.working=typeof WeakSet<"u"&&xe(new WeakSet);function je(le){return xe(le)}e.isWeakSet=je;function H(le){return l(le)==="[object ArrayBuffer]"}H.working=typeof ArrayBuffer<"u"&&H(new ArrayBuffer);function he(le){return typeof ArrayBuffer>"u"?!1:H.working?H(le):le instanceof ArrayBuffer}e.isArrayBuffer=he;function ge(le){return l(le)==="[object DataView]"}ge.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&ge(new DataView(new ArrayBuffer(1),0,1));function F(le){return typeof DataView>"u"?!1:ge.working?ge(le):le instanceof DataView}e.isDataView=F;var P=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function J(le){return l(le)==="[object SharedArrayBuffer]"}function be(le){return typeof P>"u"?!1:(typeof J.working>"u"&&(J.working=J(new P)),J.working?J(le):le instanceof P)}e.isSharedArrayBuffer=be;function Te(le){return l(le)==="[object AsyncFunction]"}e.isAsyncFunction=Te;function De(le){return l(le)==="[object Map Iterator]"}e.isMapIterator=De;function Me(le){return l(le)==="[object Set Iterator]"}e.isSetIterator=Me;function oe(le){return l(le)==="[object Generator]"}e.isGeneratorObject=oe;function Ee(le){return l(le)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=Ee;function Ne(le){return _(le,f)}e.isNumberObject=Ne;function Ie(le){return _(le,u)}e.isStringObject=Ie;function qe(le){return _(le,d)}e.isBooleanObject=qe;function nt(le){return y&&_(le,g)}e.isBigIntObject=nt;function Ue(le){return m&&_(le,w)}e.isSymbolObject=Ue;function vt(le){return Ne(le)||Ie(le)||qe(le)||nt(le)||Ue(le)}e.isBoxedPrimitive=vt;function lt(le){return typeof Uint8Array<"u"&&(he(le)||be(le))}e.isAnyArrayBuffer=lt,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(le){Object.defineProperty(e,le,{enumerable:!1,value:function(){throw new Error(le+" is not supported in userland")}})})})(xu)),xu}var xf,ug;function H5(){return ug||(ug=1,xf=function(n){return n&&typeof n=="object"&&typeof n.copy=="function"&&typeof n.fill=="function"&&typeof n.readUInt8=="function"}),xf}var Hi={exports:{}},fg;function B5(){return fg||(fg=1,typeof Object.create=="function"?Hi.exports=function(n,s){s&&(n.super_=s,n.prototype=Object.create(s.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:Hi.exports=function(n,s){if(s){n.super_=s;var o=function(){};o.prototype=s.prototype,n.prototype=new o,n.prototype.constructor=n}}),Hi.exports}var dg;function W5(){return dg||(dg=1,(function(e){var n={},s=Object.getOwnPropertyDescriptors||function(P){for(var J=Object.keys(P),be={},Te=0;Te<J.length;Te++)be[J[Te]]=Object.getOwnPropertyDescriptor(P,J[Te]);return be},o=/%[sdj%]/g;e.format=function(F){if(!B(F)){for(var P=[],J=0;J<arguments.length;J++)P.push(m(arguments[J]));return P.join(" ")}for(var J=1,be=arguments,Te=be.length,De=String(F).replace(o,function(oe){if(oe==="%%")return"%";if(J>=Te)return oe;switch(oe){case"%s":return String(be[J++]);case"%d":return Number(be[J++]);case"%j":try{return JSON.stringify(be[J++])}catch{return"[Circular]"}default:return oe}}),Me=be[J];J<Te;Me=be[++J])C(Me)||!G(Me)?De+=" "+Me:De+=" "+m(Me);return De},e.deprecate=function(F,P){if(typeof process<"u"&&process.noDeprecation===!0)return F;if(typeof process>"u")return function(){return e.deprecate(F,P).apply(this,arguments)};var J=!1;function be(){if(!J){if(process.throwDeprecation)throw new Error(P);process.traceDeprecation?console.trace(P):console.error(P),J=!0}return F.apply(this,arguments)}return be};var c={},h=/^$/;if(n.NODE_DEBUG){var y=n.NODE_DEBUG;y=y.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),h=new RegExp("^"+y+"$","i")}e.debuglog=function(F){if(F=F.toUpperCase(),!c[F])if(h.test(F)){var P=process.pid;c[F]=function(){var J=e.format.apply(e,arguments);console.error("%s %d: %s",F,P,J)}}else c[F]=function(){};return c[F]};function m(F,P){var J={seen:[],stylize:f};return arguments.length>=3&&(J.depth=arguments[2]),arguments.length>=4&&(J.colors=arguments[3]),A(P)?J.showHidden=P:P&&e._extend(J,P),Z(J.showHidden)&&(J.showHidden=!1),Z(J.depth)&&(J.depth=2),Z(J.colors)&&(J.colors=!1),Z(J.customInspect)&&(J.customInspect=!0),J.colors&&(J.stylize=l),d(J,F,J.depth)}e.inspect=m,m.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},m.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(F,P){var J=m.styles[P];return J?"\x1B["+m.colors[J][0]+"m"+F+"\x1B["+m.colors[J][1]+"m":F}function f(F,P){return F}function u(F){var P={};return F.forEach(function(J,be){P[J]=!0}),P}function d(F,P,J){if(F.customInspect&&P&&se(P.inspect)&&P.inspect!==e.inspect&&!(P.constructor&&P.constructor.prototype===P)){var be=P.inspect(J,F);return B(be)||(be=d(F,be,J)),be}var Te=g(F,P);if(Te)return Te;var De=Object.keys(P),Me=u(De);if(F.showHidden&&(De=Object.getOwnPropertyNames(P)),q(P)&&(De.indexOf("message")>=0||De.indexOf("description")>=0))return w(P);if(De.length===0){if(se(P)){var oe=P.name?": "+P.name:"";return F.stylize("[Function"+oe+"]","special")}if(X(P))return F.stylize(RegExp.prototype.toString.call(P),"regexp");if(W(P))return F.stylize(Date.prototype.toString.call(P),"date");if(q(P))return w(P)}var Ee="",Ne=!1,Ie=["{","}"];if(T(P)&&(Ne=!0,Ie=["[","]"]),se(P)){var qe=P.name?": "+P.name:"";Ee=" [Function"+qe+"]"}if(X(P)&&(Ee=" "+RegExp.prototype.toString.call(P)),W(P)&&(Ee=" "+Date.prototype.toUTCString.call(P)),q(P)&&(Ee=" "+w(P)),De.length===0&&(!Ne||P.length==0))return Ie[0]+Ee+Ie[1];if(J<0)return X(P)?F.stylize(RegExp.prototype.toString.call(P),"regexp"):F.stylize("[Object]","special");F.seen.push(P);var nt;return Ne?nt=_(F,P,J,Me,De):nt=De.map(function(Ue){return k(F,P,J,Me,Ue,Ne)}),F.seen.pop(),M(nt,Ee,Ie)}function g(F,P){if(Z(P))return F.stylize("undefined","undefined");if(B(P)){var J="'"+JSON.stringify(P).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return F.stylize(J,"string")}if($(P))return F.stylize(""+P,"number");if(A(P))return F.stylize(""+P,"boolean");if(C(P))return F.stylize("null","null")}function w(F){return"["+Error.prototype.toString.call(F)+"]"}function _(F,P,J,be,Te){for(var De=[],Me=0,oe=P.length;Me<oe;++Me)je(P,String(Me))?De.push(k(F,P,J,be,String(Me),!0)):De.push("");return Te.forEach(function(Ee){Ee.match(/^\d+$/)||De.push(k(F,P,J,be,Ee,!0))}),De}function k(F,P,J,be,Te,De){var Me,oe,Ee;if(Ee=Object.getOwnPropertyDescriptor(P,Te)||{value:P[Te]},Ee.get?Ee.set?oe=F.stylize("[Getter/Setter]","special"):oe=F.stylize("[Getter]","special"):Ee.set&&(oe=F.stylize("[Setter]","special")),je(be,Te)||(Me="["+Te+"]"),oe||(F.seen.indexOf(Ee.value)<0?(C(J)?oe=d(F,Ee.value,null):oe=d(F,Ee.value,J-1),oe.indexOf(`
`)>-1&&(De?oe=oe.split(`
`).map(function(Ne){return"  "+Ne}).join(`
`).slice(2):oe=`
`+oe.split(`
`).map(function(Ne){return"   "+Ne}).join(`
`))):oe=F.stylize("[Circular]","special")),Z(Me)){if(De&&Te.match(/^\d+$/))return oe;Me=JSON.stringify(""+Te),Me.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Me=Me.slice(1,-1),Me=F.stylize(Me,"name")):(Me=Me.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Me=F.stylize(Me,"string"))}return Me+": "+oe}function M(F,P,J){var be=F.reduce(function(Te,De){return De.indexOf(`
`)>=0,Te+De.replace(/\u001b\[\d\d?m/g,"").length+1},0);return be>60?J[0]+(P===""?"":P+`
 `)+" "+F.join(`,
  `)+" "+J[1]:J[0]+P+" "+F.join(", ")+" "+J[1]}e.types=U5();function T(F){return Array.isArray(F)}e.isArray=T;function A(F){return typeof F=="boolean"}e.isBoolean=A;function C(F){return F===null}e.isNull=C;function R(F){return F==null}e.isNullOrUndefined=R;function $(F){return typeof F=="number"}e.isNumber=$;function B(F){return typeof F=="string"}e.isString=B;function O(F){return typeof F=="symbol"}e.isSymbol=O;function Z(F){return F===void 0}e.isUndefined=Z;function X(F){return G(F)&&re(F)==="[object RegExp]"}e.isRegExp=X,e.types.isRegExp=X;function G(F){return typeof F=="object"&&F!==null}e.isObject=G;function W(F){return G(F)&&re(F)==="[object Date]"}e.isDate=W,e.types.isDate=W;function q(F){return G(F)&&(re(F)==="[object Error]"||F instanceof Error)}e.isError=q,e.types.isNativeError=q;function se(F){return typeof F=="function"}e.isFunction=se;function ee(F){return F===null||typeof F=="boolean"||typeof F=="number"||typeof F=="string"||typeof F=="symbol"||typeof F>"u"}e.isPrimitive=ee,e.isBuffer=H5();function re(F){return Object.prototype.toString.call(F)}function Q(F){return F<10?"0"+F.toString(10):F.toString(10)}var ne=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function xe(){var F=new Date,P=[Q(F.getHours()),Q(F.getMinutes()),Q(F.getSeconds())].join(":");return[F.getDate(),ne[F.getMonth()],P].join(" ")}e.log=function(){console.log("%s - %s",xe(),e.format.apply(e,arguments))},e.inherits=B5(),e._extend=function(F,P){if(!P||!G(P))return F;for(var J=Object.keys(P),be=J.length;be--;)F[J[be]]=P[J[be]];return F};function je(F,P){return Object.prototype.hasOwnProperty.call(F,P)}var H=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(P){if(typeof P!="function")throw new TypeError('The "original" argument must be of type Function');if(H&&P[H]){var J=P[H];if(typeof J!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(J,H,{value:J,enumerable:!1,writable:!1,configurable:!0}),J}function J(){for(var be,Te,De=new Promise(function(Ee,Ne){be=Ee,Te=Ne}),Me=[],oe=0;oe<arguments.length;oe++)Me.push(arguments[oe]);Me.push(function(Ee,Ne){Ee?Te(Ee):be(Ne)});try{P.apply(this,Me)}catch(Ee){Te(Ee)}return De}return Object.setPrototypeOf(J,Object.getPrototypeOf(P)),H&&Object.defineProperty(J,H,{value:J,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(J,s(P))},e.promisify.custom=H;function he(F,P){if(!F){var J=new Error("Promise was rejected with a falsy value");J.reason=F,F=J}return P(F)}function ge(F){if(typeof F!="function")throw new TypeError('The "original" argument must be of type Function');function P(){for(var J=[],be=0;be<arguments.length;be++)J.push(arguments[be]);var Te=J.pop();if(typeof Te!="function")throw new TypeError("The last argument must be of type Function");var De=this,Me=function(){return Te.apply(De,arguments)};F.apply(this,J).then(function(oe){process.nextTick(Me.bind(null,null,oe))},function(oe){process.nextTick(he.bind(null,oe,Me))})}return Object.setPrototypeOf(P,Object.getPrototypeOf(F)),Object.defineProperties(P,s(F)),P}e.callbackify=ge})(bu)),bu}function Ht(e){if(e===null||e===!0||e===!1)return NaN;var n=Number(e);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function cs(e,n){if(n.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+n.length+" present")}function _d(e){cs(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||nd(e)==="object"&&n==="[object Date]"?new Date(e.getTime()):typeof e=="number"||n==="[object Number]"?new Date(e):((typeof e=="string"||n==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Ab(e,n){cs(2,arguments);var s=_d(e),o=Ht(n);return isNaN(o)?new Date(NaN):(o&&s.setDate(s.getDate()+o),s)}function Ib(e,n){cs(2,arguments);var s=_d(e),o=Ht(n);if(isNaN(o))return new Date(NaN);if(!o)return s;var c=s.getDate(),h=new Date(s.getTime());h.setMonth(s.getMonth()+o+1,0);var y=h.getDate();return c>=y?h:(s.setFullYear(h.getFullYear(),h.getMonth(),c),s)}function q5(e,n){if(cs(2,arguments),!n||nd(n)!=="object")return new Date(NaN);var s=n.years?Ht(n.years):0,o=n.months?Ht(n.months):0,c=n.weeks?Ht(n.weeks):0,h=n.days?Ht(n.days):0,y=n.hours?Ht(n.hours):0,m=n.minutes?Ht(n.minutes):0,l=n.seconds?Ht(n.seconds):0,f=_d(e),u=o||s?Ib(f,o+s*12):f,d=h||c?Ab(u,h+c*7):u,g=m+y*60,w=l+g*60,_=w*1e3,k=new Date(d.getTime()+_);return k}const Y5=Object.freeze(Object.defineProperty({__proto__:null,default:q5},Symbol.toStringTag,{value:"Module"})),G5=rd(Y5);function X5(e,n){cs(2,arguments);var s=Ht(n);return Ab(e,-s)}function K5(e,n){cs(2,arguments);var s=Ht(n);return Ib(e,-s)}function Z5(e,n){if(cs(2,arguments),!n||nd(n)!=="object")return new Date(NaN);var s=n.years?Ht(n.years):0,o=n.months?Ht(n.months):0,c=n.weeks?Ht(n.weeks):0,h=n.days?Ht(n.days):0,y=n.hours?Ht(n.hours):0,m=n.minutes?Ht(n.minutes):0,l=n.seconds?Ht(n.seconds):0,f=K5(e,o+s*12),u=X5(f,h+c*7),d=m+y*60,g=l+d*60,w=g*1e3,_=new Date(u.getTime()-w);return _}const V5=Object.freeze(Object.defineProperty({__proto__:null,default:Z5},Symbol.toStringTag,{value:"Module"})),Q5=rd(V5);var vf,pg;function J5(){if(pg)return vf;pg=1,W5();const s={add:G5,sub:Q5},o={d:"days",w:"weeks",M:"months",y:"years",h:"hours",m:"minutes",s:"seconds"},c=h=>h.toISOString().replace("T"," ").replace(/\.[0-9]{3}Z/,"");return vf={ungroup(h){return h.yg?h.yg:h},unescape(h){const y=new RegExp(`\\\\(['"])`,"g");return h.replace(y,"$1")},stringToRegExp(h,y){let m=h.replace(/[.*+?^$(){}|[\]\\]/g,"\\$&");return y==="^"?m="^"+m:y==="$"&&(m=m+"$"),new RegExp(m,"i")},relDateToAbsolute(h,y,m){const l=new Date,f=s[h](l,{[o[m]]:y});return c(f)},debug(){}},vf}var hg;function eE(){if(hg)return zi;hg=1;const e=l5().parser;return e.yy=J5(),zi.lex=n=>{e.lexer.setInput(n);let s=e.lexer.lex();const o=[];for(;s!==e.lexer.EOF;)o.push({token:e.terminals_[s],matched:e.lexer.match}),s=e.lexer.lex();return o},zi.parse=(n,s)=>e.parse(n,s||{}),zi}var wf,mg;function Cb(){return mg||(mg=1,wf=eE()),wf}var Xa={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var tE=Xa.exports,gg;function kd(){return gg||(gg=1,(function(e,n){(function(){var s,o="4.17.21",c=200,h="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",y="Expected a function",m="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",f=500,u="__lodash_placeholder__",d=1,g=2,w=4,_=1,k=2,M=1,T=2,A=4,C=8,R=16,$=32,B=64,O=128,Z=256,X=512,G=30,W="...",q=800,se=16,ee=1,re=2,Q=3,ne=1/0,xe=9007199254740991,je=17976931348623157e292,H=NaN,he=4294967295,ge=he-1,F=he>>>1,P=[["ary",O],["bind",M],["bindKey",T],["curry",C],["curryRight",R],["flip",X],["partial",$],["partialRight",B],["rearg",Z]],J="[object Arguments]",be="[object Array]",Te="[object AsyncFunction]",De="[object Boolean]",Me="[object Date]",oe="[object DOMException]",Ee="[object Error]",Ne="[object Function]",Ie="[object GeneratorFunction]",qe="[object Map]",nt="[object Number]",Ue="[object Null]",vt="[object Object]",lt="[object Promise]",le="[object Proxy]",Be="[object RegExp]",Re="[object Set]",pr="[object String]",hr="[object Symbol]",kt="[object Undefined]",Ar="[object WeakMap]",pl="[object WeakSet]",pn="[object ArrayBuffer]",hn="[object DataView]",Lr="[object Float32Array]",Pn="[object Float64Array]",Fr="[object Int8Array]",Mr="[object Int16Array]",Ln="[object Int32Array]",us="[object Uint8Array]",fs="[object Uint8ClampedArray]",Gt="[object Uint16Array]",ta="[object Uint32Array]",hl=/\b__p \+= '';/g,ra=/\b(__p \+=) '' \+/g,mr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,mn=/&(?:amp|lt|gt|quot|#39);/g,ds=/[&<>"']/g,na=RegExp(mn.source),sa=RegExp(ds.source),aa=/<%-([\s\S]+?)%>/g,oa=/<%([\s\S]+?)%>/g,ia=/<%=([\s\S]+?)%>/g,la=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fo=/^\w*$/,ml=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ps=/[\\^$.*+?()[\]{}|]/g,po=RegExp(ps.source),ca=/^\s+/,ho=/\s/,mo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,go=/\{\n\/\* \[wrapped with (.+)\] \*/,bo=/,? & /,gn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ua=/[()=,{}\[\]\/\s]/,hs=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ms=/\w*$/,gl=/^[-+]0x[0-9a-f]+$/i,bl=/^0b[01]+$/i,xl=/^\[object .+?Constructor\]$/,vl=/^0o[0-7]+$/i,wl=/^(?:0|[1-9]\d*)$/,yl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,gs=/($^)/,_l=/['\n\r\u2028\u2029\\]/g,bs="\\ud800-\\udfff",kl="\\u0300-\\u036f",Ml="\\ufe20-\\ufe2f",jl="\\u20d0-\\u20ff",xo=kl+Ml+jl,vo="\\u2700-\\u27bf",wo="a-z\\xdf-\\xf6\\xf8-\\xff",El="\\xac\\xb1\\xd7\\xf7",yo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Tl="\\u2000-\\u206f",Sl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_o="A-Z\\xc0-\\xd6\\xd8-\\xde",ko="\\ufe0e\\ufe0f",Mo=El+yo+Tl+Sl,fa="[']",Nl="["+bs+"]",jo="["+Mo+"]",xs="["+xo+"]",Eo="\\d+",Al="["+vo+"]",To="["+wo+"]",So="[^"+bs+Mo+Eo+vo+wo+_o+"]",da="\\ud83c[\\udffb-\\udfff]",Il="(?:"+xs+"|"+da+")",No="[^"+bs+"]",pa="(?:\\ud83c[\\udde6-\\uddff]){2}",ha="[\\ud800-\\udbff][\\udc00-\\udfff]",bn="["+_o+"]",Vt="\\u200d",ma="(?:"+To+"|"+So+")",ga="(?:"+bn+"|"+So+")",Ao="(?:"+fa+"(?:d|ll|m|re|s|t|ve))?",vs="(?:"+fa+"(?:D|LL|M|RE|S|T|VE))?",ba=Il+"?",xa="["+ko+"]?",Io="(?:"+Vt+"(?:"+[No,pa,ha].join("|")+")"+xa+ba+")*",Co="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Cl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ws=xa+ba+Io,ys="(?:"+[Al,pa,ha].join("|")+")"+ws,Do="(?:"+[No+xs+"?",xs,pa,ha,Nl].join("|")+")",va=RegExp(fa,"g"),gr=RegExp(xs,"g"),wa=RegExp(da+"(?="+da+")|"+Do+ws,"g"),Dl=RegExp([bn+"?"+To+"+"+Ao+"(?="+[jo,bn,"$"].join("|")+")",ga+"+"+vs+"(?="+[jo,bn+ma,"$"].join("|")+")",bn+"?"+ma+"+"+Ao,bn+"+"+vs,Cl,Co,Eo,ys].join("|"),"g"),ya=RegExp("["+Vt+bs+xo+ko+"]"),Ro=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Oo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$o=-1,ht={};ht[Lr]=ht[Pn]=ht[Fr]=ht[Mr]=ht[Ln]=ht[us]=ht[fs]=ht[Gt]=ht[ta]=!0,ht[J]=ht[be]=ht[pn]=ht[De]=ht[hn]=ht[Me]=ht[Ee]=ht[Ne]=ht[qe]=ht[nt]=ht[vt]=ht[Be]=ht[Re]=ht[pr]=ht[Ar]=!1;var ft={};ft[J]=ft[be]=ft[pn]=ft[hn]=ft[De]=ft[Me]=ft[Lr]=ft[Pn]=ft[Fr]=ft[Mr]=ft[Ln]=ft[qe]=ft[nt]=ft[vt]=ft[Be]=ft[Re]=ft[pr]=ft[hr]=ft[us]=ft[fs]=ft[Gt]=ft[ta]=!0,ft[Ee]=ft[Ne]=ft[Ar]=!1;var Po={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Lo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Rl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ol={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$l=parseFloat,Pl=parseInt,Fo=typeof Ws=="object"&&Ws&&Ws.Object===Object&&Ws,zo=typeof self=="object"&&self&&self.Object===Object&&self,Lt=Fo||zo||Function("return this")(),xn=n&&!n.nodeType&&n,Qt=xn&&!0&&e&&!e.nodeType&&e,Uo=Qt&&Qt.exports===xn,_a=Uo&&Fo.process,ar=(function(){try{var Y=Qt&&Qt.require&&Qt.require("util").types;return Y||_a&&_a.binding&&_a.binding("util")}catch{}})(),Ho=ar&&ar.isArrayBuffer,Bo=ar&&ar.isDate,Wo=ar&&ar.isMap,qo=ar&&ar.isRegExp,Yo=ar&&ar.isSet,Go=ar&&ar.isTypedArray;function Jt(Y,ie,ae){switch(ae.length){case 0:return Y.call(ie);case 1:return Y.call(ie,ae[0]);case 2:return Y.call(ie,ae[0],ae[1]);case 3:return Y.call(ie,ae[0],ae[1],ae[2])}return Y.apply(ie,ae)}function Ll(Y,ie,ae,_e){for(var Le=-1,Qe=Y==null?0:Y.length;++Le<Qe;){var It=Y[Le];ie(_e,It,ae(It),Y)}return _e}function er(Y,ie){for(var ae=-1,_e=Y==null?0:Y.length;++ae<_e&&ie(Y[ae],ae,Y)!==!1;);return Y}function Xo(Y,ie){for(var ae=Y==null?0:Y.length;ae--&&ie(Y[ae],ae,Y)!==!1;);return Y}function ka(Y,ie){for(var ae=-1,_e=Y==null?0:Y.length;++ae<_e;)if(!ie(Y[ae],ae,Y))return!1;return!0}function Ir(Y,ie){for(var ae=-1,_e=Y==null?0:Y.length,Le=0,Qe=[];++ae<_e;){var It=Y[ae];ie(It,ae,Y)&&(Qe[Le++]=It)}return Qe}function Fn(Y,ie){var ae=Y==null?0:Y.length;return!!ae&&vn(Y,ie,0)>-1}function _s(Y,ie,ae){for(var _e=-1,Le=Y==null?0:Y.length;++_e<Le;)if(ae(ie,Y[_e]))return!0;return!1}function mt(Y,ie){for(var ae=-1,_e=Y==null?0:Y.length,Le=Array(_e);++ae<_e;)Le[ae]=ie(Y[ae],ae,Y);return Le}function Cr(Y,ie){for(var ae=-1,_e=ie.length,Le=Y.length;++ae<_e;)Y[Le+ae]=ie[ae];return Y}function ks(Y,ie,ae,_e){var Le=-1,Qe=Y==null?0:Y.length;for(_e&&Qe&&(ae=Y[++Le]);++Le<Qe;)ae=ie(ae,Y[Le],Le,Y);return ae}function Ko(Y,ie,ae,_e){var Le=Y==null?0:Y.length;for(_e&&Le&&(ae=Y[--Le]);Le--;)ae=ie(ae,Y[Le],Le,Y);return ae}function Ma(Y,ie){for(var ae=-1,_e=Y==null?0:Y.length;++ae<_e;)if(ie(Y[ae],ae,Y))return!0;return!1}var Fl=ja("length");function zl(Y){return Y.split("")}function Ul(Y){return Y.match(gn)||[]}function Zo(Y,ie,ae){var _e;return ae(Y,function(Le,Qe,It){if(ie(Le,Qe,It))return _e=Qe,!1}),_e}function Ms(Y,ie,ae,_e){for(var Le=Y.length,Qe=ae+(_e?1:-1);_e?Qe--:++Qe<Le;)if(ie(Y[Qe],Qe,Y))return Qe;return-1}function vn(Y,ie,ae){return ie===ie?Ql(Y,ie,ae):Ms(Y,Vo,ae)}function Hl(Y,ie,ae,_e){for(var Le=ae-1,Qe=Y.length;++Le<Qe;)if(_e(Y[Le],ie))return Le;return-1}function Vo(Y){return Y!==Y}function Qo(Y,ie){var ae=Y==null?0:Y.length;return ae?Ta(Y,ie)/ae:H}function ja(Y){return function(ie){return ie==null?s:ie[Y]}}function Ea(Y){return function(ie){return Y==null?s:Y[ie]}}function Jo(Y,ie,ae,_e,Le){return Le(Y,function(Qe,It,dt){ae=_e?(_e=!1,Qe):ie(ae,Qe,It,dt)}),ae}function Bl(Y,ie){var ae=Y.length;for(Y.sort(ie);ae--;)Y[ae]=Y[ae].value;return Y}function Ta(Y,ie){for(var ae,_e=-1,Le=Y.length;++_e<Le;){var Qe=ie(Y[_e]);Qe!==s&&(ae=ae===s?Qe:ae+Qe)}return ae}function Sa(Y,ie){for(var ae=-1,_e=Array(Y);++ae<Y;)_e[ae]=ie(ae);return _e}function Wl(Y,ie){return mt(ie,function(ae){return[ae,Y[ae]]})}function ei(Y){return Y&&Y.slice(0,si(Y)+1).replace(ca,"")}function Xt(Y){return function(ie){return Y(ie)}}function Na(Y,ie){return mt(ie,function(ae){return Y[ae]})}function zn(Y,ie){return Y.has(ie)}function ti(Y,ie){for(var ae=-1,_e=Y.length;++ae<_e&&vn(ie,Y[ae],0)>-1;);return ae}function ri(Y,ie){for(var ae=Y.length;ae--&&vn(ie,Y[ae],0)>-1;);return ae}function ql(Y,ie){for(var ae=Y.length,_e=0;ae--;)Y[ae]===ie&&++_e;return _e}var Yl=Ea(Po),Gl=Ea(Lo);function Xl(Y){return"\\"+Ol[Y]}function zr(Y,ie){return Y==null?s:Y[ie]}function wn(Y){return ya.test(Y)}function Kl(Y){return Ro.test(Y)}function Zl(Y){for(var ie,ae=[];!(ie=Y.next()).done;)ae.push(ie.value);return ae}function Aa(Y){var ie=-1,ae=Array(Y.size);return Y.forEach(function(_e,Le){ae[++ie]=[Le,_e]}),ae}function ni(Y,ie){return function(ae){return Y(ie(ae))}}function Ur(Y,ie){for(var ae=-1,_e=Y.length,Le=0,Qe=[];++ae<_e;){var It=Y[ae];(It===ie||It===u)&&(Y[ae]=u,Qe[Le++]=ae)}return Qe}function js(Y){var ie=-1,ae=Array(Y.size);return Y.forEach(function(_e){ae[++ie]=_e}),ae}function Vl(Y){var ie=-1,ae=Array(Y.size);return Y.forEach(function(_e){ae[++ie]=[_e,_e]}),ae}function Ql(Y,ie,ae){for(var _e=ae-1,Le=Y.length;++_e<Le;)if(Y[_e]===ie)return _e;return-1}function Jl(Y,ie,ae){for(var _e=ae+1;_e--;)if(Y[_e]===ie)return _e;return _e}function yn(Y){return wn(Y)?tc(Y):Fl(Y)}function or(Y){return wn(Y)?rc(Y):zl(Y)}function si(Y){for(var ie=Y.length;ie--&&ho.test(Y.charAt(ie)););return ie}var ec=Ea(Rl);function tc(Y){for(var ie=wa.lastIndex=0;wa.test(Y);)++ie;return ie}function rc(Y){return Y.match(wa)||[]}function nc(Y){return Y.match(Dl)||[]}var ai=(function Y(ie){ie=ie==null?Lt:_n.defaults(Lt.Object(),ie,_n.pick(Lt,Oo));var ae=ie.Array,_e=ie.Date,Le=ie.Error,Qe=ie.Function,It=ie.Math,dt=ie.Object,Ia=ie.RegExp,sc=ie.String,tr=ie.TypeError,Es=ae.prototype,ac=Qe.prototype,kn=dt.prototype,Ts=ie["__core-js_shared__"],Ss=ac.toString,at=kn.hasOwnProperty,oc=0,oi=(function(){var t=/[^.]+$/.exec(Ts&&Ts.keys&&Ts.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})(),Ns=kn.toString,Bt=Ss.call(dt),ic=Lt._,lc=Ia("^"+Ss.call(at).replace(ps,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),As=Uo?ie.Buffer:s,Hr=ie.Symbol,Is=ie.Uint8Array,ii=As?As.allocUnsafe:s,Cs=ni(dt.getPrototypeOf,dt),li=dt.create,ci=kn.propertyIsEnumerable,Ds=Es.splice,ui=Hr?Hr.isConcatSpreadable:s,Un=Hr?Hr.iterator:s,Kr=Hr?Hr.toStringTag:s,Rs=(function(){try{var t=Xn(dt,"defineProperty");return t({},"",{}),t}catch{}})(),cc=ie.clearTimeout!==Lt.clearTimeout&&ie.clearTimeout,uc=_e&&_e.now!==Lt.Date.now&&_e.now,fi=ie.setTimeout!==Lt.setTimeout&&ie.setTimeout,Os=It.ceil,$s=It.floor,Ca=dt.getOwnPropertySymbols,fc=As?As.isBuffer:s,di=ie.isFinite,yt=Es.join,dc=ni(dt.keys,dt),Ct=It.max,zt=It.min,pc=_e.now,hc=ie.parseInt,pi=It.random,p=Es.reverse,b=Xn(ie,"DataView"),x=Xn(ie,"Map"),j=Xn(ie,"Promise"),I=Xn(ie,"Set"),z=Xn(ie,"WeakMap"),V=Xn(dt,"create"),te=z&&new z,me={},fe=Kn(b),Ce=Kn(x),ye=Kn(j),tt=Kn(I),Xe=Kn(z),pt=Hr?Hr.prototype:s,Ot=pt?pt.valueOf:s,ir=pt?pt.toString:s;function S(t){if(Et(t)&&!He(t)&&!(t instanceof Ke)){if(t instanceof $t)return t;if(at.call(t,"__wrapped__"))return Ep(t)}return new $t(t)}var br=(function(){function t(){}return function(r){if(!Mt(r))return{};if(li)return li(r);t.prototype=r;var i=new t;return t.prototype=s,i}})();function Hn(){}function $t(t,r){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=s}S.templateSettings={escape:aa,evaluate:oa,interpolate:ia,variable:"",imports:{_:S}},S.prototype=Hn.prototype,S.prototype.constructor=S,$t.prototype=br(Hn.prototype),$t.prototype.constructor=$t;function Ke(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=he,this.__views__=[]}function Da(){var t=new Ke(this.__wrapped__);return t.__actions__=lr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=lr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=lr(this.__views__),t}function Bn(){if(this.__filtered__){var t=new Ke(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Pb(){var t=this.__wrapped__.value(),r=this.__dir__,i=He(t),v=r<0,E=i?t.length:0,N=Kx(0,E,this.__views__),L=N.start,U=N.end,K=U-L,ce=v?U:L-1,ue=this.__iteratees__,de=ue.length,ve=0,Se=zt(K,this.__takeCount__);if(!i||!v&&E==K&&Se==K)return Kd(t,this.__actions__);var $e=[];e:for(;K--&&ve<Se;){ce+=r;for(var Ye=-1,Pe=t[ce];++Ye<de;){var Ze=ue[Ye],Ve=Ze.iteratee,wr=Ze.type,sr=Ve(Pe);if(wr==re)Pe=sr;else if(!sr){if(wr==ee)continue e;break e}}$e[ve++]=Pe}return $e}Ke.prototype=br(Hn.prototype),Ke.prototype.constructor=Ke;function Wn(t){var r=-1,i=t==null?0:t.length;for(this.clear();++r<i;){var v=t[r];this.set(v[0],v[1])}}function Lb(){this.__data__=V?V(null):{},this.size=0}function Fb(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}function zb(t){var r=this.__data__;if(V){var i=r[t];return i===l?s:i}return at.call(r,t)?r[t]:s}function Ub(t){var r=this.__data__;return V?r[t]!==s:at.call(r,t)}function Hb(t,r){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=V&&r===s?l:r,this}Wn.prototype.clear=Lb,Wn.prototype.delete=Fb,Wn.prototype.get=zb,Wn.prototype.has=Ub,Wn.prototype.set=Hb;function Zr(t){var r=-1,i=t==null?0:t.length;for(this.clear();++r<i;){var v=t[r];this.set(v[0],v[1])}}function Bb(){this.__data__=[],this.size=0}function Wb(t){var r=this.__data__,i=hi(r,t);if(i<0)return!1;var v=r.length-1;return i==v?r.pop():Ds.call(r,i,1),--this.size,!0}function qb(t){var r=this.__data__,i=hi(r,t);return i<0?s:r[i][1]}function Yb(t){return hi(this.__data__,t)>-1}function Gb(t,r){var i=this.__data__,v=hi(i,t);return v<0?(++this.size,i.push([t,r])):i[v][1]=r,this}Zr.prototype.clear=Bb,Zr.prototype.delete=Wb,Zr.prototype.get=qb,Zr.prototype.has=Yb,Zr.prototype.set=Gb;function Vr(t){var r=-1,i=t==null?0:t.length;for(this.clear();++r<i;){var v=t[r];this.set(v[0],v[1])}}function Xb(){this.size=0,this.__data__={hash:new Wn,map:new(x||Zr),string:new Wn}}function Kb(t){var r=Ei(this,t).delete(t);return this.size-=r?1:0,r}function Zb(t){return Ei(this,t).get(t)}function Vb(t){return Ei(this,t).has(t)}function Qb(t,r){var i=Ei(this,t),v=i.size;return i.set(t,r),this.size+=i.size==v?0:1,this}Vr.prototype.clear=Xb,Vr.prototype.delete=Kb,Vr.prototype.get=Zb,Vr.prototype.has=Vb,Vr.prototype.set=Qb;function qn(t){var r=-1,i=t==null?0:t.length;for(this.__data__=new Vr;++r<i;)this.add(t[r])}function Jb(t){return this.__data__.set(t,l),this}function ex(t){return this.__data__.has(t)}qn.prototype.add=qn.prototype.push=Jb,qn.prototype.has=ex;function Dr(t){var r=this.__data__=new Zr(t);this.size=r.size}function tx(){this.__data__=new Zr,this.size=0}function rx(t){var r=this.__data__,i=r.delete(t);return this.size=r.size,i}function nx(t){return this.__data__.get(t)}function sx(t){return this.__data__.has(t)}function ax(t,r){var i=this.__data__;if(i instanceof Zr){var v=i.__data__;if(!x||v.length<c-1)return v.push([t,r]),this.size=++i.size,this;i=this.__data__=new Vr(v)}return i.set(t,r),this.size=i.size,this}Dr.prototype.clear=tx,Dr.prototype.delete=rx,Dr.prototype.get=nx,Dr.prototype.has=sx,Dr.prototype.set=ax;function Ed(t,r){var i=He(t),v=!i&&Zn(t),E=!i&&!v&&Sn(t),N=!i&&!v&&!E&&zs(t),L=i||v||E||N,U=L?Sa(t.length,sc):[],K=U.length;for(var ce in t)(r||at.call(t,ce))&&!(L&&(ce=="length"||E&&(ce=="offset"||ce=="parent")||N&&(ce=="buffer"||ce=="byteLength"||ce=="byteOffset")||tn(ce,K)))&&U.push(ce);return U}function Td(t){var r=t.length;return r?t[jc(0,r-1)]:s}function ox(t,r){return Ti(lr(t),Yn(r,0,t.length))}function ix(t){return Ti(lr(t))}function mc(t,r,i){(i!==s&&!Rr(t[r],i)||i===s&&!(r in t))&&Qr(t,r,i)}function Ra(t,r,i){var v=t[r];(!(at.call(t,r)&&Rr(v,i))||i===s&&!(r in t))&&Qr(t,r,i)}function hi(t,r){for(var i=t.length;i--;)if(Rr(t[i][0],r))return i;return-1}function lx(t,r,i,v){return Mn(t,function(E,N,L){r(v,E,i(E),L)}),v}function Sd(t,r){return t&&Wr(r,Ut(r),t)}function cx(t,r){return t&&Wr(r,ur(r),t)}function Qr(t,r,i){r=="__proto__"&&Rs?Rs(t,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[r]=i}function gc(t,r){for(var i=-1,v=r.length,E=ae(v),N=t==null;++i<v;)E[i]=N?s:Zc(t,r[i]);return E}function Yn(t,r,i){return t===t&&(i!==s&&(t=t<=i?t:i),r!==s&&(t=t>=r?t:r)),t}function jr(t,r,i,v,E,N){var L,U=r&d,K=r&g,ce=r&w;if(i&&(L=E?i(t,v,E,N):i(t)),L!==s)return L;if(!Mt(t))return t;var ue=He(t);if(ue){if(L=Vx(t),!U)return lr(t,L)}else{var de=Kt(t),ve=de==Ne||de==Ie;if(Sn(t))return Qd(t,U);if(de==vt||de==J||ve&&!E){if(L=K||ve?{}:bp(t),!U)return K?zx(t,cx(L,t)):Fx(t,Sd(L,t))}else{if(!ft[de])return E?t:{};L=Qx(t,de,U)}}N||(N=new Dr);var Se=N.get(t);if(Se)return Se;N.set(t,L),Yp(t)?t.forEach(function(Pe){L.add(jr(Pe,r,i,Pe,t,N))}):Wp(t)&&t.forEach(function(Pe,Ze){L.set(Ze,jr(Pe,r,i,Ze,t,N))});var $e=ce?K?$c:Oc:K?ur:Ut,Ye=ue?s:$e(t);return er(Ye||t,function(Pe,Ze){Ye&&(Ze=Pe,Pe=t[Ze]),Ra(L,Ze,jr(Pe,r,i,Ze,t,N))}),L}function ux(t){var r=Ut(t);return function(i){return Nd(i,t,r)}}function Nd(t,r,i){var v=i.length;if(t==null)return!v;for(t=dt(t);v--;){var E=i[v],N=r[E],L=t[E];if(L===s&&!(E in t)||!N(L))return!1}return!0}function Ad(t,r,i){if(typeof t!="function")throw new tr(y);return Ua(function(){t.apply(s,i)},r)}function Oa(t,r,i,v){var E=-1,N=Fn,L=!0,U=t.length,K=[],ce=r.length;if(!U)return K;i&&(r=mt(r,Xt(i))),v?(N=_s,L=!1):r.length>=c&&(N=zn,L=!1,r=new qn(r));e:for(;++E<U;){var ue=t[E],de=i==null?ue:i(ue);if(ue=v||ue!==0?ue:0,L&&de===de){for(var ve=ce;ve--;)if(r[ve]===de)continue e;K.push(ue)}else N(r,de,v)||K.push(ue)}return K}var Mn=np(Br),Id=np(xc,!0);function fx(t,r){var i=!0;return Mn(t,function(v,E,N){return i=!!r(v,E,N),i}),i}function mi(t,r,i){for(var v=-1,E=t.length;++v<E;){var N=t[v],L=r(N);if(L!=null&&(U===s?L===L&&!vr(L):i(L,U)))var U=L,K=N}return K}function dx(t,r,i,v){var E=t.length;for(i=We(i),i<0&&(i=-i>E?0:E+i),v=v===s||v>E?E:We(v),v<0&&(v+=E),v=i>v?0:Xp(v);i<v;)t[i++]=r;return t}function Cd(t,r){var i=[];return Mn(t,function(v,E,N){r(v,E,N)&&i.push(v)}),i}function Wt(t,r,i,v,E){var N=-1,L=t.length;for(i||(i=ev),E||(E=[]);++N<L;){var U=t[N];r>0&&i(U)?r>1?Wt(U,r-1,i,v,E):Cr(E,U):v||(E[E.length]=U)}return E}var bc=sp(),Dd=sp(!0);function Br(t,r){return t&&bc(t,r,Ut)}function xc(t,r){return t&&Dd(t,r,Ut)}function gi(t,r){return Ir(r,function(i){return rn(t[i])})}function Gn(t,r){r=En(r,t);for(var i=0,v=r.length;t!=null&&i<v;)t=t[qr(r[i++])];return i&&i==v?t:s}function Rd(t,r,i){var v=r(t);return He(t)?v:Cr(v,i(t))}function rr(t){return t==null?t===s?kt:Ue:Kr&&Kr in dt(t)?Xx(t):iv(t)}function vc(t,r){return t>r}function px(t,r){return t!=null&&at.call(t,r)}function hx(t,r){return t!=null&&r in dt(t)}function mx(t,r,i){return t>=zt(r,i)&&t<Ct(r,i)}function wc(t,r,i){for(var v=i?_s:Fn,E=t[0].length,N=t.length,L=N,U=ae(N),K=1/0,ce=[];L--;){var ue=t[L];L&&r&&(ue=mt(ue,Xt(r))),K=zt(ue.length,K),U[L]=!i&&(r||E>=120&&ue.length>=120)?new qn(L&&ue):s}ue=t[0];var de=-1,ve=U[0];e:for(;++de<E&&ce.length<K;){var Se=ue[de],$e=r?r(Se):Se;if(Se=i||Se!==0?Se:0,!(ve?zn(ve,$e):v(ce,$e,i))){for(L=N;--L;){var Ye=U[L];if(!(Ye?zn(Ye,$e):v(t[L],$e,i)))continue e}ve&&ve.push($e),ce.push(Se)}}return ce}function gx(t,r,i,v){return Br(t,function(E,N,L){r(v,i(E),N,L)}),v}function $a(t,r,i){r=En(r,t),t=yp(t,r);var v=t==null?t:t[qr(Tr(r))];return v==null?s:Jt(v,t,i)}function Od(t){return Et(t)&&rr(t)==J}function bx(t){return Et(t)&&rr(t)==pn}function xx(t){return Et(t)&&rr(t)==Me}function Pa(t,r,i,v,E){return t===r?!0:t==null||r==null||!Et(t)&&!Et(r)?t!==t&&r!==r:vx(t,r,i,v,Pa,E)}function vx(t,r,i,v,E,N){var L=He(t),U=He(r),K=L?be:Kt(t),ce=U?be:Kt(r);K=K==J?vt:K,ce=ce==J?vt:ce;var ue=K==vt,de=ce==vt,ve=K==ce;if(ve&&Sn(t)){if(!Sn(r))return!1;L=!0,ue=!1}if(ve&&!ue)return N||(N=new Dr),L||zs(t)?hp(t,r,i,v,E,N):Yx(t,r,K,i,v,E,N);if(!(i&_)){var Se=ue&&at.call(t,"__wrapped__"),$e=de&&at.call(r,"__wrapped__");if(Se||$e){var Ye=Se?t.value():t,Pe=$e?r.value():r;return N||(N=new Dr),E(Ye,Pe,i,v,N)}}return ve?(N||(N=new Dr),Gx(t,r,i,v,E,N)):!1}function wx(t){return Et(t)&&Kt(t)==qe}function yc(t,r,i,v){var E=i.length,N=E,L=!v;if(t==null)return!N;for(t=dt(t);E--;){var U=i[E];if(L&&U[2]?U[1]!==t[U[0]]:!(U[0]in t))return!1}for(;++E<N;){U=i[E];var K=U[0],ce=t[K],ue=U[1];if(L&&U[2]){if(ce===s&&!(K in t))return!1}else{var de=new Dr;if(v)var ve=v(ce,ue,K,t,r,de);if(!(ve===s?Pa(ue,ce,_|k,v,de):ve))return!1}}return!0}function $d(t){if(!Mt(t)||rv(t))return!1;var r=rn(t)?lc:xl;return r.test(Kn(t))}function yx(t){return Et(t)&&rr(t)==Be}function _x(t){return Et(t)&&Kt(t)==Re}function kx(t){return Et(t)&&Di(t.length)&&!!ht[rr(t)]}function Pd(t){return typeof t=="function"?t:t==null?fr:typeof t=="object"?He(t)?zd(t[0],t[1]):Fd(t):ah(t)}function _c(t){if(!za(t))return dc(t);var r=[];for(var i in dt(t))at.call(t,i)&&i!="constructor"&&r.push(i);return r}function Mx(t){if(!Mt(t))return ov(t);var r=za(t),i=[];for(var v in t)v=="constructor"&&(r||!at.call(t,v))||i.push(v);return i}function kc(t,r){return t<r}function Ld(t,r){var i=-1,v=cr(t)?ae(t.length):[];return Mn(t,function(E,N,L){v[++i]=r(E,N,L)}),v}function Fd(t){var r=Lc(t);return r.length==1&&r[0][2]?vp(r[0][0],r[0][1]):function(i){return i===t||yc(i,t,r)}}function zd(t,r){return zc(t)&&xp(r)?vp(qr(t),r):function(i){var v=Zc(i,t);return v===s&&v===r?Vc(i,t):Pa(r,v,_|k)}}function bi(t,r,i,v,E){t!==r&&bc(r,function(N,L){if(E||(E=new Dr),Mt(N))jx(t,r,L,i,bi,v,E);else{var U=v?v(Hc(t,L),N,L+"",t,r,E):s;U===s&&(U=N),mc(t,L,U)}},ur)}function jx(t,r,i,v,E,N,L){var U=Hc(t,i),K=Hc(r,i),ce=L.get(K);if(ce){mc(t,i,ce);return}var ue=N?N(U,K,i+"",t,r,L):s,de=ue===s;if(de){var ve=He(K),Se=!ve&&Sn(K),$e=!ve&&!Se&&zs(K);ue=K,ve||Se||$e?He(U)?ue=U:Dt(U)?ue=lr(U):Se?(de=!1,ue=Qd(K,!0)):$e?(de=!1,ue=Jd(K,!0)):ue=[]:Ha(K)||Zn(K)?(ue=U,Zn(U)?ue=Kp(U):(!Mt(U)||rn(U))&&(ue=bp(K))):de=!1}de&&(L.set(K,ue),E(ue,K,v,N,L),L.delete(K)),mc(t,i,ue)}function Ud(t,r){var i=t.length;if(i)return r+=r<0?i:0,tn(r,i)?t[r]:s}function Hd(t,r,i){r.length?r=mt(r,function(N){return He(N)?function(L){return Gn(L,N.length===1?N[0]:N)}:N}):r=[fr];var v=-1;r=mt(r,Xt(Oe()));var E=Ld(t,function(N,L,U){var K=mt(r,function(ce){return ce(N)});return{criteria:K,index:++v,value:N}});return Bl(E,function(N,L){return Lx(N,L,i)})}function Ex(t,r){return Bd(t,r,function(i,v){return Vc(t,v)})}function Bd(t,r,i){for(var v=-1,E=r.length,N={};++v<E;){var L=r[v],U=Gn(t,L);i(U,L)&&La(N,En(L,t),U)}return N}function Tx(t){return function(r){return Gn(r,t)}}function Mc(t,r,i,v){var E=v?Hl:vn,N=-1,L=r.length,U=t;for(t===r&&(r=lr(r)),i&&(U=mt(t,Xt(i)));++N<L;)for(var K=0,ce=r[N],ue=i?i(ce):ce;(K=E(U,ue,K,v))>-1;)U!==t&&Ds.call(U,K,1),Ds.call(t,K,1);return t}function Wd(t,r){for(var i=t?r.length:0,v=i-1;i--;){var E=r[i];if(i==v||E!==N){var N=E;tn(E)?Ds.call(t,E,1):Sc(t,E)}}return t}function jc(t,r){return t+$s(pi()*(r-t+1))}function Sx(t,r,i,v){for(var E=-1,N=Ct(Os((r-t)/(i||1)),0),L=ae(N);N--;)L[v?N:++E]=t,t+=i;return L}function Ec(t,r){var i="";if(!t||r<1||r>xe)return i;do r%2&&(i+=t),r=$s(r/2),r&&(t+=t);while(r);return i}function Ge(t,r){return Bc(wp(t,r,fr),t+"")}function Nx(t){return Td(Us(t))}function Ax(t,r){var i=Us(t);return Ti(i,Yn(r,0,i.length))}function La(t,r,i,v){if(!Mt(t))return t;r=En(r,t);for(var E=-1,N=r.length,L=N-1,U=t;U!=null&&++E<N;){var K=qr(r[E]),ce=i;if(K==="__proto__"||K==="constructor"||K==="prototype")return t;if(E!=L){var ue=U[K];ce=v?v(ue,K,U):s,ce===s&&(ce=Mt(ue)?ue:tn(r[E+1])?[]:{})}Ra(U,K,ce),U=U[K]}return t}var qd=te?function(t,r){return te.set(t,r),t}:fr,Ix=Rs?function(t,r){return Rs(t,"toString",{configurable:!0,enumerable:!1,value:Jc(r),writable:!0})}:fr;function Cx(t){return Ti(Us(t))}function Er(t,r,i){var v=-1,E=t.length;r<0&&(r=-r>E?0:E+r),i=i>E?E:i,i<0&&(i+=E),E=r>i?0:i-r>>>0,r>>>=0;for(var N=ae(E);++v<E;)N[v]=t[v+r];return N}function Dx(t,r){var i;return Mn(t,function(v,E,N){return i=r(v,E,N),!i}),!!i}function xi(t,r,i){var v=0,E=t==null?v:t.length;if(typeof r=="number"&&r===r&&E<=F){for(;v<E;){var N=v+E>>>1,L=t[N];L!==null&&!vr(L)&&(i?L<=r:L<r)?v=N+1:E=N}return E}return Tc(t,r,fr,i)}function Tc(t,r,i,v){var E=0,N=t==null?0:t.length;if(N===0)return 0;r=i(r);for(var L=r!==r,U=r===null,K=vr(r),ce=r===s;E<N;){var ue=$s((E+N)/2),de=i(t[ue]),ve=de!==s,Se=de===null,$e=de===de,Ye=vr(de);if(L)var Pe=v||$e;else ce?Pe=$e&&(v||ve):U?Pe=$e&&ve&&(v||!Se):K?Pe=$e&&ve&&!Se&&(v||!Ye):Se||Ye?Pe=!1:Pe=v?de<=r:de<r;Pe?E=ue+1:N=ue}return zt(N,ge)}function Yd(t,r){for(var i=-1,v=t.length,E=0,N=[];++i<v;){var L=t[i],U=r?r(L):L;if(!i||!Rr(U,K)){var K=U;N[E++]=L===0?0:L}}return N}function Gd(t){return typeof t=="number"?t:vr(t)?H:+t}function xr(t){if(typeof t=="string")return t;if(He(t))return mt(t,xr)+"";if(vr(t))return ir?ir.call(t):"";var r=t+"";return r=="0"&&1/t==-ne?"-0":r}function jn(t,r,i){var v=-1,E=Fn,N=t.length,L=!0,U=[],K=U;if(i)L=!1,E=_s;else if(N>=c){var ce=r?null:Wx(t);if(ce)return js(ce);L=!1,E=zn,K=new qn}else K=r?[]:U;e:for(;++v<N;){var ue=t[v],de=r?r(ue):ue;if(ue=i||ue!==0?ue:0,L&&de===de){for(var ve=K.length;ve--;)if(K[ve]===de)continue e;r&&K.push(de),U.push(ue)}else E(K,de,i)||(K!==U&&K.push(de),U.push(ue))}return U}function Sc(t,r){return r=En(r,t),t=yp(t,r),t==null||delete t[qr(Tr(r))]}function Xd(t,r,i,v){return La(t,r,i(Gn(t,r)),v)}function vi(t,r,i,v){for(var E=t.length,N=v?E:-1;(v?N--:++N<E)&&r(t[N],N,t););return i?Er(t,v?0:N,v?N+1:E):Er(t,v?N+1:0,v?E:N)}function Kd(t,r){var i=t;return i instanceof Ke&&(i=i.value()),ks(r,function(v,E){return E.func.apply(E.thisArg,Cr([v],E.args))},i)}function Nc(t,r,i){var v=t.length;if(v<2)return v?jn(t[0]):[];for(var E=-1,N=ae(v);++E<v;)for(var L=t[E],U=-1;++U<v;)U!=E&&(N[E]=Oa(N[E]||L,t[U],r,i));return jn(Wt(N,1),r,i)}function Zd(t,r,i){for(var v=-1,E=t.length,N=r.length,L={};++v<E;){var U=v<N?r[v]:s;i(L,t[v],U)}return L}function Ac(t){return Dt(t)?t:[]}function Ic(t){return typeof t=="function"?t:fr}function En(t,r){return He(t)?t:zc(t,r)?[t]:jp(ct(t))}var Rx=Ge;function Tn(t,r,i){var v=t.length;return i=i===s?v:i,!r&&i>=v?t:Er(t,r,i)}var Vd=cc||function(t){return Lt.clearTimeout(t)};function Qd(t,r){if(r)return t.slice();var i=t.length,v=ii?ii(i):new t.constructor(i);return t.copy(v),v}function Cc(t){var r=new t.constructor(t.byteLength);return new Is(r).set(new Is(t)),r}function Ox(t,r){var i=r?Cc(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}function $x(t){var r=new t.constructor(t.source,ms.exec(t));return r.lastIndex=t.lastIndex,r}function Px(t){return Ot?dt(Ot.call(t)):{}}function Jd(t,r){var i=r?Cc(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function ep(t,r){if(t!==r){var i=t!==s,v=t===null,E=t===t,N=vr(t),L=r!==s,U=r===null,K=r===r,ce=vr(r);if(!U&&!ce&&!N&&t>r||N&&L&&K&&!U&&!ce||v&&L&&K||!i&&K||!E)return 1;if(!v&&!N&&!ce&&t<r||ce&&i&&E&&!v&&!N||U&&i&&E||!L&&E||!K)return-1}return 0}function Lx(t,r,i){for(var v=-1,E=t.criteria,N=r.criteria,L=E.length,U=i.length;++v<L;){var K=ep(E[v],N[v]);if(K){if(v>=U)return K;var ce=i[v];return K*(ce=="desc"?-1:1)}}return t.index-r.index}function tp(t,r,i,v){for(var E=-1,N=t.length,L=i.length,U=-1,K=r.length,ce=Ct(N-L,0),ue=ae(K+ce),de=!v;++U<K;)ue[U]=r[U];for(;++E<L;)(de||E<N)&&(ue[i[E]]=t[E]);for(;ce--;)ue[U++]=t[E++];return ue}function rp(t,r,i,v){for(var E=-1,N=t.length,L=-1,U=i.length,K=-1,ce=r.length,ue=Ct(N-U,0),de=ae(ue+ce),ve=!v;++E<ue;)de[E]=t[E];for(var Se=E;++K<ce;)de[Se+K]=r[K];for(;++L<U;)(ve||E<N)&&(de[Se+i[L]]=t[E++]);return de}function lr(t,r){var i=-1,v=t.length;for(r||(r=ae(v));++i<v;)r[i]=t[i];return r}function Wr(t,r,i,v){var E=!i;i||(i={});for(var N=-1,L=r.length;++N<L;){var U=r[N],K=v?v(i[U],t[U],U,i,t):s;K===s&&(K=t[U]),E?Qr(i,U,K):Ra(i,U,K)}return i}function Fx(t,r){return Wr(t,Fc(t),r)}function zx(t,r){return Wr(t,mp(t),r)}function wi(t,r){return function(i,v){var E=He(i)?Ll:lx,N=r?r():{};return E(i,t,Oe(v,2),N)}}function Ps(t){return Ge(function(r,i){var v=-1,E=i.length,N=E>1?i[E-1]:s,L=E>2?i[2]:s;for(N=t.length>3&&typeof N=="function"?(E--,N):s,L&&nr(i[0],i[1],L)&&(N=E<3?s:N,E=1),r=dt(r);++v<E;){var U=i[v];U&&t(r,U,v,N)}return r})}function np(t,r){return function(i,v){if(i==null)return i;if(!cr(i))return t(i,v);for(var E=i.length,N=r?E:-1,L=dt(i);(r?N--:++N<E)&&v(L[N],N,L)!==!1;);return i}}function sp(t){return function(r,i,v){for(var E=-1,N=dt(r),L=v(r),U=L.length;U--;){var K=L[t?U:++E];if(i(N[K],K,N)===!1)break}return r}}function Ux(t,r,i){var v=r&M,E=Fa(t);function N(){var L=this&&this!==Lt&&this instanceof N?E:t;return L.apply(v?i:this,arguments)}return N}function ap(t){return function(r){r=ct(r);var i=wn(r)?or(r):s,v=i?i[0]:r.charAt(0),E=i?Tn(i,1).join(""):r.slice(1);return v[t]()+E}}function Ls(t){return function(r){return ks(nh(rh(r).replace(va,"")),t,"")}}function Fa(t){return function(){var r=arguments;switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3]);case 5:return new t(r[0],r[1],r[2],r[3],r[4]);case 6:return new t(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new t(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var i=br(t.prototype),v=t.apply(i,r);return Mt(v)?v:i}}function Hx(t,r,i){var v=Fa(t);function E(){for(var N=arguments.length,L=ae(N),U=N,K=Fs(E);U--;)L[U]=arguments[U];var ce=N<3&&L[0]!==K&&L[N-1]!==K?[]:Ur(L,K);if(N-=ce.length,N<i)return up(t,r,yi,E.placeholder,s,L,ce,s,s,i-N);var ue=this&&this!==Lt&&this instanceof E?v:t;return Jt(ue,this,L)}return E}function op(t){return function(r,i,v){var E=dt(r);if(!cr(r)){var N=Oe(i,3);r=Ut(r),i=function(U){return N(E[U],U,E)}}var L=t(r,i,v);return L>-1?E[N?r[L]:L]:s}}function ip(t){return en(function(r){var i=r.length,v=i,E=$t.prototype.thru;for(t&&r.reverse();v--;){var N=r[v];if(typeof N!="function")throw new tr(y);if(E&&!L&&ji(N)=="wrapper")var L=new $t([],!0)}for(v=L?v:i;++v<i;){N=r[v];var U=ji(N),K=U=="wrapper"?Pc(N):s;K&&Uc(K[0])&&K[1]==(O|C|$|Z)&&!K[4].length&&K[9]==1?L=L[ji(K[0])].apply(L,K[3]):L=N.length==1&&Uc(N)?L[U]():L.thru(N)}return function(){var ce=arguments,ue=ce[0];if(L&&ce.length==1&&He(ue))return L.plant(ue).value();for(var de=0,ve=i?r[de].apply(this,ce):ue;++de<i;)ve=r[de].call(this,ve);return ve}})}function yi(t,r,i,v,E,N,L,U,K,ce){var ue=r&O,de=r&M,ve=r&T,Se=r&(C|R),$e=r&X,Ye=ve?s:Fa(t);function Pe(){for(var Ze=arguments.length,Ve=ae(Ze),wr=Ze;wr--;)Ve[wr]=arguments[wr];if(Se)var sr=Fs(Pe),yr=ql(Ve,sr);if(v&&(Ve=tp(Ve,v,E,Se)),N&&(Ve=rp(Ve,N,L,Se)),Ze-=yr,Se&&Ze<ce){var Rt=Ur(Ve,sr);return up(t,r,yi,Pe.placeholder,i,Ve,Rt,U,K,ce-Ze)}var Or=de?i:this,sn=ve?Or[t]:t;return Ze=Ve.length,U?Ve=lv(Ve,U):$e&&Ze>1&&Ve.reverse(),ue&&K<Ze&&(Ve.length=K),this&&this!==Lt&&this instanceof Pe&&(sn=Ye||Fa(sn)),sn.apply(Or,Ve)}return Pe}function lp(t,r){return function(i,v){return gx(i,t,r(v),{})}}function _i(t,r){return function(i,v){var E;if(i===s&&v===s)return r;if(i!==s&&(E=i),v!==s){if(E===s)return v;typeof i=="string"||typeof v=="string"?(i=xr(i),v=xr(v)):(i=Gd(i),v=Gd(v)),E=t(i,v)}return E}}function Dc(t){return en(function(r){return r=mt(r,Xt(Oe())),Ge(function(i){var v=this;return t(r,function(E){return Jt(E,v,i)})})})}function ki(t,r){r=r===s?" ":xr(r);var i=r.length;if(i<2)return i?Ec(r,t):r;var v=Ec(r,Os(t/yn(r)));return wn(r)?Tn(or(v),0,t).join(""):v.slice(0,t)}function Bx(t,r,i,v){var E=r&M,N=Fa(t);function L(){for(var U=-1,K=arguments.length,ce=-1,ue=v.length,de=ae(ue+K),ve=this&&this!==Lt&&this instanceof L?N:t;++ce<ue;)de[ce]=v[ce];for(;K--;)de[ce++]=arguments[++U];return Jt(ve,E?i:this,de)}return L}function cp(t){return function(r,i,v){return v&&typeof v!="number"&&nr(r,i,v)&&(i=v=s),r=nn(r),i===s?(i=r,r=0):i=nn(i),v=v===s?r<i?1:-1:nn(v),Sx(r,i,v,t)}}function Mi(t){return function(r,i){return typeof r=="string"&&typeof i=="string"||(r=Sr(r),i=Sr(i)),t(r,i)}}function up(t,r,i,v,E,N,L,U,K,ce){var ue=r&C,de=ue?L:s,ve=ue?s:L,Se=ue?N:s,$e=ue?s:N;r|=ue?$:B,r&=~(ue?B:$),r&A||(r&=-4);var Ye=[t,r,E,Se,de,$e,ve,U,K,ce],Pe=i.apply(s,Ye);return Uc(t)&&_p(Pe,Ye),Pe.placeholder=v,kp(Pe,t,r)}function Rc(t){var r=It[t];return function(i,v){if(i=Sr(i),v=v==null?0:zt(We(v),292),v&&di(i)){var E=(ct(i)+"e").split("e"),N=r(E[0]+"e"+(+E[1]+v));return E=(ct(N)+"e").split("e"),+(E[0]+"e"+(+E[1]-v))}return r(i)}}var Wx=I&&1/js(new I([,-0]))[1]==ne?function(t){return new I(t)}:ru;function fp(t){return function(r){var i=Kt(r);return i==qe?Aa(r):i==Re?Vl(r):Wl(r,t(r))}}function Jr(t,r,i,v,E,N,L,U){var K=r&T;if(!K&&typeof t!="function")throw new tr(y);var ce=v?v.length:0;if(ce||(r&=-97,v=E=s),L=L===s?L:Ct(We(L),0),U=U===s?U:We(U),ce-=E?E.length:0,r&B){var ue=v,de=E;v=E=s}var ve=K?s:Pc(t),Se=[t,r,i,v,E,ue,de,N,L,U];if(ve&&av(Se,ve),t=Se[0],r=Se[1],i=Se[2],v=Se[3],E=Se[4],U=Se[9]=Se[9]===s?K?0:t.length:Ct(Se[9]-ce,0),!U&&r&(C|R)&&(r&=-25),!r||r==M)var $e=Ux(t,r,i);else r==C||r==R?$e=Hx(t,r,U):(r==$||r==(M|$))&&!E.length?$e=Bx(t,r,i,v):$e=yi.apply(s,Se);var Ye=ve?qd:_p;return kp(Ye($e,Se),t,r)}function dp(t,r,i,v){return t===s||Rr(t,kn[i])&&!at.call(v,i)?r:t}function pp(t,r,i,v,E,N){return Mt(t)&&Mt(r)&&(N.set(r,t),bi(t,r,s,pp,N),N.delete(r)),t}function qx(t){return Ha(t)?s:t}function hp(t,r,i,v,E,N){var L=i&_,U=t.length,K=r.length;if(U!=K&&!(L&&K>U))return!1;var ce=N.get(t),ue=N.get(r);if(ce&&ue)return ce==r&&ue==t;var de=-1,ve=!0,Se=i&k?new qn:s;for(N.set(t,r),N.set(r,t);++de<U;){var $e=t[de],Ye=r[de];if(v)var Pe=L?v(Ye,$e,de,r,t,N):v($e,Ye,de,t,r,N);if(Pe!==s){if(Pe)continue;ve=!1;break}if(Se){if(!Ma(r,function(Ze,Ve){if(!zn(Se,Ve)&&($e===Ze||E($e,Ze,i,v,N)))return Se.push(Ve)})){ve=!1;break}}else if(!($e===Ye||E($e,Ye,i,v,N))){ve=!1;break}}return N.delete(t),N.delete(r),ve}function Yx(t,r,i,v,E,N,L){switch(i){case hn:if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)return!1;t=t.buffer,r=r.buffer;case pn:return!(t.byteLength!=r.byteLength||!N(new Is(t),new Is(r)));case De:case Me:case nt:return Rr(+t,+r);case Ee:return t.name==r.name&&t.message==r.message;case Be:case pr:return t==r+"";case qe:var U=Aa;case Re:var K=v&_;if(U||(U=js),t.size!=r.size&&!K)return!1;var ce=L.get(t);if(ce)return ce==r;v|=k,L.set(t,r);var ue=hp(U(t),U(r),v,E,N,L);return L.delete(t),ue;case hr:if(Ot)return Ot.call(t)==Ot.call(r)}return!1}function Gx(t,r,i,v,E,N){var L=i&_,U=Oc(t),K=U.length,ce=Oc(r),ue=ce.length;if(K!=ue&&!L)return!1;for(var de=K;de--;){var ve=U[de];if(!(L?ve in r:at.call(r,ve)))return!1}var Se=N.get(t),$e=N.get(r);if(Se&&$e)return Se==r&&$e==t;var Ye=!0;N.set(t,r),N.set(r,t);for(var Pe=L;++de<K;){ve=U[de];var Ze=t[ve],Ve=r[ve];if(v)var wr=L?v(Ve,Ze,ve,r,t,N):v(Ze,Ve,ve,t,r,N);if(!(wr===s?Ze===Ve||E(Ze,Ve,i,v,N):wr)){Ye=!1;break}Pe||(Pe=ve=="constructor")}if(Ye&&!Pe){var sr=t.constructor,yr=r.constructor;sr!=yr&&"constructor"in t&&"constructor"in r&&!(typeof sr=="function"&&sr instanceof sr&&typeof yr=="function"&&yr instanceof yr)&&(Ye=!1)}return N.delete(t),N.delete(r),Ye}function en(t){return Bc(wp(t,s,Np),t+"")}function Oc(t){return Rd(t,Ut,Fc)}function $c(t){return Rd(t,ur,mp)}var Pc=te?function(t){return te.get(t)}:ru;function ji(t){for(var r=t.name+"",i=me[r],v=at.call(me,r)?i.length:0;v--;){var E=i[v],N=E.func;if(N==null||N==t)return E.name}return r}function Fs(t){var r=at.call(S,"placeholder")?S:t;return r.placeholder}function Oe(){var t=S.iteratee||eu;return t=t===eu?Pd:t,arguments.length?t(arguments[0],arguments[1]):t}function Ei(t,r){var i=t.__data__;return tv(r)?i[typeof r=="string"?"string":"hash"]:i.map}function Lc(t){for(var r=Ut(t),i=r.length;i--;){var v=r[i],E=t[v];r[i]=[v,E,xp(E)]}return r}function Xn(t,r){var i=zr(t,r);return $d(i)?i:s}function Xx(t){var r=at.call(t,Kr),i=t[Kr];try{t[Kr]=s;var v=!0}catch{}var E=Ns.call(t);return v&&(r?t[Kr]=i:delete t[Kr]),E}var Fc=Ca?function(t){return t==null?[]:(t=dt(t),Ir(Ca(t),function(r){return ci.call(t,r)}))}:nu,mp=Ca?function(t){for(var r=[];t;)Cr(r,Fc(t)),t=Cs(t);return r}:nu,Kt=rr;(b&&Kt(new b(new ArrayBuffer(1)))!=hn||x&&Kt(new x)!=qe||j&&Kt(j.resolve())!=lt||I&&Kt(new I)!=Re||z&&Kt(new z)!=Ar)&&(Kt=function(t){var r=rr(t),i=r==vt?t.constructor:s,v=i?Kn(i):"";if(v)switch(v){case fe:return hn;case Ce:return qe;case ye:return lt;case tt:return Re;case Xe:return Ar}return r});function Kx(t,r,i){for(var v=-1,E=i.length;++v<E;){var N=i[v],L=N.size;switch(N.type){case"drop":t+=L;break;case"dropRight":r-=L;break;case"take":r=zt(r,t+L);break;case"takeRight":t=Ct(t,r-L);break}}return{start:t,end:r}}function Zx(t){var r=t.match(go);return r?r[1].split(bo):[]}function gp(t,r,i){r=En(r,t);for(var v=-1,E=r.length,N=!1;++v<E;){var L=qr(r[v]);if(!(N=t!=null&&i(t,L)))break;t=t[L]}return N||++v!=E?N:(E=t==null?0:t.length,!!E&&Di(E)&&tn(L,E)&&(He(t)||Zn(t)))}function Vx(t){var r=t.length,i=new t.constructor(r);return r&&typeof t[0]=="string"&&at.call(t,"index")&&(i.index=t.index,i.input=t.input),i}function bp(t){return typeof t.constructor=="function"&&!za(t)?br(Cs(t)):{}}function Qx(t,r,i){var v=t.constructor;switch(r){case pn:return Cc(t);case De:case Me:return new v(+t);case hn:return Ox(t,i);case Lr:case Pn:case Fr:case Mr:case Ln:case us:case fs:case Gt:case ta:return Jd(t,i);case qe:return new v;case nt:case pr:return new v(t);case Be:return $x(t);case Re:return new v;case hr:return Px(t)}}function Jx(t,r){var i=r.length;if(!i)return t;var v=i-1;return r[v]=(i>1?"& ":"")+r[v],r=r.join(i>2?", ":" "),t.replace(mo,`{
/* [wrapped with `+r+`] */
`)}function ev(t){return He(t)||Zn(t)||!!(ui&&t&&t[ui])}function tn(t,r){var i=typeof t;return r=r??xe,!!r&&(i=="number"||i!="symbol"&&wl.test(t))&&t>-1&&t%1==0&&t<r}function nr(t,r,i){if(!Mt(i))return!1;var v=typeof r;return(v=="number"?cr(i)&&tn(r,i.length):v=="string"&&r in i)?Rr(i[r],t):!1}function zc(t,r){if(He(t))return!1;var i=typeof t;return i=="number"||i=="symbol"||i=="boolean"||t==null||vr(t)?!0:fo.test(t)||!la.test(t)||r!=null&&t in dt(r)}function tv(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}function Uc(t){var r=ji(t),i=S[r];if(typeof i!="function"||!(r in Ke.prototype))return!1;if(t===i)return!0;var v=Pc(i);return!!v&&t===v[0]}function rv(t){return!!oi&&oi in t}var nv=Ts?rn:su;function za(t){var r=t&&t.constructor,i=typeof r=="function"&&r.prototype||kn;return t===i}function xp(t){return t===t&&!Mt(t)}function vp(t,r){return function(i){return i==null?!1:i[t]===r&&(r!==s||t in dt(i))}}function sv(t){var r=Ii(t,function(v){return i.size===f&&i.clear(),v}),i=r.cache;return r}function av(t,r){var i=t[1],v=r[1],E=i|v,N=E<(M|T|O),L=v==O&&i==C||v==O&&i==Z&&t[7].length<=r[8]||v==(O|Z)&&r[7].length<=r[8]&&i==C;if(!(N||L))return t;v&M&&(t[2]=r[2],E|=i&M?0:A);var U=r[3];if(U){var K=t[3];t[3]=K?tp(K,U,r[4]):U,t[4]=K?Ur(t[3],u):r[4]}return U=r[5],U&&(K=t[5],t[5]=K?rp(K,U,r[6]):U,t[6]=K?Ur(t[5],u):r[6]),U=r[7],U&&(t[7]=U),v&O&&(t[8]=t[8]==null?r[8]:zt(t[8],r[8])),t[9]==null&&(t[9]=r[9]),t[0]=r[0],t[1]=E,t}function ov(t){var r=[];if(t!=null)for(var i in dt(t))r.push(i);return r}function iv(t){return Ns.call(t)}function wp(t,r,i){return r=Ct(r===s?t.length-1:r,0),function(){for(var v=arguments,E=-1,N=Ct(v.length-r,0),L=ae(N);++E<N;)L[E]=v[r+E];E=-1;for(var U=ae(r+1);++E<r;)U[E]=v[E];return U[r]=i(L),Jt(t,this,U)}}function yp(t,r){return r.length<2?t:Gn(t,Er(r,0,-1))}function lv(t,r){for(var i=t.length,v=zt(r.length,i),E=lr(t);v--;){var N=r[v];t[v]=tn(N,i)?E[N]:s}return t}function Hc(t,r){if(!(r==="constructor"&&typeof t[r]=="function")&&r!="__proto__")return t[r]}var _p=Mp(qd),Ua=fi||function(t,r){return Lt.setTimeout(t,r)},Bc=Mp(Ix);function kp(t,r,i){var v=r+"";return Bc(t,Jx(v,cv(Zx(v),i)))}function Mp(t){var r=0,i=0;return function(){var v=pc(),E=se-(v-i);if(i=v,E>0){if(++r>=q)return arguments[0]}else r=0;return t.apply(s,arguments)}}function Ti(t,r){var i=-1,v=t.length,E=v-1;for(r=r===s?v:r;++i<r;){var N=jc(i,E),L=t[N];t[N]=t[i],t[i]=L}return t.length=r,t}var jp=sv(function(t){var r=[];return t.charCodeAt(0)===46&&r.push(""),t.replace(ml,function(i,v,E,N){r.push(E?N.replace(hs,"$1"):v||i)}),r});function qr(t){if(typeof t=="string"||vr(t))return t;var r=t+"";return r=="0"&&1/t==-ne?"-0":r}function Kn(t){if(t!=null){try{return Ss.call(t)}catch{}try{return t+""}catch{}}return""}function cv(t,r){return er(P,function(i){var v="_."+i[0];r&i[1]&&!Fn(t,v)&&t.push(v)}),t.sort()}function Ep(t){if(t instanceof Ke)return t.clone();var r=new $t(t.__wrapped__,t.__chain__);return r.__actions__=lr(t.__actions__),r.__index__=t.__index__,r.__values__=t.__values__,r}function uv(t,r,i){(i?nr(t,r,i):r===s)?r=1:r=Ct(We(r),0);var v=t==null?0:t.length;if(!v||r<1)return[];for(var E=0,N=0,L=ae(Os(v/r));E<v;)L[N++]=Er(t,E,E+=r);return L}function fv(t){for(var r=-1,i=t==null?0:t.length,v=0,E=[];++r<i;){var N=t[r];N&&(E[v++]=N)}return E}function dv(){var t=arguments.length;if(!t)return[];for(var r=ae(t-1),i=arguments[0],v=t;v--;)r[v-1]=arguments[v];return Cr(He(i)?lr(i):[i],Wt(r,1))}var pv=Ge(function(t,r){return Dt(t)?Oa(t,Wt(r,1,Dt,!0)):[]}),hv=Ge(function(t,r){var i=Tr(r);return Dt(i)&&(i=s),Dt(t)?Oa(t,Wt(r,1,Dt,!0),Oe(i,2)):[]}),mv=Ge(function(t,r){var i=Tr(r);return Dt(i)&&(i=s),Dt(t)?Oa(t,Wt(r,1,Dt,!0),s,i):[]});function gv(t,r,i){var v=t==null?0:t.length;return v?(r=i||r===s?1:We(r),Er(t,r<0?0:r,v)):[]}function bv(t,r,i){var v=t==null?0:t.length;return v?(r=i||r===s?1:We(r),r=v-r,Er(t,0,r<0?0:r)):[]}function xv(t,r){return t&&t.length?vi(t,Oe(r,3),!0,!0):[]}function vv(t,r){return t&&t.length?vi(t,Oe(r,3),!0):[]}function wv(t,r,i,v){var E=t==null?0:t.length;return E?(i&&typeof i!="number"&&nr(t,r,i)&&(i=0,v=E),dx(t,r,i,v)):[]}function Tp(t,r,i){var v=t==null?0:t.length;if(!v)return-1;var E=i==null?0:We(i);return E<0&&(E=Ct(v+E,0)),Ms(t,Oe(r,3),E)}function Sp(t,r,i){var v=t==null?0:t.length;if(!v)return-1;var E=v-1;return i!==s&&(E=We(i),E=i<0?Ct(v+E,0):zt(E,v-1)),Ms(t,Oe(r,3),E,!0)}function Np(t){var r=t==null?0:t.length;return r?Wt(t,1):[]}function yv(t){var r=t==null?0:t.length;return r?Wt(t,ne):[]}function _v(t,r){var i=t==null?0:t.length;return i?(r=r===s?1:We(r),Wt(t,r)):[]}function kv(t){for(var r=-1,i=t==null?0:t.length,v={};++r<i;){var E=t[r];v[E[0]]=E[1]}return v}function Ap(t){return t&&t.length?t[0]:s}function Mv(t,r,i){var v=t==null?0:t.length;if(!v)return-1;var E=i==null?0:We(i);return E<0&&(E=Ct(v+E,0)),vn(t,r,E)}function jv(t){var r=t==null?0:t.length;return r?Er(t,0,-1):[]}var Ev=Ge(function(t){var r=mt(t,Ac);return r.length&&r[0]===t[0]?wc(r):[]}),Tv=Ge(function(t){var r=Tr(t),i=mt(t,Ac);return r===Tr(i)?r=s:i.pop(),i.length&&i[0]===t[0]?wc(i,Oe(r,2)):[]}),Sv=Ge(function(t){var r=Tr(t),i=mt(t,Ac);return r=typeof r=="function"?r:s,r&&i.pop(),i.length&&i[0]===t[0]?wc(i,s,r):[]});function Nv(t,r){return t==null?"":yt.call(t,r)}function Tr(t){var r=t==null?0:t.length;return r?t[r-1]:s}function Av(t,r,i){var v=t==null?0:t.length;if(!v)return-1;var E=v;return i!==s&&(E=We(i),E=E<0?Ct(v+E,0):zt(E,v-1)),r===r?Jl(t,r,E):Ms(t,Vo,E,!0)}function Iv(t,r){return t&&t.length?Ud(t,We(r)):s}var Cv=Ge(Ip);function Ip(t,r){return t&&t.length&&r&&r.length?Mc(t,r):t}function Dv(t,r,i){return t&&t.length&&r&&r.length?Mc(t,r,Oe(i,2)):t}function Rv(t,r,i){return t&&t.length&&r&&r.length?Mc(t,r,s,i):t}var Ov=en(function(t,r){var i=t==null?0:t.length,v=gc(t,r);return Wd(t,mt(r,function(E){return tn(E,i)?+E:E}).sort(ep)),v});function $v(t,r){var i=[];if(!(t&&t.length))return i;var v=-1,E=[],N=t.length;for(r=Oe(r,3);++v<N;){var L=t[v];r(L,v,t)&&(i.push(L),E.push(v))}return Wd(t,E),i}function Wc(t){return t==null?t:p.call(t)}function Pv(t,r,i){var v=t==null?0:t.length;return v?(i&&typeof i!="number"&&nr(t,r,i)?(r=0,i=v):(r=r==null?0:We(r),i=i===s?v:We(i)),Er(t,r,i)):[]}function Lv(t,r){return xi(t,r)}function Fv(t,r,i){return Tc(t,r,Oe(i,2))}function zv(t,r){var i=t==null?0:t.length;if(i){var v=xi(t,r);if(v<i&&Rr(t[v],r))return v}return-1}function Uv(t,r){return xi(t,r,!0)}function Hv(t,r,i){return Tc(t,r,Oe(i,2),!0)}function Bv(t,r){var i=t==null?0:t.length;if(i){var v=xi(t,r,!0)-1;if(Rr(t[v],r))return v}return-1}function Wv(t){return t&&t.length?Yd(t):[]}function qv(t,r){return t&&t.length?Yd(t,Oe(r,2)):[]}function Yv(t){var r=t==null?0:t.length;return r?Er(t,1,r):[]}function Gv(t,r,i){return t&&t.length?(r=i||r===s?1:We(r),Er(t,0,r<0?0:r)):[]}function Xv(t,r,i){var v=t==null?0:t.length;return v?(r=i||r===s?1:We(r),r=v-r,Er(t,r<0?0:r,v)):[]}function Kv(t,r){return t&&t.length?vi(t,Oe(r,3),!1,!0):[]}function Zv(t,r){return t&&t.length?vi(t,Oe(r,3)):[]}var Vv=Ge(function(t){return jn(Wt(t,1,Dt,!0))}),Qv=Ge(function(t){var r=Tr(t);return Dt(r)&&(r=s),jn(Wt(t,1,Dt,!0),Oe(r,2))}),Jv=Ge(function(t){var r=Tr(t);return r=typeof r=="function"?r:s,jn(Wt(t,1,Dt,!0),s,r)});function ew(t){return t&&t.length?jn(t):[]}function tw(t,r){return t&&t.length?jn(t,Oe(r,2)):[]}function rw(t,r){return r=typeof r=="function"?r:s,t&&t.length?jn(t,s,r):[]}function qc(t){if(!(t&&t.length))return[];var r=0;return t=Ir(t,function(i){if(Dt(i))return r=Ct(i.length,r),!0}),Sa(r,function(i){return mt(t,ja(i))})}function Cp(t,r){if(!(t&&t.length))return[];var i=qc(t);return r==null?i:mt(i,function(v){return Jt(r,s,v)})}var nw=Ge(function(t,r){return Dt(t)?Oa(t,r):[]}),sw=Ge(function(t){return Nc(Ir(t,Dt))}),aw=Ge(function(t){var r=Tr(t);return Dt(r)&&(r=s),Nc(Ir(t,Dt),Oe(r,2))}),ow=Ge(function(t){var r=Tr(t);return r=typeof r=="function"?r:s,Nc(Ir(t,Dt),s,r)}),iw=Ge(qc);function lw(t,r){return Zd(t||[],r||[],Ra)}function cw(t,r){return Zd(t||[],r||[],La)}var uw=Ge(function(t){var r=t.length,i=r>1?t[r-1]:s;return i=typeof i=="function"?(t.pop(),i):s,Cp(t,i)});function Dp(t){var r=S(t);return r.__chain__=!0,r}function fw(t,r){return r(t),t}function Si(t,r){return r(t)}var dw=en(function(t){var r=t.length,i=r?t[0]:0,v=this.__wrapped__,E=function(N){return gc(N,t)};return r>1||this.__actions__.length||!(v instanceof Ke)||!tn(i)?this.thru(E):(v=v.slice(i,+i+(r?1:0)),v.__actions__.push({func:Si,args:[E],thisArg:s}),new $t(v,this.__chain__).thru(function(N){return r&&!N.length&&N.push(s),N}))});function pw(){return Dp(this)}function hw(){return new $t(this.value(),this.__chain__)}function mw(){this.__values__===s&&(this.__values__=Gp(this.value()));var t=this.__index__>=this.__values__.length,r=t?s:this.__values__[this.__index__++];return{done:t,value:r}}function gw(){return this}function bw(t){for(var r,i=this;i instanceof Hn;){var v=Ep(i);v.__index__=0,v.__values__=s,r?E.__wrapped__=v:r=v;var E=v;i=i.__wrapped__}return E.__wrapped__=t,r}function xw(){var t=this.__wrapped__;if(t instanceof Ke){var r=t;return this.__actions__.length&&(r=new Ke(this)),r=r.reverse(),r.__actions__.push({func:Si,args:[Wc],thisArg:s}),new $t(r,this.__chain__)}return this.thru(Wc)}function vw(){return Kd(this.__wrapped__,this.__actions__)}var ww=wi(function(t,r,i){at.call(t,i)?++t[i]:Qr(t,i,1)});function yw(t,r,i){var v=He(t)?ka:fx;return i&&nr(t,r,i)&&(r=s),v(t,Oe(r,3))}function _w(t,r){var i=He(t)?Ir:Cd;return i(t,Oe(r,3))}var kw=op(Tp),Mw=op(Sp);function jw(t,r){return Wt(Ni(t,r),1)}function Ew(t,r){return Wt(Ni(t,r),ne)}function Tw(t,r,i){return i=i===s?1:We(i),Wt(Ni(t,r),i)}function Rp(t,r){var i=He(t)?er:Mn;return i(t,Oe(r,3))}function Op(t,r){var i=He(t)?Xo:Id;return i(t,Oe(r,3))}var Sw=wi(function(t,r,i){at.call(t,i)?t[i].push(r):Qr(t,i,[r])});function Nw(t,r,i,v){t=cr(t)?t:Us(t),i=i&&!v?We(i):0;var E=t.length;return i<0&&(i=Ct(E+i,0)),Ri(t)?i<=E&&t.indexOf(r,i)>-1:!!E&&vn(t,r,i)>-1}var Aw=Ge(function(t,r,i){var v=-1,E=typeof r=="function",N=cr(t)?ae(t.length):[];return Mn(t,function(L){N[++v]=E?Jt(r,L,i):$a(L,r,i)}),N}),Iw=wi(function(t,r,i){Qr(t,i,r)});function Ni(t,r){var i=He(t)?mt:Ld;return i(t,Oe(r,3))}function Cw(t,r,i,v){return t==null?[]:(He(r)||(r=r==null?[]:[r]),i=v?s:i,He(i)||(i=i==null?[]:[i]),Hd(t,r,i))}var Dw=wi(function(t,r,i){t[i?0:1].push(r)},function(){return[[],[]]});function Rw(t,r,i){var v=He(t)?ks:Jo,E=arguments.length<3;return v(t,Oe(r,4),i,E,Mn)}function Ow(t,r,i){var v=He(t)?Ko:Jo,E=arguments.length<3;return v(t,Oe(r,4),i,E,Id)}function $w(t,r){var i=He(t)?Ir:Cd;return i(t,Ci(Oe(r,3)))}function Pw(t){var r=He(t)?Td:Nx;return r(t)}function Lw(t,r,i){(i?nr(t,r,i):r===s)?r=1:r=We(r);var v=He(t)?ox:Ax;return v(t,r)}function Fw(t){var r=He(t)?ix:Cx;return r(t)}function zw(t){if(t==null)return 0;if(cr(t))return Ri(t)?yn(t):t.length;var r=Kt(t);return r==qe||r==Re?t.size:_c(t).length}function Uw(t,r,i){var v=He(t)?Ma:Dx;return i&&nr(t,r,i)&&(r=s),v(t,Oe(r,3))}var Hw=Ge(function(t,r){if(t==null)return[];var i=r.length;return i>1&&nr(t,r[0],r[1])?r=[]:i>2&&nr(r[0],r[1],r[2])&&(r=[r[0]]),Hd(t,Wt(r,1),[])}),Ai=uc||function(){return Lt.Date.now()};function Bw(t,r){if(typeof r!="function")throw new tr(y);return t=We(t),function(){if(--t<1)return r.apply(this,arguments)}}function $p(t,r,i){return r=i?s:r,r=t&&r==null?t.length:r,Jr(t,O,s,s,s,s,r)}function Pp(t,r){var i;if(typeof r!="function")throw new tr(y);return t=We(t),function(){return--t>0&&(i=r.apply(this,arguments)),t<=1&&(r=s),i}}var Yc=Ge(function(t,r,i){var v=M;if(i.length){var E=Ur(i,Fs(Yc));v|=$}return Jr(t,v,r,i,E)}),Lp=Ge(function(t,r,i){var v=M|T;if(i.length){var E=Ur(i,Fs(Lp));v|=$}return Jr(r,v,t,i,E)});function Fp(t,r,i){r=i?s:r;var v=Jr(t,C,s,s,s,s,s,r);return v.placeholder=Fp.placeholder,v}function zp(t,r,i){r=i?s:r;var v=Jr(t,R,s,s,s,s,s,r);return v.placeholder=zp.placeholder,v}function Up(t,r,i){var v,E,N,L,U,K,ce=0,ue=!1,de=!1,ve=!0;if(typeof t!="function")throw new tr(y);r=Sr(r)||0,Mt(i)&&(ue=!!i.leading,de="maxWait"in i,N=de?Ct(Sr(i.maxWait)||0,r):N,ve="trailing"in i?!!i.trailing:ve);function Se(Rt){var Or=v,sn=E;return v=E=s,ce=Rt,L=t.apply(sn,Or),L}function $e(Rt){return ce=Rt,U=Ua(Ze,r),ue?Se(Rt):L}function Ye(Rt){var Or=Rt-K,sn=Rt-ce,oh=r-Or;return de?zt(oh,N-sn):oh}function Pe(Rt){var Or=Rt-K,sn=Rt-ce;return K===s||Or>=r||Or<0||de&&sn>=N}function Ze(){var Rt=Ai();if(Pe(Rt))return Ve(Rt);U=Ua(Ze,Ye(Rt))}function Ve(Rt){return U=s,ve&&v?Se(Rt):(v=E=s,L)}function wr(){U!==s&&Vd(U),ce=0,v=K=E=U=s}function sr(){return U===s?L:Ve(Ai())}function yr(){var Rt=Ai(),Or=Pe(Rt);if(v=arguments,E=this,K=Rt,Or){if(U===s)return $e(K);if(de)return Vd(U),U=Ua(Ze,r),Se(K)}return U===s&&(U=Ua(Ze,r)),L}return yr.cancel=wr,yr.flush=sr,yr}var Ww=Ge(function(t,r){return Ad(t,1,r)}),qw=Ge(function(t,r,i){return Ad(t,Sr(r)||0,i)});function Yw(t){return Jr(t,X)}function Ii(t,r){if(typeof t!="function"||r!=null&&typeof r!="function")throw new tr(y);var i=function(){var v=arguments,E=r?r.apply(this,v):v[0],N=i.cache;if(N.has(E))return N.get(E);var L=t.apply(this,v);return i.cache=N.set(E,L)||N,L};return i.cache=new(Ii.Cache||Vr),i}Ii.Cache=Vr;function Ci(t){if(typeof t!="function")throw new tr(y);return function(){var r=arguments;switch(r.length){case 0:return!t.call(this);case 1:return!t.call(this,r[0]);case 2:return!t.call(this,r[0],r[1]);case 3:return!t.call(this,r[0],r[1],r[2])}return!t.apply(this,r)}}function Gw(t){return Pp(2,t)}var Xw=Rx(function(t,r){r=r.length==1&&He(r[0])?mt(r[0],Xt(Oe())):mt(Wt(r,1),Xt(Oe()));var i=r.length;return Ge(function(v){for(var E=-1,N=zt(v.length,i);++E<N;)v[E]=r[E].call(this,v[E]);return Jt(t,this,v)})}),Gc=Ge(function(t,r){var i=Ur(r,Fs(Gc));return Jr(t,$,s,r,i)}),Hp=Ge(function(t,r){var i=Ur(r,Fs(Hp));return Jr(t,B,s,r,i)}),Kw=en(function(t,r){return Jr(t,Z,s,s,s,r)});function Zw(t,r){if(typeof t!="function")throw new tr(y);return r=r===s?r:We(r),Ge(t,r)}function Vw(t,r){if(typeof t!="function")throw new tr(y);return r=r==null?0:Ct(We(r),0),Ge(function(i){var v=i[r],E=Tn(i,0,r);return v&&Cr(E,v),Jt(t,this,E)})}function Qw(t,r,i){var v=!0,E=!0;if(typeof t!="function")throw new tr(y);return Mt(i)&&(v="leading"in i?!!i.leading:v,E="trailing"in i?!!i.trailing:E),Up(t,r,{leading:v,maxWait:r,trailing:E})}function Jw(t){return $p(t,1)}function e1(t,r){return Gc(Ic(r),t)}function t1(){if(!arguments.length)return[];var t=arguments[0];return He(t)?t:[t]}function r1(t){return jr(t,w)}function n1(t,r){return r=typeof r=="function"?r:s,jr(t,w,r)}function s1(t){return jr(t,d|w)}function a1(t,r){return r=typeof r=="function"?r:s,jr(t,d|w,r)}function o1(t,r){return r==null||Nd(t,r,Ut(r))}function Rr(t,r){return t===r||t!==t&&r!==r}var i1=Mi(vc),l1=Mi(function(t,r){return t>=r}),Zn=Od((function(){return arguments})())?Od:function(t){return Et(t)&&at.call(t,"callee")&&!ci.call(t,"callee")},He=ae.isArray,c1=Ho?Xt(Ho):bx;function cr(t){return t!=null&&Di(t.length)&&!rn(t)}function Dt(t){return Et(t)&&cr(t)}function u1(t){return t===!0||t===!1||Et(t)&&rr(t)==De}var Sn=fc||su,f1=Bo?Xt(Bo):xx;function d1(t){return Et(t)&&t.nodeType===1&&!Ha(t)}function p1(t){if(t==null)return!0;if(cr(t)&&(He(t)||typeof t=="string"||typeof t.splice=="function"||Sn(t)||zs(t)||Zn(t)))return!t.length;var r=Kt(t);if(r==qe||r==Re)return!t.size;if(za(t))return!_c(t).length;for(var i in t)if(at.call(t,i))return!1;return!0}function h1(t,r){return Pa(t,r)}function m1(t,r,i){i=typeof i=="function"?i:s;var v=i?i(t,r):s;return v===s?Pa(t,r,s,i):!!v}function Xc(t){if(!Et(t))return!1;var r=rr(t);return r==Ee||r==oe||typeof t.message=="string"&&typeof t.name=="string"&&!Ha(t)}function g1(t){return typeof t=="number"&&di(t)}function rn(t){if(!Mt(t))return!1;var r=rr(t);return r==Ne||r==Ie||r==Te||r==le}function Bp(t){return typeof t=="number"&&t==We(t)}function Di(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=xe}function Mt(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}function Et(t){return t!=null&&typeof t=="object"}var Wp=Wo?Xt(Wo):wx;function b1(t,r){return t===r||yc(t,r,Lc(r))}function x1(t,r,i){return i=typeof i=="function"?i:s,yc(t,r,Lc(r),i)}function v1(t){return qp(t)&&t!=+t}function w1(t){if(nv(t))throw new Le(h);return $d(t)}function y1(t){return t===null}function _1(t){return t==null}function qp(t){return typeof t=="number"||Et(t)&&rr(t)==nt}function Ha(t){if(!Et(t)||rr(t)!=vt)return!1;var r=Cs(t);if(r===null)return!0;var i=at.call(r,"constructor")&&r.constructor;return typeof i=="function"&&i instanceof i&&Ss.call(i)==Bt}var Kc=qo?Xt(qo):yx;function k1(t){return Bp(t)&&t>=-xe&&t<=xe}var Yp=Yo?Xt(Yo):_x;function Ri(t){return typeof t=="string"||!He(t)&&Et(t)&&rr(t)==pr}function vr(t){return typeof t=="symbol"||Et(t)&&rr(t)==hr}var zs=Go?Xt(Go):kx;function M1(t){return t===s}function j1(t){return Et(t)&&Kt(t)==Ar}function E1(t){return Et(t)&&rr(t)==pl}var T1=Mi(kc),S1=Mi(function(t,r){return t<=r});function Gp(t){if(!t)return[];if(cr(t))return Ri(t)?or(t):lr(t);if(Un&&t[Un])return Zl(t[Un]());var r=Kt(t),i=r==qe?Aa:r==Re?js:Us;return i(t)}function nn(t){if(!t)return t===0?t:0;if(t=Sr(t),t===ne||t===-ne){var r=t<0?-1:1;return r*je}return t===t?t:0}function We(t){var r=nn(t),i=r%1;return r===r?i?r-i:r:0}function Xp(t){return t?Yn(We(t),0,he):0}function Sr(t){if(typeof t=="number")return t;if(vr(t))return H;if(Mt(t)){var r=typeof t.valueOf=="function"?t.valueOf():t;t=Mt(r)?r+"":r}if(typeof t!="string")return t===0?t:+t;t=ei(t);var i=bl.test(t);return i||vl.test(t)?Pl(t.slice(2),i?2:8):gl.test(t)?H:+t}function Kp(t){return Wr(t,ur(t))}function N1(t){return t?Yn(We(t),-xe,xe):t===0?t:0}function ct(t){return t==null?"":xr(t)}var A1=Ps(function(t,r){if(za(r)||cr(r)){Wr(r,Ut(r),t);return}for(var i in r)at.call(r,i)&&Ra(t,i,r[i])}),Zp=Ps(function(t,r){Wr(r,ur(r),t)}),Oi=Ps(function(t,r,i,v){Wr(r,ur(r),t,v)}),I1=Ps(function(t,r,i,v){Wr(r,Ut(r),t,v)}),C1=en(gc);function D1(t,r){var i=br(t);return r==null?i:Sd(i,r)}var R1=Ge(function(t,r){t=dt(t);var i=-1,v=r.length,E=v>2?r[2]:s;for(E&&nr(r[0],r[1],E)&&(v=1);++i<v;)for(var N=r[i],L=ur(N),U=-1,K=L.length;++U<K;){var ce=L[U],ue=t[ce];(ue===s||Rr(ue,kn[ce])&&!at.call(t,ce))&&(t[ce]=N[ce])}return t}),O1=Ge(function(t){return t.push(s,pp),Jt(Vp,s,t)});function $1(t,r){return Zo(t,Oe(r,3),Br)}function P1(t,r){return Zo(t,Oe(r,3),xc)}function L1(t,r){return t==null?t:bc(t,Oe(r,3),ur)}function F1(t,r){return t==null?t:Dd(t,Oe(r,3),ur)}function z1(t,r){return t&&Br(t,Oe(r,3))}function U1(t,r){return t&&xc(t,Oe(r,3))}function H1(t){return t==null?[]:gi(t,Ut(t))}function B1(t){return t==null?[]:gi(t,ur(t))}function Zc(t,r,i){var v=t==null?s:Gn(t,r);return v===s?i:v}function W1(t,r){return t!=null&&gp(t,r,px)}function Vc(t,r){return t!=null&&gp(t,r,hx)}var q1=lp(function(t,r,i){r!=null&&typeof r.toString!="function"&&(r=Ns.call(r)),t[r]=i},Jc(fr)),Y1=lp(function(t,r,i){r!=null&&typeof r.toString!="function"&&(r=Ns.call(r)),at.call(t,r)?t[r].push(i):t[r]=[i]},Oe),G1=Ge($a);function Ut(t){return cr(t)?Ed(t):_c(t)}function ur(t){return cr(t)?Ed(t,!0):Mx(t)}function X1(t,r){var i={};return r=Oe(r,3),Br(t,function(v,E,N){Qr(i,r(v,E,N),v)}),i}function K1(t,r){var i={};return r=Oe(r,3),Br(t,function(v,E,N){Qr(i,E,r(v,E,N))}),i}var Z1=Ps(function(t,r,i){bi(t,r,i)}),Vp=Ps(function(t,r,i,v){bi(t,r,i,v)}),V1=en(function(t,r){var i={};if(t==null)return i;var v=!1;r=mt(r,function(N){return N=En(N,t),v||(v=N.length>1),N}),Wr(t,$c(t),i),v&&(i=jr(i,d|g|w,qx));for(var E=r.length;E--;)Sc(i,r[E]);return i});function Q1(t,r){return Qp(t,Ci(Oe(r)))}var J1=en(function(t,r){return t==null?{}:Ex(t,r)});function Qp(t,r){if(t==null)return{};var i=mt($c(t),function(v){return[v]});return r=Oe(r),Bd(t,i,function(v,E){return r(v,E[0])})}function ey(t,r,i){r=En(r,t);var v=-1,E=r.length;for(E||(E=1,t=s);++v<E;){var N=t==null?s:t[qr(r[v])];N===s&&(v=E,N=i),t=rn(N)?N.call(t):N}return t}function ty(t,r,i){return t==null?t:La(t,r,i)}function ry(t,r,i,v){return v=typeof v=="function"?v:s,t==null?t:La(t,r,i,v)}var Jp=fp(Ut),eh=fp(ur);function ny(t,r,i){var v=He(t),E=v||Sn(t)||zs(t);if(r=Oe(r,4),i==null){var N=t&&t.constructor;E?i=v?new N:[]:Mt(t)?i=rn(N)?br(Cs(t)):{}:i={}}return(E?er:Br)(t,function(L,U,K){return r(i,L,U,K)}),i}function sy(t,r){return t==null?!0:Sc(t,r)}function ay(t,r,i){return t==null?t:Xd(t,r,Ic(i))}function oy(t,r,i,v){return v=typeof v=="function"?v:s,t==null?t:Xd(t,r,Ic(i),v)}function Us(t){return t==null?[]:Na(t,Ut(t))}function iy(t){return t==null?[]:Na(t,ur(t))}function ly(t,r,i){return i===s&&(i=r,r=s),i!==s&&(i=Sr(i),i=i===i?i:0),r!==s&&(r=Sr(r),r=r===r?r:0),Yn(Sr(t),r,i)}function cy(t,r,i){return r=nn(r),i===s?(i=r,r=0):i=nn(i),t=Sr(t),mx(t,r,i)}function uy(t,r,i){if(i&&typeof i!="boolean"&&nr(t,r,i)&&(r=i=s),i===s&&(typeof r=="boolean"?(i=r,r=s):typeof t=="boolean"&&(i=t,t=s)),t===s&&r===s?(t=0,r=1):(t=nn(t),r===s?(r=t,t=0):r=nn(r)),t>r){var v=t;t=r,r=v}if(i||t%1||r%1){var E=pi();return zt(t+E*(r-t+$l("1e-"+((E+"").length-1))),r)}return jc(t,r)}var fy=Ls(function(t,r,i){return r=r.toLowerCase(),t+(i?th(r):r)});function th(t){return Qc(ct(t).toLowerCase())}function rh(t){return t=ct(t),t&&t.replace(yl,Yl).replace(gr,"")}function dy(t,r,i){t=ct(t),r=xr(r);var v=t.length;i=i===s?v:Yn(We(i),0,v);var E=i;return i-=r.length,i>=0&&t.slice(i,E)==r}function py(t){return t=ct(t),t&&sa.test(t)?t.replace(ds,Gl):t}function hy(t){return t=ct(t),t&&po.test(t)?t.replace(ps,"\\$&"):t}var my=Ls(function(t,r,i){return t+(i?"-":"")+r.toLowerCase()}),gy=Ls(function(t,r,i){return t+(i?" ":"")+r.toLowerCase()}),by=ap("toLowerCase");function xy(t,r,i){t=ct(t),r=We(r);var v=r?yn(t):0;if(!r||v>=r)return t;var E=(r-v)/2;return ki($s(E),i)+t+ki(Os(E),i)}function vy(t,r,i){t=ct(t),r=We(r);var v=r?yn(t):0;return r&&v<r?t+ki(r-v,i):t}function wy(t,r,i){t=ct(t),r=We(r);var v=r?yn(t):0;return r&&v<r?ki(r-v,i)+t:t}function yy(t,r,i){return i||r==null?r=0:r&&(r=+r),hc(ct(t).replace(ca,""),r||0)}function _y(t,r,i){return(i?nr(t,r,i):r===s)?r=1:r=We(r),Ec(ct(t),r)}function ky(){var t=arguments,r=ct(t[0]);return t.length<3?r:r.replace(t[1],t[2])}var My=Ls(function(t,r,i){return t+(i?"_":"")+r.toLowerCase()});function jy(t,r,i){return i&&typeof i!="number"&&nr(t,r,i)&&(r=i=s),i=i===s?he:i>>>0,i?(t=ct(t),t&&(typeof r=="string"||r!=null&&!Kc(r))&&(r=xr(r),!r&&wn(t))?Tn(or(t),0,i):t.split(r,i)):[]}var Ey=Ls(function(t,r,i){return t+(i?" ":"")+Qc(r)});function Ty(t,r,i){return t=ct(t),i=i==null?0:Yn(We(i),0,t.length),r=xr(r),t.slice(i,i+r.length)==r}function Sy(t,r,i){var v=S.templateSettings;i&&nr(t,r,i)&&(r=s),t=ct(t),r=Oi({},r,v,dp);var E=Oi({},r.imports,v.imports,dp),N=Ut(E),L=Na(E,N),U,K,ce=0,ue=r.interpolate||gs,de="__p += '",ve=Ia((r.escape||gs).source+"|"+ue.source+"|"+(ue===ia?pe:gs).source+"|"+(r.evaluate||gs).source+"|$","g"),Se="//# sourceURL="+(at.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++$o+"]")+`
`;t.replace(ve,function(Pe,Ze,Ve,wr,sr,yr){return Ve||(Ve=wr),de+=t.slice(ce,yr).replace(_l,Xl),Ze&&(U=!0,de+=`' +
__e(`+Ze+`) +
'`),sr&&(K=!0,de+=`';
`+sr+`;
__p += '`),Ve&&(de+=`' +
((__t = (`+Ve+`)) == null ? '' : __t) +
'`),ce=yr+Pe.length,Pe}),de+=`';
`;var $e=at.call(r,"variable")&&r.variable;if(!$e)de=`with (obj) {
`+de+`
}
`;else if(ua.test($e))throw new Le(m);de=(K?de.replace(hl,""):de).replace(ra,"$1").replace(mr,"$1;"),de="function("+($e||"obj")+`) {
`+($e?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(U?", __e = _.escape":"")+(K?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+de+`return __p
}`;var Ye=sh(function(){return Qe(N,Se+"return "+de).apply(s,L)});if(Ye.source=de,Xc(Ye))throw Ye;return Ye}function Ny(t){return ct(t).toLowerCase()}function Ay(t){return ct(t).toUpperCase()}function Iy(t,r,i){if(t=ct(t),t&&(i||r===s))return ei(t);if(!t||!(r=xr(r)))return t;var v=or(t),E=or(r),N=ti(v,E),L=ri(v,E)+1;return Tn(v,N,L).join("")}function Cy(t,r,i){if(t=ct(t),t&&(i||r===s))return t.slice(0,si(t)+1);if(!t||!(r=xr(r)))return t;var v=or(t),E=ri(v,or(r))+1;return Tn(v,0,E).join("")}function Dy(t,r,i){if(t=ct(t),t&&(i||r===s))return t.replace(ca,"");if(!t||!(r=xr(r)))return t;var v=or(t),E=ti(v,or(r));return Tn(v,E).join("")}function Ry(t,r){var i=G,v=W;if(Mt(r)){var E="separator"in r?r.separator:E;i="length"in r?We(r.length):i,v="omission"in r?xr(r.omission):v}t=ct(t);var N=t.length;if(wn(t)){var L=or(t);N=L.length}if(i>=N)return t;var U=i-yn(v);if(U<1)return v;var K=L?Tn(L,0,U).join(""):t.slice(0,U);if(E===s)return K+v;if(L&&(U+=K.length-U),Kc(E)){if(t.slice(U).search(E)){var ce,ue=K;for(E.global||(E=Ia(E.source,ct(ms.exec(E))+"g")),E.lastIndex=0;ce=E.exec(ue);)var de=ce.index;K=K.slice(0,de===s?U:de)}}else if(t.indexOf(xr(E),U)!=U){var ve=K.lastIndexOf(E);ve>-1&&(K=K.slice(0,ve))}return K+v}function Oy(t){return t=ct(t),t&&na.test(t)?t.replace(mn,ec):t}var $y=Ls(function(t,r,i){return t+(i?" ":"")+r.toUpperCase()}),Qc=ap("toUpperCase");function nh(t,r,i){return t=ct(t),r=i?s:r,r===s?Kl(t)?nc(t):Ul(t):t.match(r)||[]}var sh=Ge(function(t,r){try{return Jt(t,s,r)}catch(i){return Xc(i)?i:new Le(i)}}),Py=en(function(t,r){return er(r,function(i){i=qr(i),Qr(t,i,Yc(t[i],t))}),t});function Ly(t){var r=t==null?0:t.length,i=Oe();return t=r?mt(t,function(v){if(typeof v[1]!="function")throw new tr(y);return[i(v[0]),v[1]]}):[],Ge(function(v){for(var E=-1;++E<r;){var N=t[E];if(Jt(N[0],this,v))return Jt(N[1],this,v)}})}function Fy(t){return ux(jr(t,d))}function Jc(t){return function(){return t}}function zy(t,r){return t==null||t!==t?r:t}var Uy=ip(),Hy=ip(!0);function fr(t){return t}function eu(t){return Pd(typeof t=="function"?t:jr(t,d))}function By(t){return Fd(jr(t,d))}function Wy(t,r){return zd(t,jr(r,d))}var qy=Ge(function(t,r){return function(i){return $a(i,t,r)}}),Yy=Ge(function(t,r){return function(i){return $a(t,i,r)}});function tu(t,r,i){var v=Ut(r),E=gi(r,v);i==null&&!(Mt(r)&&(E.length||!v.length))&&(i=r,r=t,t=this,E=gi(r,Ut(r)));var N=!(Mt(i)&&"chain"in i)||!!i.chain,L=rn(t);return er(E,function(U){var K=r[U];t[U]=K,L&&(t.prototype[U]=function(){var ce=this.__chain__;if(N||ce){var ue=t(this.__wrapped__),de=ue.__actions__=lr(this.__actions__);return de.push({func:K,args:arguments,thisArg:t}),ue.__chain__=ce,ue}return K.apply(t,Cr([this.value()],arguments))})}),t}function Gy(){return Lt._===this&&(Lt._=ic),this}function ru(){}function Xy(t){return t=We(t),Ge(function(r){return Ud(r,t)})}var Ky=Dc(mt),Zy=Dc(ka),Vy=Dc(Ma);function ah(t){return zc(t)?ja(qr(t)):Tx(t)}function Qy(t){return function(r){return t==null?s:Gn(t,r)}}var Jy=cp(),e_=cp(!0);function nu(){return[]}function su(){return!1}function t_(){return{}}function r_(){return""}function n_(){return!0}function s_(t,r){if(t=We(t),t<1||t>xe)return[];var i=he,v=zt(t,he);r=Oe(r),t-=he;for(var E=Sa(v,r);++i<t;)r(i);return E}function a_(t){return He(t)?mt(t,qr):vr(t)?[t]:lr(jp(ct(t)))}function o_(t){var r=++oc;return ct(t)+r}var i_=_i(function(t,r){return t+r},0),l_=Rc("ceil"),c_=_i(function(t,r){return t/r},1),u_=Rc("floor");function f_(t){return t&&t.length?mi(t,fr,vc):s}function d_(t,r){return t&&t.length?mi(t,Oe(r,2),vc):s}function p_(t){return Qo(t,fr)}function h_(t,r){return Qo(t,Oe(r,2))}function m_(t){return t&&t.length?mi(t,fr,kc):s}function g_(t,r){return t&&t.length?mi(t,Oe(r,2),kc):s}var b_=_i(function(t,r){return t*r},1),x_=Rc("round"),v_=_i(function(t,r){return t-r},0);function w_(t){return t&&t.length?Ta(t,fr):0}function y_(t,r){return t&&t.length?Ta(t,Oe(r,2)):0}return S.after=Bw,S.ary=$p,S.assign=A1,S.assignIn=Zp,S.assignInWith=Oi,S.assignWith=I1,S.at=C1,S.before=Pp,S.bind=Yc,S.bindAll=Py,S.bindKey=Lp,S.castArray=t1,S.chain=Dp,S.chunk=uv,S.compact=fv,S.concat=dv,S.cond=Ly,S.conforms=Fy,S.constant=Jc,S.countBy=ww,S.create=D1,S.curry=Fp,S.curryRight=zp,S.debounce=Up,S.defaults=R1,S.defaultsDeep=O1,S.defer=Ww,S.delay=qw,S.difference=pv,S.differenceBy=hv,S.differenceWith=mv,S.drop=gv,S.dropRight=bv,S.dropRightWhile=xv,S.dropWhile=vv,S.fill=wv,S.filter=_w,S.flatMap=jw,S.flatMapDeep=Ew,S.flatMapDepth=Tw,S.flatten=Np,S.flattenDeep=yv,S.flattenDepth=_v,S.flip=Yw,S.flow=Uy,S.flowRight=Hy,S.fromPairs=kv,S.functions=H1,S.functionsIn=B1,S.groupBy=Sw,S.initial=jv,S.intersection=Ev,S.intersectionBy=Tv,S.intersectionWith=Sv,S.invert=q1,S.invertBy=Y1,S.invokeMap=Aw,S.iteratee=eu,S.keyBy=Iw,S.keys=Ut,S.keysIn=ur,S.map=Ni,S.mapKeys=X1,S.mapValues=K1,S.matches=By,S.matchesProperty=Wy,S.memoize=Ii,S.merge=Z1,S.mergeWith=Vp,S.method=qy,S.methodOf=Yy,S.mixin=tu,S.negate=Ci,S.nthArg=Xy,S.omit=V1,S.omitBy=Q1,S.once=Gw,S.orderBy=Cw,S.over=Ky,S.overArgs=Xw,S.overEvery=Zy,S.overSome=Vy,S.partial=Gc,S.partialRight=Hp,S.partition=Dw,S.pick=J1,S.pickBy=Qp,S.property=ah,S.propertyOf=Qy,S.pull=Cv,S.pullAll=Ip,S.pullAllBy=Dv,S.pullAllWith=Rv,S.pullAt=Ov,S.range=Jy,S.rangeRight=e_,S.rearg=Kw,S.reject=$w,S.remove=$v,S.rest=Zw,S.reverse=Wc,S.sampleSize=Lw,S.set=ty,S.setWith=ry,S.shuffle=Fw,S.slice=Pv,S.sortBy=Hw,S.sortedUniq=Wv,S.sortedUniqBy=qv,S.split=jy,S.spread=Vw,S.tail=Yv,S.take=Gv,S.takeRight=Xv,S.takeRightWhile=Kv,S.takeWhile=Zv,S.tap=fw,S.throttle=Qw,S.thru=Si,S.toArray=Gp,S.toPairs=Jp,S.toPairsIn=eh,S.toPath=a_,S.toPlainObject=Kp,S.transform=ny,S.unary=Jw,S.union=Vv,S.unionBy=Qv,S.unionWith=Jv,S.uniq=ew,S.uniqBy=tw,S.uniqWith=rw,S.unset=sy,S.unzip=qc,S.unzipWith=Cp,S.update=ay,S.updateWith=oy,S.values=Us,S.valuesIn=iy,S.without=nw,S.words=nh,S.wrap=e1,S.xor=sw,S.xorBy=aw,S.xorWith=ow,S.zip=iw,S.zipObject=lw,S.zipObjectDeep=cw,S.zipWith=uw,S.entries=Jp,S.entriesIn=eh,S.extend=Zp,S.extendWith=Oi,tu(S,S),S.add=i_,S.attempt=sh,S.camelCase=fy,S.capitalize=th,S.ceil=l_,S.clamp=ly,S.clone=r1,S.cloneDeep=s1,S.cloneDeepWith=a1,S.cloneWith=n1,S.conformsTo=o1,S.deburr=rh,S.defaultTo=zy,S.divide=c_,S.endsWith=dy,S.eq=Rr,S.escape=py,S.escapeRegExp=hy,S.every=yw,S.find=kw,S.findIndex=Tp,S.findKey=$1,S.findLast=Mw,S.findLastIndex=Sp,S.findLastKey=P1,S.floor=u_,S.forEach=Rp,S.forEachRight=Op,S.forIn=L1,S.forInRight=F1,S.forOwn=z1,S.forOwnRight=U1,S.get=Zc,S.gt=i1,S.gte=l1,S.has=W1,S.hasIn=Vc,S.head=Ap,S.identity=fr,S.includes=Nw,S.indexOf=Mv,S.inRange=cy,S.invoke=G1,S.isArguments=Zn,S.isArray=He,S.isArrayBuffer=c1,S.isArrayLike=cr,S.isArrayLikeObject=Dt,S.isBoolean=u1,S.isBuffer=Sn,S.isDate=f1,S.isElement=d1,S.isEmpty=p1,S.isEqual=h1,S.isEqualWith=m1,S.isError=Xc,S.isFinite=g1,S.isFunction=rn,S.isInteger=Bp,S.isLength=Di,S.isMap=Wp,S.isMatch=b1,S.isMatchWith=x1,S.isNaN=v1,S.isNative=w1,S.isNil=_1,S.isNull=y1,S.isNumber=qp,S.isObject=Mt,S.isObjectLike=Et,S.isPlainObject=Ha,S.isRegExp=Kc,S.isSafeInteger=k1,S.isSet=Yp,S.isString=Ri,S.isSymbol=vr,S.isTypedArray=zs,S.isUndefined=M1,S.isWeakMap=j1,S.isWeakSet=E1,S.join=Nv,S.kebabCase=my,S.last=Tr,S.lastIndexOf=Av,S.lowerCase=gy,S.lowerFirst=by,S.lt=T1,S.lte=S1,S.max=f_,S.maxBy=d_,S.mean=p_,S.meanBy=h_,S.min=m_,S.minBy=g_,S.stubArray=nu,S.stubFalse=su,S.stubObject=t_,S.stubString=r_,S.stubTrue=n_,S.multiply=b_,S.nth=Iv,S.noConflict=Gy,S.noop=ru,S.now=Ai,S.pad=xy,S.padEnd=vy,S.padStart=wy,S.parseInt=yy,S.random=uy,S.reduce=Rw,S.reduceRight=Ow,S.repeat=_y,S.replace=ky,S.result=ey,S.round=x_,S.runInContext=Y,S.sample=Pw,S.size=zw,S.snakeCase=My,S.some=Uw,S.sortedIndex=Lv,S.sortedIndexBy=Fv,S.sortedIndexOf=zv,S.sortedLastIndex=Uv,S.sortedLastIndexBy=Hv,S.sortedLastIndexOf=Bv,S.startCase=Ey,S.startsWith=Ty,S.subtract=v_,S.sum=w_,S.sumBy=y_,S.template=Sy,S.times=s_,S.toFinite=nn,S.toInteger=We,S.toLength=Xp,S.toLower=Ny,S.toNumber=Sr,S.toSafeInteger=N1,S.toString=ct,S.toUpper=Ay,S.trim=Iy,S.trimEnd=Cy,S.trimStart=Dy,S.truncate=Ry,S.unescape=Oy,S.uniqueId=o_,S.upperCase=$y,S.upperFirst=Qc,S.each=Rp,S.eachRight=Op,S.first=Ap,tu(S,(function(){var t={};return Br(S,function(r,i){at.call(S.prototype,i)||(t[i]=r)}),t})(),{chain:!1}),S.VERSION=o,er(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){S[t].placeholder=S}),er(["drop","take"],function(t,r){Ke.prototype[t]=function(i){i=i===s?1:Ct(We(i),0);var v=this.__filtered__&&!r?new Ke(this):this.clone();return v.__filtered__?v.__takeCount__=zt(i,v.__takeCount__):v.__views__.push({size:zt(i,he),type:t+(v.__dir__<0?"Right":"")}),v},Ke.prototype[t+"Right"]=function(i){return this.reverse()[t](i).reverse()}}),er(["filter","map","takeWhile"],function(t,r){var i=r+1,v=i==ee||i==Q;Ke.prototype[t]=function(E){var N=this.clone();return N.__iteratees__.push({iteratee:Oe(E,3),type:i}),N.__filtered__=N.__filtered__||v,N}}),er(["head","last"],function(t,r){var i="take"+(r?"Right":"");Ke.prototype[t]=function(){return this[i](1).value()[0]}}),er(["initial","tail"],function(t,r){var i="drop"+(r?"":"Right");Ke.prototype[t]=function(){return this.__filtered__?new Ke(this):this[i](1)}}),Ke.prototype.compact=function(){return this.filter(fr)},Ke.prototype.find=function(t){return this.filter(t).head()},Ke.prototype.findLast=function(t){return this.reverse().find(t)},Ke.prototype.invokeMap=Ge(function(t,r){return typeof t=="function"?new Ke(this):this.map(function(i){return $a(i,t,r)})}),Ke.prototype.reject=function(t){return this.filter(Ci(Oe(t)))},Ke.prototype.slice=function(t,r){t=We(t);var i=this;return i.__filtered__&&(t>0||r<0)?new Ke(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),r!==s&&(r=We(r),i=r<0?i.dropRight(-r):i.take(r-t)),i)},Ke.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Ke.prototype.toArray=function(){return this.take(he)},Br(Ke.prototype,function(t,r){var i=/^(?:filter|find|map|reject)|While$/.test(r),v=/^(?:head|last)$/.test(r),E=S[v?"take"+(r=="last"?"Right":""):r],N=v||/^find/.test(r);E&&(S.prototype[r]=function(){var L=this.__wrapped__,U=v?[1]:arguments,K=L instanceof Ke,ce=U[0],ue=K||He(L),de=function(Ze){var Ve=E.apply(S,Cr([Ze],U));return v&&ve?Ve[0]:Ve};ue&&i&&typeof ce=="function"&&ce.length!=1&&(K=ue=!1);var ve=this.__chain__,Se=!!this.__actions__.length,$e=N&&!ve,Ye=K&&!Se;if(!N&&ue){L=Ye?L:new Ke(this);var Pe=t.apply(L,U);return Pe.__actions__.push({func:Si,args:[de],thisArg:s}),new $t(Pe,ve)}return $e&&Ye?t.apply(this,U):(Pe=this.thru(de),$e?v?Pe.value()[0]:Pe.value():Pe)})}),er(["pop","push","shift","sort","splice","unshift"],function(t){var r=Es[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",v=/^(?:pop|shift)$/.test(t);S.prototype[t]=function(){var E=arguments;if(v&&!this.__chain__){var N=this.value();return r.apply(He(N)?N:[],E)}return this[i](function(L){return r.apply(He(L)?L:[],E)})}}),Br(Ke.prototype,function(t,r){var i=S[r];if(i){var v=i.name+"";at.call(me,v)||(me[v]=[]),me[v].push({name:r,func:i})}}),me[yi(s,T).name]=[{name:"wrapper",func:s}],Ke.prototype.clone=Da,Ke.prototype.reverse=Bn,Ke.prototype.value=Pb,S.prototype.at=dw,S.prototype.chain=pw,S.prototype.commit=hw,S.prototype.next=mw,S.prototype.plant=bw,S.prototype.reverse=xw,S.prototype.toJSON=S.prototype.valueOf=S.prototype.value=vw,S.prototype.first=S.prototype.head,Un&&(S.prototype[Un]=gw),S}),_n=ai();Qt?((Qt.exports=_n)._=_n,xn._=_n):Lt._=_n}).call(tE)})(Xa,Xa.exports)),Xa.exports}var Bi={exports:{}},yf,bg;function rE(){if(bg)return yf;bg=1;var e=1e3,n=e*60,s=n*60,o=s*24,c=o*7,h=o*365.25;yf=function(u,d){d=d||{};var g=typeof u;if(g==="string"&&u.length>0)return y(u);if(g==="number"&&isFinite(u))return d.long?l(u):m(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function y(u){if(u=String(u),!(u.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(d){var g=parseFloat(d[1]),w=(d[2]||"ms").toLowerCase();switch(w){case"years":case"year":case"yrs":case"yr":case"y":return g*h;case"weeks":case"week":case"w":return g*c;case"days":case"day":case"d":return g*o;case"hours":case"hour":case"hrs":case"hr":case"h":return g*s;case"minutes":case"minute":case"mins":case"min":case"m":return g*n;case"seconds":case"second":case"secs":case"sec":case"s":return g*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function m(u){var d=Math.abs(u);return d>=o?Math.round(u/o)+"d":d>=s?Math.round(u/s)+"h":d>=n?Math.round(u/n)+"m":d>=e?Math.round(u/e)+"s":u+"ms"}function l(u){var d=Math.abs(u);return d>=o?f(u,d,o,"day"):d>=s?f(u,d,s,"hour"):d>=n?f(u,d,n,"minute"):d>=e?f(u,d,e,"second"):u+" ms"}function f(u,d,g,w){var _=d>=g*1.5;return Math.round(u/g)+" "+w+(_?"s":"")}return yf}var _f,xg;function nE(){if(xg)return _f;xg=1;function e(n){o.debug=o,o.default=o,o.coerce=f,o.disable=m,o.enable=h,o.enabled=l,o.humanize=rE(),o.destroy=u,Object.keys(n).forEach(d=>{o[d]=n[d]}),o.names=[],o.skips=[],o.formatters={};function s(d){let g=0;for(let w=0;w<d.length;w++)g=(g<<5)-g+d.charCodeAt(w),g|=0;return o.colors[Math.abs(g)%o.colors.length]}o.selectColor=s;function o(d){let g,w=null,_,k;function M(...T){if(!M.enabled)return;const A=M,C=Number(new Date),R=C-(g||C);A.diff=R,A.prev=g,A.curr=C,g=C,T[0]=o.coerce(T[0]),typeof T[0]!="string"&&T.unshift("%O");let $=0;T[0]=T[0].replace(/%([a-zA-Z%])/g,(O,Z)=>{if(O==="%%")return"%";$++;const X=o.formatters[Z];if(typeof X=="function"){const G=T[$];O=X.call(A,G),T.splice($,1),$--}return O}),o.formatArgs.call(A,T),(A.log||o.log).apply(A,T)}return M.namespace=d,M.useColors=o.useColors(),M.color=o.selectColor(d),M.extend=c,M.destroy=o.destroy,Object.defineProperty(M,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(_!==o.namespaces&&(_=o.namespaces,k=o.enabled(d)),k),set:T=>{w=T}}),typeof o.init=="function"&&o.init(M),M}function c(d,g){const w=o(this.namespace+(typeof g>"u"?":":g)+d);return w.log=this.log,w}function h(d){o.save(d),o.namespaces=d,o.names=[],o.skips=[];const g=(typeof d=="string"?d:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const w of g)w[0]==="-"?o.skips.push(w.slice(1)):o.names.push(w)}function y(d,g){let w=0,_=0,k=-1,M=0;for(;w<d.length;)if(_<g.length&&(g[_]===d[w]||g[_]==="*"))g[_]==="*"?(k=_,M=w,_++):(w++,_++);else if(k!==-1)_=k+1,M++,w=M;else return!1;for(;_<g.length&&g[_]==="*";)_++;return _===g.length}function m(){const d=[...o.names,...o.skips.map(g=>"-"+g)].join(",");return o.enable(""),d}function l(d){for(const g of o.skips)if(y(d,g))return!1;for(const g of o.names)if(y(d,g))return!0;return!1}function f(d){return d instanceof Error?d.stack||d.message:d}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o.enable(o.load()),o}return _f=e,_f}var vg;function wg(){return vg||(vg=1,(function(e,n){n.formatArgs=o,n.save=c,n.load=h,n.useColors=s,n.storage=y(),n.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;l.splice(1,0,f,"color: inherit");let u=0,d=0;l[0].replace(/%[a-zA-Z%]/g,g=>{g!=="%%"&&(u++,g==="%c"&&(d=u))}),l.splice(d,0,f)}n.log=console.debug||console.log||(()=>{});function c(l){try{l?n.storage.setItem("debug",l):n.storage.removeItem("debug")}catch{}}function h(){let l;try{l=n.storage.getItem("debug")||n.storage.getItem("DEBUG")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=!1),l}function y(){try{return localStorage}catch{}}e.exports=nE()(n);const{formatters:m}=e.exports;m.j=function(l){try{return JSON.stringify(l)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(Bi,Bi.exports)),Bi.exports}var kf,yg;function sE(){if(yg)return kf;yg=1;const e=kd(),n=wg()("mongo-knex:converter"),s=wg()("mongo-knex:converter-extended"),o=["$and","$or"],c={$eq:"=",$ne:"!=",$gt:">",$gte:">=",$lt:"<",$lte:"<=",$in:"in",$nin:"not in",$regex:"like",$not:"not like"},h="*",y=_=>_.charAt(0)==="$",m=_=>y(_)&&e.includes(o,_),l=_=>y(_)&&e.includes(e.keys(c),_),f=_=>y(_)&&e.includes(["$ne","$nin"],_),u=_=>e.includes([c.$in,c.$nin],_),d=_=>JSON.stringify(_,function(k,M){return M instanceof RegExp?M.toString():M}),g=({source:_,ignoreCase:k})=>(_=_.replace(/\\([.*+?^${}()|[\]\\/])/g,"$1"),k&&(_=_.toLowerCase()),_=_.replace(new RegExp(e.escapeRegExp(h),"g"),h+h),_=_.replace(/%/g,h+"%"),_=_.replace(/_/g,h+"_"),_.startsWith("^")?_=_.substring(1)+"%":_.endsWith("$")?_="%"+_.substring(0,_.length-1):_="%"+_+"%",{source:_,ignoreCase:k});class w{constructor(k={},M={}){this.tableName=k.tableName,this.cte=M.cte,this.config={},Object.assign(this.config,{relations:{}},M)}processWhereType(k,M,T){return T===null?(k==="$or"?"orWhere":"where")+(M==="$ne"?"NotNull":"Null"):k==="$or"?"orWhere":"andWhere"}processStatement(k,M,T){const[A,C]=k.split(".");if(C){n(A,C);const R=A;let $=this.config.relations[R];return $?{table:A,column:C,operator:M,value:T,config:$,isRelation:!0}:($=e.find(this.config.relations,B=>B.joinTable===R),$?{joinTable:$.joinTable,table:$.tableName,column:C,operator:M,value:T,config:$,isRelation:!0}:{column:k,operator:M,value:T,isRelation:!1})}return{column:this.cte&&this.cte===!0?`${k}`:`${this.tableName}.${k}`,operator:M,value:T,isRelation:!1}}groupRelationStatements(k,M){const T={},A=M==="$and"?k.filter(C=>!C.joinTable):k;if(e.each(A,(C,R)=>{let $=f(C.operator);!$&&T[C.table]&&($=e.find(T[C.table].innerWhereStatements,O=>{if(O.column===C.column)return!0}));let B=C.table;if($&&(B=`${C.table}_${R})}`,T[B]))throw new Error("Key collision detected");T[B]||(T[B]={},T[B].innerWhereStatements=[]),T[B].innerWhereStatements.push(C)}),M==="$and"){const C=k.filter(R=>R.joinTable);e.each(Object.keys(T),R=>{T[R].joinFilterStatements=C})}return T}buildRelationQuery(k,M,T){n("(buildRelationQuery)"),s.enabled&&s(`(buildRelationQuery) ${d(M)}`);const A=this.groupRelationStatements(M,T);s.enabled&&s(`(buildRelationQuery) grouped: ${d(A)}`),e.each(Object.keys(A),C=>{n(`(buildRelationQuery) build relation for ${C}`);const R=A[C].innerWhereStatements,$=R[0];if($.config.type==="manyToMany")if(e.every(R.map(B=>B.operator),l)){const B=e.every(R.map(X=>X.operator),X=>f(X)),O=B?c.$nin:c.$in,Z=["whereNull","whereNotNull"].includes($.whereType)?"andWhere":["orWhereNull","orWhereNotNull"].includes($.whereType)?"orWhere":$.whereType;k[Z](`${this.tableName}.id`,O,function(){const X=A[C].joinFilterStatements;let G=$.config.tableName,W=`${$.config.tableName}.${$.config.joinToForeign||"id"}`;$.config.tableNameAs&&(G=`${$.config.tableName} as ${$.config.tableNameAs}`,W=`${$.config.tableNameAs}.${$.config.joinToForeign||"id"}`);const q=$.config.joinType||"innerJoin",se=this.select(`${$.config.joinTable}.${$.config.joinFrom}`).from(`${$.config.joinTable}`)[q](G,function(){this.on(W,"=",`${$.config.joinTable}.${$.config.joinTo}`),e.each(X,ee=>{this.andOn(`${ee.joinTable}.${ee.column}`,c[ee.operator],ee.value)})});return s.enabled&&n(`(buildRelationQuery) innerQB sql-pre: ${se.toSQL().sql}`),e.each(R,(ee,re)=>{n(`(buildRelationQuery) build relation where statements for ${re}`);const Q=`${ee.joinTable||ee.table}.${ee.column}`;let ne;B?ne=c.$in:f(ee.operator)?ne=c.$nin:ne=c[ee.operator];let xe=ee.value;u(ne)&&(xe=e.isArray(ee.value)?ee.value:[ee.value]),se[ee.whereType](Q,ne,xe)}),s.enabled&&n(`(buildRelationQuery) innerQB sql-post: ${se.toSQL().sql}`),se})}else n(`one of ${C} group statements contains unknown operator`);else if($.config.type==="oneToOne")if(e.every(R.map(B=>B.operator),l)){const B=e.every(R.map(G=>G.operator),G=>f(G)),O=B?c.$nin:c.$in,Z=this.tableName,X=$.whereType==="orWhere"?"orWhere":"where";k[X](`${this.tableName}.id`,O,function(){const G=A[C].joinFilterStatements;let W=$.config.tableName,q=`${$.config.tableName}.${$.config.joinFrom}`;$.config.tableNameAs&&(W=`${$.config.tableName} as ${$.config.tableNameAs}`,q=`${$.config.tableNameAs}.${$.config.joinFrom}`);const se=this.select(`${Z}.id`).from(`${Z}`).leftJoin(W,function(){this.on(q,"=",`${Z}.id`),e.each(G,ee=>{this.andOn(`${ee.joinTable}.${ee.column}`,c[ee.operator],ee.value)})});return e.each(R,(ee,re)=>{n(`(buildRelationQuery) build relation where statements for ${re}`);const Q=`${ee.table}.${ee.column}`;let ne;B?(ne=c.$in,ee.value===null&&(ee.whereType=ee.whereType==="whereNotNull"?"whereNull":"whereNotNull")):f(ee.operator)?ne=c.$nin:ne=c[ee.operator];let xe=ee.value;u(ne)&&(xe=e.isArray(ee.value)?ee.value:[ee.value]),se[ee.whereType](Q,ne,xe)}),s.enabled&&n(`(buildRelationQuery) innerQB sql-pre: ${se.toSQL().sql}`),se})}else n(`one of ${C} group statements contains unknown operator`)})}buildComparison(k,M,T,A,C,R){const $=c[A]||"=",B=this.processStatement(T,A,C);let O=this.processWhereType(M,A,C);if(n(`(buildComparison) mode: ${M}, op: ${A}, isRelation: ${B.isRelation}, group: ${R}`),B.isRelation){if(B.whereType=O,!R){this.buildRelationQuery(k,[B],M);return}Object.prototype.hasOwnProperty.call(k,"relations")||(k.relations=[]),k.relations.push(B);return}const Z=B.column;if(A=B.operator,C=B.value,A==="$regex"||A==="$not"){const{source:X,ignoreCase:G}=g(C);if(C=X,G){O+="Raw",n(`(buildComparison) whereType: ${O}, statement: ${T}, op: ${A}, comp: ${$}, value: ${C} (REGEX/i)`),k[O](`lower(??) ${$} ? ESCAPE ?`,[Z,C,h]);return}O+="Raw",n(`(buildComparison) whereType: ${O}, statement: ${T}, op: ${A}, comp: ${$}, value: ${C} (REGEX)`),k[O](`?? ${$} ? ESCAPE ?`,[Z,C,h]);return}n(`(buildComparison) whereType: ${O}, statement: ${T}, op: ${A}, comp: ${$}, value: ${C}`),k[O](Z,$,C)}buildWhereClause(k,M,T,A,C){if(n(`(buildWhereClause) mode: ${M}, statement: ${T}`),s.enabled&&s(`(buildWhereClause) ${d(A)}`),!e.isObject(A))return this.buildComparison(k,M,T,"$eq",A,C);e.forIn(A,(R,$)=>{l($)?this.buildComparison(k,M,T,$,R,C):n("unknown operator")})}buildWhereGroup(k,M,T,A){const C=this.processWhereType(M);n(`(buildWhereGroup) mode: ${T}, whereType: ${C}`),s.enabled&&s(`(buildWhereGroup) ${d(A)}`),k[C](R=>{e.isArray(A)?A.forEach($=>this.buildQuery(R,T,$,!0)):e.isObject(A)&&this.buildQuery(R,T,A,!0),Object.prototype.hasOwnProperty.call(R,"relations")&&(this.buildRelationQuery(R,R.relations,T),delete R.relations)})}buildQuery(k,M,T,A){n(`(buildQuery) mode: ${M}`),s.enabled&&s(`(buildQuery) ${d(T)}`),e.forIn(T,(C,R)=>{n(`(buildQuery) key: ${R}`),m(R)?this.buildWhereGroup(k,M,R,C):this.buildWhereClause(k,M,R,C,A)})}processJSON(k,M){n("(processJSON)"),s.enabled&&s(`(processJSON) ${d(M)}`),this.buildQuery(k,"$and",M)}}return kf=function(k,M,T){return new w({tableName:k._single.table},T).processJSON(k,M),k},kf}var Mf,_g;function aE(){return _g||(_g=1,Mf=sE()),Mf}var jf,kg;function oE(){if(kg)return jf;kg=1;const e=kd(),n=["$and","$or"],s=(M,T)=>Array.isArray(M)?M.map(A=>s(A,T)).filter(A=>!e.isEmpty(A)):e.reduce(M,(A,C,R)=>{let $;if(n.includes(R)){const B=s(C,T);$=e.isEmpty(B)?null:{[R]:B}}else R==="yg"?$={[R]:s(C,T)}:$=T(C,R);return e.assign({},A,$)},{}),o=(M,T)=>e.isEmpty(M)?T:e.isEmpty(T)?M:{$and:[M,T]},c=(M,T)=>e.some(M,(A,C,R)=>C==="$and"?c(R.$and,T):C==="$or"?c(R.$or,T):C!==T&&e.isObject(A)?c(A,T):C===T),h=(M,T)=>M&&s(M,function(A,C){if(!T(C))return{[C]:A}}),y=(...M)=>{let T={};return M.filter(A=>!!A).forEach(A=>{A&&Object.keys(A).length>0&&(A=h(A,C=>c(T,C)),A&&(T=Object.keys(T).length>0?o(T,A):A))}),T},m=(M,T)=>{const A=(C,R)=>R.$and?{$and:[C,...R.$and]}:{$and:[C,R]};return s(M,function(C,R){const $=e.find(T,{key:R});if(!$)return{[R]:C};let B={[$.replacement]:C};return $.expansion?A(B,$.expansion):B})};function l(M,T){const A=T.find(({from:C})=>C===M);return A?A.to:M}function f(M,T){return Array.isArray(M)?M.map(T):T(M)}function u(M){return function(A){return s(A,function(C,R){return R!==M.key.from?{[R]:C}:typeof C!="object"?{[M.key.to]:l(C,M.values)}:{[M.key.to]:e.reduce(C,($,B,O)=>Object.assign($,{[O]:f(B,Z=>l(Z,M.values))}),{})}})}}const d=(M,T)=>s(M,function(A,C){return Object.keys(T).includes(C)?T[C]??{}:{[C]:A}});function g(...M){return function(T){for(const A of M)T=A(T);return T}}function w(M){if(!M)return[];const T=[];if(M.$and)for(const A of M.$and)for(const C of w(A))T.includes(C)||T.push(C);else if(M.$or)for(const A of M.$or)for(const C of w(A))T.includes(C)||T.push(C);else M.yg?T.push(...w(M.yg)):T.push(...Object.keys(M));return T}function _(M,T){let A,C;if(typeof M!="object")return[A,C];if(M.$and){for(const R of M.$and){const $=w(R);let B=!1;for(const O of $)if(T.includes(O))B=!0;else if(B)throw new Error(`This filter is not supported because you cannot combine ${T.join(", ")} filters with other filters except at the root level in an AND.`);B?A?A.$and.push(R):A={$and:[R]}:C?C.$and.push(R):C={$and:[R]}}A&&A.$and.length===1&&(A=A.$and[0]),C&&C.$and.length===1&&(C=C.$and[0])}else if(M.$or){let R=!1;for(const $ of M.$or){const B=w($);for(const O of B)if(T.includes(O)){R=!0;continue}else if(R)throw new Error(`This filter is not supported because you cannot combine ${T.join(", ")} filters with other filters in an OR.`)}R?A=M:C=M}else{if(M.yg)return this.splitFilter(M.yg,T);{const R=Object.keys(M);for(const $ of R)T.includes($)?A?A[$]=M[$]:A={[$]:M[$]}:C?C[$]=M[$]:C={[$]:M[$]}}}return[A,C]}function k(M){const T=[];for(const A of Object.keys(M))M[A]&&T.push({key:{from:A,to:M[A]},values:[]});return T.map(A=>u(A))}return jf={mapKeyValues:u,combineFilters:o,findStatement:c,rejectStatements:h,mergeFilters:y,expandFilters:m,mapQuery:s,replaceFilters:d,chainTransformers:g,getUsedKeys:w,splitFilter:_,mapKeys:k},jf}var Ef,Mg;function Yf(){return Mg||(Mg=1,Ef=oE()),Ef}var Tf,jg;function iE(){if(jg)return Tf;jg=1;const e=Yf(),n=Cb(),s=kd(),o=y=>!y||Object.keys(y).length===0?y:y.map(m=>{const l=Object.assign({},m);return l.expansion&&(l.expansion=n.parse(m.expansion)),l}),c=(y,m)=>{const l=o(m);return e.expandFilters(y,l)},h=y=>{if(!y.$and||!e.findStatement(y,"$ne"))return y;const m=y.$and,l=m.filter(d=>e.findStatement(d,"$ne")),f=s.groupBy(l,d=>Object.keys(d)[0]);Object.keys(f).filter(d=>f[d].length>1).forEach(d=>{const g=f[d].map(w=>w[d].$ne).filter(w=>w!==void 0);g.length!==0&&(y[d]={$nin:g},f[d].forEach(w=>{const _=m.indexOf(w);_>-1&&m.splice(_,1)}))}),m.length===0&&delete y.$and;for(const d in y)d==="$and"&&(y[d]=y[d].map(h));return y};return Tf={mergeFilters:e.mergeFilters,parseExpansions:o,expandFilters:c,combineNeFilters:h},Tf}var Eg;function lE(){if(Eg)return Fi.exports;Eg=1;const e=a5(),n=Cb(),s=aE(),o=iE();return Fi.exports=(c,h={})=>{const y={};return y.lex=()=>n.lex(c),y.parse=function(){!this.filter&&c&&(this.filter=n.parse(c),h.transformer&&(this.filter=h.transformer(this.filter)));let m,l;h.overrides&&(m=n.parse(h.overrides)),h.defaults&&(l=n.parse(h.defaults));let f=o.mergeFilters(m,this.filter,l);return f=o.combineNeFilters(f),h.expansions&&(f=o.expandFilters(f,h.expansions)),f},y.queryJSON=function(m){return this.query=this.query||new e.Query(y.parse()),this.query.test(m)},y.querySQL=m=>s(m,y.parse(),h),y.toString=()=>c,y.toJSON=y.parse,y},Fi.exports.utils={mapQuery:Yf().mapQuery,mapKeyValues:Yf().mapKeyValues},Fi.exports}var Sf,Tg;function cE(){return Tg||(Tg=1,Sf=lE()),Sf}var uE=cE();const fE=Gg(uE);function Db(e,n){return e.visibility?fE(e.visibility).queryJSON(n):!0}function dE({description:e,accentColor:n,icon:s,logo:o,coverImage:c,themeSettings:h,bodyFont:y,headingFont:m}){if(!h)return;const l=h.reduce((d,{key:g,value:w})=>({...d,[g]:w}),{}),f=new URLSearchParams;f.append("c",n),f.append("d",e),f.append("icon",s),f.append("logo",o),f.append("cover",c),f.append("bf",y),f.append("hf",m);const u={};return h.forEach(d=>{u[d.key]=Db(d,l)?d.value:s2}),f.append("custom",JSON.stringify(u)),f.toString()}const pE=({settings:e,url:n})=>{const s=dE({...e}),o=D.useCallback(c=>{!n||!s||fetch(n,{method:"POST",headers:{"Content-Type":"text/html;charset=utf-8","x-ghost-preview":s,Accept:"text/plain"},mode:"cors",credentials:"include"}).then(h=>h.text()).then(h=>{const y="html { pointer-events: none; }",l=new DOMParser().parseFromString(h,"text/html"),f=l.querySelector("style"),u=f?.innerHTML;u?f.innerHTML=`${u}

${y}`:l.head.innerHTML+=`<style>${y}</style>`;let g=(l.doctype?new XMLSerializer().serializeToString(l.doctype):"")+l.documentElement.outerHTML;c.contentDocument?.open(),c.contentDocument?.write(g),c.contentDocument?.close()})},[s,n]);return a.jsx(md,{addDelay:!1,className:"absolute size-[110%] origin-top-left scale-[.90909] bg-white max-[1600px]:size-[130%] max-[1600px]:scale-[.76923]",generateContent:o,height:"100%",parentClassName:"relative h-full w-full",testId:"theme-preview",width:"100%"})},hE=({setting:e,setSetting:n})=>{const[s,o]=D.useState({});D.useEffect(()=>{const f=e.value===null?"":String(e.value);o(u=>({...u,[e.key]:f}))},[e]);const c=f=>{s[f]!==void 0&&n(s[f])},h=(f,u)=>{o(d=>({...d,[f]:u}))},{mutateAsync:y}=Zs(),m=it(),l=async f=>{try{const u=on(await y({file:f}));n(u)}catch(u){m(u)}};switch(e.type){case"text":return a.jsx(Ae,{hint:e.description,title:Ba(e.key),value:s[e.key]||"",onBlur:()=>c(e.key),onChange:f=>h(e.key,f.target.value)});case"boolean":return a.jsx(ot,{checked:e.value,direction:"rtl",hint:e.description,label:Ba(e.key),onChange:f=>n(f.target.checked)});case"select":return a.jsx(Pt,{hint:e.description,options:e.options.map(f=>({label:f,value:f})),selectedOption:{label:e.value,value:e.value},testId:`setting-select-${e.key}`,title:Ba(e.key),onSelect:f=>n(f?.value||null)});case"color":return a.jsx(Yr,{debounceMs:200,direction:"rtl",hint:e.description,title:Ba(e.key),value:e.value||"",onChange:f=>n(f)});case"image":return a.jsxs(a.Fragment,{children:[a.jsx(xt,{useLabelTag:!0,children:Ba(e.key)}),a.jsx(un,{height:e.value?"100px":"32px",id:`custom-${e.key}`,imageURL:e.value||"",onDelete:()=>n(null),onUpload:f=>l(f),children:"Upload image"}),e.description&&a.jsx(Gr,{children:e.description})]})}},mE={source:["title_font","body_font"],casper:["title_font","body_font"],alto:["title_font","body_font"],bulletin:["title_font","body_font"],dawn:["title_font","body_font"],digest:["title_font","body_font"],dope:["title_font","body_font"],ease:["title_font","body_font"],edge:["title_font","body_font"],edition:["title_font","body_font"],episode:["typography"],headline:["title_font","body_font"],journal:["title_font","body_font"],london:["title_font","body_font"],ruby:["title_font","body_font"],solo:["typography"],taste:["style"],wave:["title_font","body_font"]},gE=({sections:e,updateSetting:n})=>{const{data:s}=ed(),o=s?.themes.find(m=>m.active),c=o?.package.name?.toLowerCase()||"",h=o?.package.author?.name||"",{supportsCustomFonts:y}=gd();return a.jsx(a.Fragment,{children:e.map(m=>{const l=m.settings.filter(u=>Db(u,m.settings.reduce((d,{key:g,value:w})=>({...d,[g]:w}),{})));let f;return a.jsx(rt,{className:"first-of-type:mt-6",gap:"xs",margins:"lg",title:m.title,children:l.map(u=>{let d="";u.type==="boolean"&&f!=="boolean"&&f!==void 0&&(d="mt-3"),(u.type==="text"||u.type==="select")&&(f==="text"||f==="select")&&(d="mt-2");const g=mE[c];return g&&g.includes(u.key)&&h==="Ghost Foundation"&&y&&(d+=" hidden"),f=u.type,a.jsx("div",{className:d,children:a.jsx(hE,{setSetting:w=>n({...u,value:w}),setting:u},u.key)},u.key)})},m.id)})})},bE=({globalSettings:e,themeSettingSections:n,updateGlobalSetting:s,updateThemeSetting:o,onTabChange:c})=>{const[h,y]=D.useState("global"),m=[{id:"global",title:"Brand",contents:a.jsx(im,{updateSetting:s,values:e})}];n.length>0&&m.push({id:"theme-settings",title:"Theme",contents:a.jsx(gE,{sections:n,updateSetting:o})});const l=f=>{y(f),c(f)};return a.jsx("div",{className:"flex h-full flex-col justify-between",children:a.jsx("div",{className:"grow p-7 pt-0","data-testid":"design-setting-tabs",children:m.length>1?a.jsx(Rn,{selectedTab:h,stickyHeader:!0,tabs:m,onTabChange:l}):a.jsx(im,{updateSetting:s,values:e})})})},xE=()=>{const{settings:e,siteData:n}=et(),{mutateAsync:s}=as(),{data:{posts:[o]}={posts:[]}}=Vg({searchParams:{filter:"status:published",order:"published_at DESC",limit:"1",fields:"id,url"}}),{data:c}=a2(),{mutateAsync:h}=o2(),y=it(),[m,l]=D.useState("homepage"),{updateRoute:f}=Je(),u=r0().getParam("ref"),{formState:d,saveState:g,handleSave:w,updateForm:_,setFormState:k,okProps:M}=kr({initialState:{settings:e,themeSettings:c?c.custom_theme_settings:void 0},savingDelay:500,onSave:async()=>{if(d.themeSettings?.some(xe=>xe.dirty)){const xe=await h(d.themeSettings);k(je=>({...je,themeSettings:xe.custom_theme_settings}))}if(d.settings.some(xe=>xe.dirty)){const{settings:xe}=await s(d.settings.filter(je=>je.dirty));k(je=>({...je,settings:xe}))}},onSaveError:y});D.useEffect(()=>{c&&k(xe=>({...xe,themeSettings:c.custom_theme_settings}))},[k,c]);const T=(xe,je)=>{_(H=>({...H,settings:H.settings.map(he=>he.key===xe?{...he,value:je,dirty:!0}:he)}))},A=xe=>{_(je=>({...je,themeSettings:je.themeSettings?.map(H=>H.key===xe.key?{...xe,dirty:!0}:H)}))},[C,R,$,B,O,Z,X]=bt(d.settings,["description","accent_color","icon","logo","cover_image","heading_font","body_font"]),G=(d.themeSettings||[]).reduce((xe,je)=>{const H=je.group==="homepage"||je.group==="post"?je.group:"site-wide";return{...xe,[H]:(xe[H]||[]).concat(je)}},{}),W=Object.entries(G).map(([xe,je])=>({id:xe,settings:je||[],title:xe==="site-wide"?"Site wide":xe==="homepage"?"Homepage":"Post"}));let q=[];o&&(q=[{id:"homepage",title:"Homepage"},{id:"post",title:"Post"}]);const se=xe=>{q.length&&l(xe)},ee=xe=>{l(xe==="post"&&o?"post":"homepage")};let re=cn(n);switch(m){case"homepage":re=cn(n);break;case"post":re=o.url;break}const Q=a.jsx(pE,{settings:{description:C,accentColor:R,icon:$,logo:B,coverImage:O,themeSettings:d.themeSettings,headingFont:Z,bodyFont:X},url:re}),ne=a.jsx(bE,{globalSettings:{description:C,accentColor:R,icon:$,logo:B,coverImage:O,headingFont:Z,bodyFont:X},handleSave:w,themeSettingSections:W,updateGlobalSetting:T,updateThemeSetting:A,onTabChange:ee});return a.jsx(Qs,{afterClose:()=>{f(u==="setup"?{isExternal:!0,route:"analytics"}:"design")},buttonsDisabled:M.disabled,cancelLabel:"Close",defaultTab:"homepage",dirty:g==="unsaved",okColor:M.color,okLabel:M.label||"Save",preview:Q,previewToolbarTabs:q,selectedURL:m,sidebar:ne,sidebarPadding:!1,siteLink:cn(n),size:"full",testId:"design-modal",title:"Design",onOk:async()=>{await w({fakeWhenUnchanged:!0})},onSelectURL:se})},vE=({pathName:e})=>{const n=Zt(),{updateRoute:s}=Je(),[o,c]=D.useState(null),[h,y]=D.useState(!1),[m,l]=D.useState(!1),{checkThemeLimitError:f,isThemeLimitCheckReady:u,noThemeChangesAllowed:d,isThemeLimited:g}=td(),[w,_]=D.useState(null),[k,M]=D.useState(!1);if(D.useEffect(()=>{e==="design/change-theme"&&u?(async()=>{if(!d){y(!1),c(null);return}y(!0);const A=await f();c(A),y(!1),A&&(ke.show(Xr,{prompt:A,onOk:()=>s({route:"/pro",isExternal:!0})}),n.remove())})():(c(null),y(!1))},[f,u,e,n,s,d]),D.useEffect(()=>{e!=="theme/install"&&(M(!1),_(null),l(!1))},[e]),D.useEffect(()=>{const T=()=>{const B=window.location.href.split("#")[1]?.split("?")[1];return B?new URLSearchParams(B).get("ref"):null},A=R=>{_(!1);const $={prompt:R,onOk:()=>s({route:"/pro",isExternal:!0})};d?(ke.show(Xr,$),window.history.replaceState({},"",window.location.pathname+window.location.hash.split("?")[0]),n.remove(),s("theme")):(ke.show(Xr,$),n.remove(),s("theme"))};(async()=>{if(e!=="theme/install"){l(!1);return}if(M(!0),!u){l(!0);return}if(!g){_(!0),l(!1);return}l(!0);const R=T();if(!R){_(!1),l(!1);return}const $=R.split("/")[1]?.toLowerCase(),B=await f($);if(e!=="theme/install"){l(!1);return}if(B){_(!1),l(!1),A(B);return}_(!0),l(!1)})()},[e,u,f,d,g,n,s]),e==="design/edit")return a.jsx(xE,{});if(e==="design/change-theme")return h||o?null:a.jsx(nm,{});if(e==="theme/install"){if(!k||!u||m||w===null||!w)return null;const C=window.location.href.split("#")[1]?.split("?")[1];let R=null,$=null;if(C){const B=new URLSearchParams(C);R=B.get("ref"),$=B.get("source")}return a.jsx(nm,{source:$,themeRef:R})}else n.remove()},wE=ke.create(vE),yE=({html:e,style:n})=>{const s=o=>{const c=o.contentDocument||o.contentWindow?.document;if(!c)return;const h=`
            <html>
                <head>
                    <style>body, html {padding: 0; margin: 0; overflow: hidden;}</style>
                    <style>${n}</style>
                </head>
                <body>${e}</body>
            </html>
        `;c.open(),c.write(h),c.close()};return a.jsx(md,{className:"absolute size-full overflow-hidden transition-opacity duration-500",generateContent:s,height:"100%",parentClassName:"relative h-full w-full",width:"100%"})},_E=({selectedLayout:e,accentColor:n,handleColorToggle:s,selectedColor:o,selectedLabels:c,handleLabelClick:h,embedScript:y,handleLayoutSelect:m,handleCopyClick:l,isCopied:f})=>{const{loadData:u}=n0({path:"/labels/",filterKey:"name",responseKey:"labels"}),d=async(g,w)=>{const _=await u(g);w(_.map(k=>({label:k.name,value:k.name})))};return a.jsxs("div",{className:"flex h-[calc(100vh-16vmin)] max-h-[645px] flex-col justify-between overflow-y-scroll border-l border-grey-200 p-6 pb-0 dark:border-grey-900",children:[a.jsxs("div",{children:[a.jsx(xt,{className:"mb-8",level:4,children:"Embed signup form"}),a.jsxs(rt,{gap:"sm",children:[a.jsxs("div",{className:"flex w-full items-center justify-between",children:[a.jsx("div",{children:"Layout"}),a.jsx(an,{activeKey:e,buttons:[{key:"all-in-one",label:"Branded",size:"md",className:"w-auto !px-3",onClick:()=>m("all-in-one")},{key:"minimal",label:"Minimal",size:"md",className:"w-auto !px-3",onClick:()=>m("minimal")}],clearBg:!1})]}),e==="all-in-one"&&a.jsx(Yr,{direction:"rtl",eyedropper:!0,swatches:[{hex:"#08090c",title:"Dark",value:"#08090c"},{hex:"#ffffff",title:"Light",value:"#ffffff"},{hex:n||"#d74780",title:"Accent",value:n||"#d74780"}],title:"Background color",value:o,onChange:g=>{g&&s(g)}}),a.jsx(i2,{hint:"Will be applied to all members signing up via this form",loadOptions:el(d,500),placeholder:"Pick one or more labels (optional)",title:"Labels at signup",values:c||[],async:!0,canCreate:!0,defaultOptions:!0,onChange:h}),a.jsx($n,{className:"text-grey-800",fontStyle:"mono",hint:"Paste this code onto any website where you'd like your signup to appear.",title:"Embed code",value:`${y}`,onChange:()=>{}})]})]}),a.jsx(l2,{height:74,children:a.jsx("div",{className:"flex w-full justify-end",children:a.jsx(ze,{color:f?"green":"black",label:f?"Copied!":"Copy code",onClick:l})})})]})};function Sg(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""}function Md(e,n){return n={exports:{}},e(n,n.exports),n.exports}var Ya={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},kE=function(n){return!n||typeof n=="string"?!1:n instanceof Array||Array.isArray(n)||n.length>=0&&(n.splice instanceof Function||Object.getOwnPropertyDescriptor(n,n.length-1)&&n.constructor.name!=="String")},Ga=Md(function(e){var n=Array.prototype.concat,s=Array.prototype.slice,o=e.exports=function(h){for(var y=[],m=0,l=h.length;m<l;m++){var f=h[m];kE(f)?y=n.call(y,s.call(f)):y.push(f)}return y};o.wrap=function(c){return function(){return c(o(arguments))}}}),Jn=Md(function(e){var n=Object.hasOwnProperty,s=Object.create(null);for(var o in Ya)n.call(Ya,o)&&(s[Ya[o]]=o);var c=e.exports={to:{},get:{}};c.get=function(m){var l=m.substring(0,3).toLowerCase(),f,u;switch(l){case"hsl":f=c.get.hsl(m),u="hsl";break;case"hwb":f=c.get.hwb(m),u="hwb";break;default:f=c.get.rgb(m),u="rgb";break}return f?{model:u,value:f}:null},c.get.rgb=function(m){if(!m)return null;var l=/^#([a-f0-9]{3,4})$/i,f=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,u=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,d=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,g=/^(\w+)$/,w=[0,0,0,1],_,k,M;if(_=m.match(f)){for(M=_[2],_=_[1],k=0;k<3;k++){var T=k*2;w[k]=parseInt(_.slice(T,T+2),16)}M&&(w[3]=parseInt(M,16)/255)}else if(_=m.match(l)){for(_=_[1],M=_[3],k=0;k<3;k++)w[k]=parseInt(_[k]+_[k],16);M&&(w[3]=parseInt(M+M,16)/255)}else if(_=m.match(u)){for(k=0;k<3;k++)w[k]=parseInt(_[k+1],0);_[4]&&(_[5]?w[3]=parseFloat(_[4])*.01:w[3]=parseFloat(_[4]))}else if(_=m.match(d)){for(k=0;k<3;k++)w[k]=Math.round(parseFloat(_[k+1])*2.55);_[4]&&(_[5]?w[3]=parseFloat(_[4])*.01:w[3]=parseFloat(_[4]))}else return(_=m.match(g))?_[1]==="transparent"?[0,0,0,0]:n.call(Ya,_[1])?(w=Ya[_[1]],w[3]=1,w):null:null;for(k=0;k<3;k++)w[k]=h(w[k],0,255);return w[3]=h(w[3],0,1),w},c.get.hsl=function(m){if(!m)return null;var l=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,f=m.match(l);if(f){var u=parseFloat(f[4]),d=(parseFloat(f[1])%360+360)%360,g=h(parseFloat(f[2]),0,100),w=h(parseFloat(f[3]),0,100),_=h(isNaN(u)?1:u,0,1);return[d,g,w,_]}return null},c.get.hwb=function(m){if(!m)return null;var l=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,f=m.match(l);if(f){var u=parseFloat(f[4]),d=(parseFloat(f[1])%360+360)%360,g=h(parseFloat(f[2]),0,100),w=h(parseFloat(f[3]),0,100),_=h(isNaN(u)?1:u,0,1);return[d,g,w,_]}return null},c.to.hex=function(){var m=Ga(arguments);return"#"+y(m[0])+y(m[1])+y(m[2])+(m[3]<1?y(Math.round(m[3]*255)):"")},c.to.rgb=function(){var m=Ga(arguments);return m.length<4||m[3]===1?"rgb("+Math.round(m[0])+", "+Math.round(m[1])+", "+Math.round(m[2])+")":"rgba("+Math.round(m[0])+", "+Math.round(m[1])+", "+Math.round(m[2])+", "+m[3]+")"},c.to.rgb.percent=function(){var m=Ga(arguments),l=Math.round(m[0]/255*100),f=Math.round(m[1]/255*100),u=Math.round(m[2]/255*100);return m.length<4||m[3]===1?"rgb("+l+"%, "+f+"%, "+u+"%)":"rgba("+l+"%, "+f+"%, "+u+"%, "+m[3]+")"},c.to.hsl=function(){var m=Ga(arguments);return m.length<4||m[3]===1?"hsl("+m[0]+", "+m[1]+"%, "+m[2]+"%)":"hsla("+m[0]+", "+m[1]+"%, "+m[2]+"%, "+m[3]+")"},c.to.hwb=function(){var m=Ga(arguments),l="";return m.length>=4&&m[3]!==1&&(l=", "+m[3]),"hwb("+m[0]+", "+m[1]+"%, "+m[2]+"%"+l+")"},c.to.keyword=function(m){return s[m.slice(0,3)]};function h(m,l,f){return Math.min(Math.max(l,m),f)}function y(m){var l=Math.round(m).toString(16).toUpperCase();return l.length<2?"0"+l:l}});Jn.to;Jn.get;var Vn={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},At=Md(function(e){var n={};for(var s in Vn)Vn.hasOwnProperty(s)&&(n[Vn[s]]=s);var o=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var c in o)if(o.hasOwnProperty(c)){if(!("channels"in o[c]))throw new Error("missing channels property: "+c);if(!("labels"in o[c]))throw new Error("missing channel labels property: "+c);if(o[c].labels.length!==o[c].channels)throw new Error("channel and label counts mismatch: "+c);var h=o[c].channels,y=o[c].labels;delete o[c].channels,delete o[c].labels,Object.defineProperty(o[c],"channels",{value:h}),Object.defineProperty(o[c],"labels",{value:y})}o.rgb.hsl=function(l){var f=l[0]/255,u=l[1]/255,d=l[2]/255,g=Math.min(f,u,d),w=Math.max(f,u,d),_=w-g,k,M,T;return w===g?k=0:f===w?k=(u-d)/_:u===w?k=2+(d-f)/_:d===w&&(k=4+(f-u)/_),k=Math.min(k*60,360),k<0&&(k+=360),T=(g+w)/2,w===g?M=0:T<=.5?M=_/(w+g):M=_/(2-w-g),[k,M*100,T*100]},o.rgb.hsv=function(l){var f,u,d,g,w,_=l[0]/255,k=l[1]/255,M=l[2]/255,T=Math.max(_,k,M),A=T-Math.min(_,k,M),C=function(R){return(T-R)/6/A+1/2};return A===0?g=w=0:(w=A/T,f=C(_),u=C(k),d=C(M),_===T?g=d-u:k===T?g=1/3+f-d:M===T&&(g=2/3+u-f),g<0?g+=1:g>1&&(g-=1)),[g*360,w*100,T*100]},o.rgb.hwb=function(l){var f=l[0],u=l[1],d=l[2],g=o.rgb.hsl(l)[0],w=1/255*Math.min(f,Math.min(u,d));return d=1-1/255*Math.max(f,Math.max(u,d)),[g,w*100,d*100]},o.rgb.cmyk=function(l){var f=l[0]/255,u=l[1]/255,d=l[2]/255,g,w,_,k;return k=Math.min(1-f,1-u,1-d),g=(1-f-k)/(1-k)||0,w=(1-u-k)/(1-k)||0,_=(1-d-k)/(1-k)||0,[g*100,w*100,_*100,k*100]};function m(l,f){return Math.pow(l[0]-f[0],2)+Math.pow(l[1]-f[1],2)+Math.pow(l[2]-f[2],2)}o.rgb.keyword=function(l){var f=n[l];if(f)return f;var u=1/0,d;for(var g in Vn)if(Vn.hasOwnProperty(g)){var w=Vn[g],_=m(l,w);_<u&&(u=_,d=g)}return d},o.keyword.rgb=function(l){return Vn[l]},o.rgb.xyz=function(l){var f=l[0]/255,u=l[1]/255,d=l[2]/255;f=f>.04045?Math.pow((f+.055)/1.055,2.4):f/12.92,u=u>.04045?Math.pow((u+.055)/1.055,2.4):u/12.92,d=d>.04045?Math.pow((d+.055)/1.055,2.4):d/12.92;var g=f*.4124+u*.3576+d*.1805,w=f*.2126+u*.7152+d*.0722,_=f*.0193+u*.1192+d*.9505;return[g*100,w*100,_*100]},o.rgb.lab=function(l){var f=o.rgb.xyz(l),u=f[0],d=f[1],g=f[2],w,_,k;return u/=95.047,d/=100,g/=108.883,u=u>.008856?Math.pow(u,1/3):7.787*u+16/116,d=d>.008856?Math.pow(d,1/3):7.787*d+16/116,g=g>.008856?Math.pow(g,1/3):7.787*g+16/116,w=116*d-16,_=500*(u-d),k=200*(d-g),[w,_,k]},o.hsl.rgb=function(l){var f=l[0]/360,u=l[1]/100,d=l[2]/100,g,w,_,k,M;if(u===0)return M=d*255,[M,M,M];d<.5?w=d*(1+u):w=d+u-d*u,g=2*d-w,k=[0,0,0];for(var T=0;T<3;T++)_=f+1/3*-(T-1),_<0&&_++,_>1&&_--,6*_<1?M=g+(w-g)*6*_:2*_<1?M=w:3*_<2?M=g+(w-g)*(2/3-_)*6:M=g,k[T]=M*255;return k},o.hsl.hsv=function(l){var f=l[0],u=l[1]/100,d=l[2]/100,g=u,w=Math.max(d,.01),_,k;return d*=2,u*=d<=1?d:2-d,g*=w<=1?w:2-w,k=(d+u)/2,_=d===0?2*g/(w+g):2*u/(d+u),[f,_*100,k*100]},o.hsv.rgb=function(l){var f=l[0]/60,u=l[1]/100,d=l[2]/100,g=Math.floor(f)%6,w=f-Math.floor(f),_=255*d*(1-u),k=255*d*(1-u*w),M=255*d*(1-u*(1-w));switch(d*=255,g){case 0:return[d,M,_];case 1:return[k,d,_];case 2:return[_,d,M];case 3:return[_,k,d];case 4:return[M,_,d];case 5:return[d,_,k]}},o.hsv.hsl=function(l){var f=l[0],u=l[1]/100,d=l[2]/100,g=Math.max(d,.01),w,_,k;return k=(2-u)*d,w=(2-u)*g,_=u*g,_/=w<=1?w:2-w,_=_||0,k/=2,[f,_*100,k*100]},o.hwb.rgb=function(l){var f=l[0]/360,u=l[1]/100,d=l[2]/100,g=u+d,w,_,k,M;g>1&&(u/=g,d/=g),w=Math.floor(6*f),_=1-d,k=6*f-w,(w&1)!==0&&(k=1-k),M=u+k*(_-u);var T,A,C;switch(w){default:case 6:case 0:T=_,A=M,C=u;break;case 1:T=M,A=_,C=u;break;case 2:T=u,A=_,C=M;break;case 3:T=u,A=M,C=_;break;case 4:T=M,A=u,C=_;break;case 5:T=_,A=u,C=M;break}return[T*255,A*255,C*255]},o.cmyk.rgb=function(l){var f=l[0]/100,u=l[1]/100,d=l[2]/100,g=l[3]/100,w,_,k;return w=1-Math.min(1,f*(1-g)+g),_=1-Math.min(1,u*(1-g)+g),k=1-Math.min(1,d*(1-g)+g),[w*255,_*255,k*255]},o.xyz.rgb=function(l){var f=l[0]/100,u=l[1]/100,d=l[2]/100,g,w,_;return g=f*3.2406+u*-1.5372+d*-.4986,w=f*-.9689+u*1.8758+d*.0415,_=f*.0557+u*-.204+d*1.057,g=g>.0031308?1.055*Math.pow(g,1/2.4)-.055:g*12.92,w=w>.0031308?1.055*Math.pow(w,1/2.4)-.055:w*12.92,_=_>.0031308?1.055*Math.pow(_,1/2.4)-.055:_*12.92,g=Math.min(Math.max(0,g),1),w=Math.min(Math.max(0,w),1),_=Math.min(Math.max(0,_),1),[g*255,w*255,_*255]},o.xyz.lab=function(l){var f=l[0],u=l[1],d=l[2],g,w,_;return f/=95.047,u/=100,d/=108.883,f=f>.008856?Math.pow(f,1/3):7.787*f+16/116,u=u>.008856?Math.pow(u,1/3):7.787*u+16/116,d=d>.008856?Math.pow(d,1/3):7.787*d+16/116,g=116*u-16,w=500*(f-u),_=200*(u-d),[g,w,_]},o.lab.xyz=function(l){var f=l[0],u=l[1],d=l[2],g,w,_;w=(f+16)/116,g=u/500+w,_=w-d/200;var k=Math.pow(w,3),M=Math.pow(g,3),T=Math.pow(_,3);return w=k>.008856?k:(w-16/116)/7.787,g=M>.008856?M:(g-16/116)/7.787,_=T>.008856?T:(_-16/116)/7.787,g*=95.047,w*=100,_*=108.883,[g,w,_]},o.lab.lch=function(l){var f=l[0],u=l[1],d=l[2],g,w,_;return g=Math.atan2(d,u),w=g*360/2/Math.PI,w<0&&(w+=360),_=Math.sqrt(u*u+d*d),[f,_,w]},o.lch.lab=function(l){var f=l[0],u=l[1],d=l[2],g,w,_;return _=d/360*2*Math.PI,g=u*Math.cos(_),w=u*Math.sin(_),[f,g,w]},o.rgb.ansi16=function(l){var f=l[0],u=l[1],d=l[2],g=1 in arguments?arguments[1]:o.rgb.hsv(l)[2];if(g=Math.round(g/50),g===0)return 30;var w=30+(Math.round(d/255)<<2|Math.round(u/255)<<1|Math.round(f/255));return g===2&&(w+=60),w},o.hsv.ansi16=function(l){return o.rgb.ansi16(o.hsv.rgb(l),l[2])},o.rgb.ansi256=function(l){var f=l[0],u=l[1],d=l[2];if(f===u&&u===d)return f<8?16:f>248?231:Math.round((f-8)/247*24)+232;var g=16+36*Math.round(f/255*5)+6*Math.round(u/255*5)+Math.round(d/255*5);return g},o.ansi16.rgb=function(l){var f=l%10;if(f===0||f===7)return l>50&&(f+=3.5),f=f/10.5*255,[f,f,f];var u=(~~(l>50)+1)*.5,d=(f&1)*u*255,g=(f>>1&1)*u*255,w=(f>>2&1)*u*255;return[d,g,w]},o.ansi256.rgb=function(l){if(l>=232){var f=(l-232)*10+8;return[f,f,f]}l-=16;var u,d=Math.floor(l/36)/5*255,g=Math.floor((u=l%36)/6)/5*255,w=u%6/5*255;return[d,g,w]},o.rgb.hex=function(l){var f=((Math.round(l[0])&255)<<16)+((Math.round(l[1])&255)<<8)+(Math.round(l[2])&255),u=f.toString(16).toUpperCase();return"000000".substring(u.length)+u},o.hex.rgb=function(l){var f=l.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!f)return[0,0,0];var u=f[0];f[0].length===3&&(u=u.split("").map(function(k){return k+k}).join(""));var d=parseInt(u,16),g=d>>16&255,w=d>>8&255,_=d&255;return[g,w,_]},o.rgb.hcg=function(l){var f=l[0]/255,u=l[1]/255,d=l[2]/255,g=Math.max(Math.max(f,u),d),w=Math.min(Math.min(f,u),d),_=g-w,k,M;return _<1?k=w/(1-_):k=0,_<=0?M=0:g===f?M=(u-d)/_%6:g===u?M=2+(d-f)/_:M=4+(f-u)/_+4,M/=6,M%=1,[M*360,_*100,k*100]},o.hsl.hcg=function(l){var f=l[1]/100,u=l[2]/100,d=1,g=0;return u<.5?d=2*f*u:d=2*f*(1-u),d<1&&(g=(u-.5*d)/(1-d)),[l[0],d*100,g*100]},o.hsv.hcg=function(l){var f=l[1]/100,u=l[2]/100,d=f*u,g=0;return d<1&&(g=(u-d)/(1-d)),[l[0],d*100,g*100]},o.hcg.rgb=function(l){var f=l[0]/360,u=l[1]/100,d=l[2]/100;if(u===0)return[d*255,d*255,d*255];var g=[0,0,0],w=f%1*6,_=w%1,k=1-_,M=0;switch(Math.floor(w)){case 0:g[0]=1,g[1]=_,g[2]=0;break;case 1:g[0]=k,g[1]=1,g[2]=0;break;case 2:g[0]=0,g[1]=1,g[2]=_;break;case 3:g[0]=0,g[1]=k,g[2]=1;break;case 4:g[0]=_,g[1]=0,g[2]=1;break;default:g[0]=1,g[1]=0,g[2]=k}return M=(1-u)*d,[(u*g[0]+M)*255,(u*g[1]+M)*255,(u*g[2]+M)*255]},o.hcg.hsv=function(l){var f=l[1]/100,u=l[2]/100,d=f+u*(1-f),g=0;return d>0&&(g=f/d),[l[0],g*100,d*100]},o.hcg.hsl=function(l){var f=l[1]/100,u=l[2]/100,d=u*(1-f)+.5*f,g=0;return d>0&&d<.5?g=f/(2*d):d>=.5&&d<1&&(g=f/(2*(1-d))),[l[0],g*100,d*100]},o.hcg.hwb=function(l){var f=l[1]/100,u=l[2]/100,d=f+u*(1-f);return[l[0],(d-f)*100,(1-d)*100]},o.hwb.hcg=function(l){var f=l[1]/100,u=l[2]/100,d=1-u,g=d-f,w=0;return g<1&&(w=(d-g)/(1-g)),[l[0],g*100,w*100]},o.apple.rgb=function(l){return[l[0]/65535*255,l[1]/65535*255,l[2]/65535*255]},o.rgb.apple=function(l){return[l[0]/255*65535,l[1]/255*65535,l[2]/255*65535]},o.gray.rgb=function(l){return[l[0]/100*255,l[0]/100*255,l[0]/100*255]},o.gray.hsl=o.gray.hsv=function(l){return[0,0,l[0]]},o.gray.hwb=function(l){return[0,100,l[0]]},o.gray.cmyk=function(l){return[0,0,0,l[0]]},o.gray.lab=function(l){return[l[0],0,0]},o.gray.hex=function(l){var f=Math.round(l[0]/100*255)&255,u=(f<<16)+(f<<8)+f,d=u.toString(16).toUpperCase();return"000000".substring(d.length)+d},o.rgb.gray=function(l){var f=(l[0]+l[1]+l[2])/3;return[f/255*100]}});At.rgb;At.hsl;At.hsv;At.hwb;At.cmyk;At.xyz;At.lab;At.lch;At.hex;At.keyword;At.ansi16;At.ansi256;At.hcg;At.apple;At.gray;function ME(){for(var e={},n=Object.keys(At),s=n.length,o=0;o<s;o++)e[n[o]]={distance:-1,parent:null};return e}function jE(e){var n=ME(),s=[e];for(n[e].distance=0;s.length;)for(var o=s.pop(),c=Object.keys(At[o]),h=c.length,y=0;y<h;y++){var m=c[y],l=n[m];l.distance===-1&&(l.distance=n[o].distance+1,l.parent=o,s.unshift(m))}return n}function EE(e,n){return function(s){return n(e(s))}}function TE(e,n){for(var s=[n[e].parent,e],o=At[n[e].parent][e],c=n[e].parent;n[c].parent;)s.unshift(n[c].parent),o=EE(At[n[c].parent][c],o),c=n[c].parent;return o.conversion=s,o}var SE=function(e){for(var n=jE(e),s={},o=Object.keys(n),c=o.length,h=0;h<c;h++){var y=o[h],m=n[y];m.parent!==null&&(s[y]=TE(y,n))}return s},Bs={},NE=Object.keys(At);function AE(e){var n=function(s){return s==null?s:(arguments.length>1&&(s=Array.prototype.slice.call(arguments)),e(s))};return"conversion"in e&&(n.conversion=e.conversion),n}function IE(e){var n=function(s){if(s==null)return s;arguments.length>1&&(s=Array.prototype.slice.call(arguments));var o=e(s);if(typeof o=="object")for(var c=o.length,h=0;h<c;h++)o[h]=Math.round(o[h]);return o};return"conversion"in e&&(n.conversion=e.conversion),n}NE.forEach(function(e){Bs[e]={},Object.defineProperty(Bs[e],"channels",{value:At[e].channels}),Object.defineProperty(Bs[e],"labels",{value:At[e].labels});var n=SE(e),s=Object.keys(n);s.forEach(function(o){var c=n[o];Bs[e][o]=IE(c),Bs[e][o].raw=AE(c)})});var _r=Bs,jd=[].slice,Rb=["keyword","gray","hex"],Gf={};Object.keys(_r).forEach(function(e){Gf[jd.call(_r[e].labels).sort().join("")]=e});var Qi={};function qt(e,n){if(!(this instanceof qt))return new qt(e,n);if(n&&n in Rb&&(n=null),n&&!(n in _r))throw new Error("Unknown model: "+n);var s,o;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof qt)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if(typeof e=="string"){var c=Jn.get(e);if(c===null)throw new Error("Unable to parse color from string: "+e);this.model=c.model,o=_r[this.model].channels,this.color=c.value.slice(0,o),this.valpha=typeof c.value[o]=="number"?c.value[o]:1}else if(e.length){this.model=n||"rgb",o=_r[this.model].channels;var h=jd.call(e,0,o);this.color=Xf(h,o),this.valpha=typeof e[o]=="number"?e[o]:1}else if(typeof e=="number")e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;var y=Object.keys(e);"alpha"in e&&(y.splice(y.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);var m=y.sort().join("");if(!(m in Gf))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=Gf[m];var l=_r[this.model].labels,f=[];for(s=0;s<l.length;s++)f.push(e[l[s]]);this.color=Xf(f)}if(Qi[this.model])for(o=_r[this.model].channels,s=0;s<o;s++){var u=Qi[this.model][s];u&&(this.color[s]=u(this.color[s]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}qt.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var n=this.model in Jn.to?this:this.rgb();n=n.round(typeof e=="number"?e:1);var s=n.valpha===1?n.color:n.color.concat(this.valpha);return Jn.to[n.model](s)},percentString:function(e){var n=this.rgb().round(typeof e=="number"?e:1),s=n.valpha===1?n.color:n.color.concat(this.valpha);return Jn.to.rgb.percent(s)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},n=_r[this.model].channels,s=_r[this.model].labels,o=0;o<n;o++)e[s[o]]=this.color[o];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new qt(this.color.map(DE(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new qt(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:Tt("rgb",0,Ft(255)),green:Tt("rgb",1,Ft(255)),blue:Tt("rgb",2,Ft(255)),hue:Tt(["hsl","hsv","hsl","hwb","hcg"],0,function(e){return(e%360+360)%360}),saturationl:Tt("hsl",1,Ft(100)),lightness:Tt("hsl",2,Ft(100)),saturationv:Tt("hsv",1,Ft(100)),value:Tt("hsv",2,Ft(100)),chroma:Tt("hcg",1,Ft(100)),gray:Tt("hcg",2,Ft(100)),white:Tt("hwb",1,Ft(100)),wblack:Tt("hwb",2,Ft(100)),cyan:Tt("cmyk",0,Ft(100)),magenta:Tt("cmyk",1,Ft(100)),yellow:Tt("cmyk",2,Ft(100)),black:Tt("cmyk",3,Ft(100)),x:Tt("xyz",0,Ft(100)),y:Tt("xyz",1,Ft(100)),z:Tt("xyz",2,Ft(100)),l:Tt("lab",0,Ft(100)),a:Tt("lab",1),b:Tt("lab",2),keyword:function(e){return arguments.length?new qt(e):_r[this.model].keyword(this.color)},hex:function(e){return arguments.length?new qt(e):Jn.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity:function(){for(var e=this.rgb().color,n=[],s=0;s<e.length;s++){var o=e[s]/255;n[s]=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4)}return .2126*n[0]+.7152*n[1]+.0722*n[2]},contrast:function(e){var n=this.luminosity(),s=e.luminosity();return n>s?(n+.05)/(s+.05):(s+.05)/(n+.05)},level:function(e){var n=this.contrast(e);return n>=7.1?"AAA":n>=4.5?"AA":""},isDark:function(){var e=this.rgb().color,n=(e[0]*299+e[1]*587+e[2]*114)/1e3;return n<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),n=0;n<3;n++)e.color[n]=255-e.color[n];return e},lighten:function(e){var n=this.hsl();return n.color[2]+=n.color[2]*e,n},darken:function(e){var n=this.hsl();return n.color[2]-=n.color[2]*e,n},saturate:function(e){var n=this.hsl();return n.color[1]+=n.color[1]*e,n},desaturate:function(e){var n=this.hsl();return n.color[1]-=n.color[1]*e,n},whiten:function(e){var n=this.hwb();return n.color[1]+=n.color[1]*e,n},blacken:function(e){var n=this.hwb();return n.color[2]+=n.color[2]*e,n},grayscale:function(){var e=this.rgb().color,n=e[0]*.3+e[1]*.59+e[2]*.11;return qt.rgb(n,n,n)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var n=this.hsl(),s=n.color[0];return s=(s+e)%360,s=s<0?360+s:s,n.color[0]=s,n},mix:function(e,n){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);var s=e.rgb(),o=this.rgb(),c=n===void 0?.5:n,h=2*c-1,y=s.alpha()-o.alpha(),m=((h*y===-1?h:(h+y)/(1+h*y))+1)/2,l=1-m;return qt.rgb(m*s.red()+l*o.red(),m*s.green()+l*o.green(),m*s.blue()+l*o.blue(),s.alpha()*c+o.alpha()*(1-c))}};Object.keys(_r).forEach(function(e){if(Rb.indexOf(e)===-1){var n=_r[e].channels;qt.prototype[e]=function(){if(this.model===e)return new qt(this);if(arguments.length)return new qt(arguments,e);var s=typeof arguments[n]=="number"?n:this.valpha;return new qt(RE(_r[this.model][e].raw(this.color)).concat(s),e)},qt[e]=function(s){return typeof s=="number"&&(s=Xf(jd.call(arguments),n)),new qt(s,e)}}});function CE(e,n){return Number(e.toFixed(n))}function DE(e){return function(n){return CE(n,e)}}function Tt(e,n,s){return e=Array.isArray(e)?e:[e],e.forEach(function(o){(Qi[o]||(Qi[o]=[]))[n]=s}),e=e[0],function(o){var c;return arguments.length?(s&&(o=s(o)),c=this[e](),c.color[n]=o,c):(c=this[e]().color[n],s&&(c=s(c)),c)}}function Ft(e){return function(n){return Math.max(0,Math.min(e,n))}}function RE(e){return Array.isArray(e)?e:[e]}function Xf(e,n){for(var s=0;s<n;s++)typeof e[s]!="number"&&(e[s]=0);return e}var Nf=qt;function Nr(e){const n=Nf(e),s=Nf({r:255,g:255,b:255}),o=Nf({r:0,g:0,b:0});return n.red()*.299+n.green()*.587+n.b()*.114>=186?o:s}const Ng=({preview:e,config:n,settings:s,labels:o,backgroundColor:c,layout:h,i18nEnabled:y})=>{const m=n.blogUrl,l=n.signupForm.url.replace("{version}",n.signupForm.version);let f={site:m,"button-color":s.accentColor,"button-text-color":Nr(s.accentColor).hex()};y&&s.locale&&(f.locale=s.locale);for(const[k,M]of o.entries())f[`label-${k+1}`]=M.name;let u="min-height: 58px;max-width: 440px;margin: 0 auto;width: 100%";h==="all-in-one"&&(s.icon&&s.icon!==""&&(f.icon=s.icon.replace(/\/content\/images\//,"/content/images/size/w192h192/")),f.title=s.title,f.description=s.description,f["background-color"]=c,f["text-color"]=Nr(c).hex(),u="height: 40vmin;min-height: 360px"),e&&(h==="minimal"?u="min-height: 58px; max-width: 440px;width: 100%;position: absolute; left: 50%; top:50%; transform: translate(-50%, -50%);":u="height: 100vh");let d="";const g=["background-color","text-color","button-color","button-text-color","title","description","icon","site","locale"],w=Object.keys(f).sort((k,M)=>g.indexOf(k)-g.indexOf(M));for(const k of w){const M=f[k];d+=` data-${k}="${Sg(M)}"`}const _=`<div style="${Sg(u)}"><script src="${encodeURI(l)}"${d} async><\/script></div>`;return e&&h==="minimal"?`<div style="position: absolute; z-index: -1; top: 0; left: 0; width: 100%; height: 100%; background-image: linear-gradient(45deg, #eee 25%, transparent 25%, transparent 75%, #eee 75%), linear-gradient(45deg, #eee 25%, transparent 25%, transparent 75%, #eee 75%);background-size: 16px 16px;background-position: 0 0, 8px 8px;;"></div>${_}`:_},OE=ke.create(()=>{let e=!1;const[n,s]=D.useState("#08090c"),[o,c]=D.useState([]),[h,y]=D.useState("all-in-one"),[m,l]=D.useState(""),[f,u]=D.useState(""),[d,g]=D.useState(!1),{updateRoute:w}=Je(),{config:_}=et(),{localSettings:k,siteData:M}=os(),[T,A,C,R,$,B]=bt(k,["accent_color","title","description","locale","labs","icon"]),[O,Z]=D.useState({active:!1});$&&(e=JSON.parse($).i18n),D.useEffect(()=>{if(!M)return;const q={config:{blogUrl:M.url,signupForm:{url:_?.signupForm?.url,version:_?.signupForm?.version}},settings:{accentColor:T||"#d74780",title:A||"",locale:R||"en",icon:B||"",description:C||""},labels:o.map(({label:re})=>({name:re})),backgroundColor:n||"#08090c",layout:h,i18nEnabled:e},se=Ng({preview:!0,...q});l(se);const ee=Ng({preview:!1,...q});u(ee)},[M,T,o,_,A,n,h,R,e,B,C]);const X=async()=>{try{await navigator.clipboard.writeText(f),g(!0),setTimeout(()=>g(!1),2e3)}catch(q){console.error("Failed to copy text: ",q)}},G=q=>{s(q)},W=q=>{if(q?.length){const se=q?.map(({value:ee})=>({label:ee,value:ee}));c(se)}else c([])};return a.jsx(_t,{afterClose:()=>{w("embed-signup-form")},cancelLabel:"",footer:!1,height:645,padding:!1,testId:"embed-signup-form",title:"",topRightContent:"close",width:1120,children:a.jsxs("div",{className:"grid grid-cols-[5.2fr_2.8fr]",children:[a.jsx(yE,{html:m,style:h}),a.jsx(_E,{accentColor:T,customColor:O,embedScript:f,handleColorToggle:G,handleCopyClick:X,handleLabelClick:W,handleLayoutSelect:y,isCopied:d,selectedColor:n,selectedLabels:o,selectedLayout:h,setCustomColor:Z})]})})}),$E=ke.create(()=>{const{updateRoute:e}=Je(),{settings:n}=et(),{mutateAsync:s}=as(),o=it(),[c,h]=D.useState(""),[y]=bt(n,["firstpromoter"]),[m]=bt(n,["firstpromoter_id"]),[l,f]=D.useState("Save"),[u,d]=D.useState(!!y);D.useEffect(()=>{d(y||!1),h(m||null)},[y,m]);const g=async()=>{const w=[{key:"firstpromoter",value:u},{key:"firstpromoter_id",value:c}];try{f("Saving..."),await Promise.all([s(w),new Promise(_=>{setTimeout(_,1e3)})]),f("Saved")}catch(_){o(_)}finally{setTimeout(()=>f("Save"),1e3)}};return a.jsxs(_t,{afterClose:()=>{e("integrations")},cancelLabel:"Close",dirty:u!==y||c!==m,okColor:l==="Saved"?"green":"black",okLabel:l,testId:"firstpromoter-modal",title:"",onOk:async()=>{try{await g()}catch(w){o(w)}},children:[a.jsx(lo,{detail:"Launch your own member referral program",icon:a.jsx(ut,{className:"-mt-2",name:"firstpromoter",size:56}),title:"FirstPromoter"}),a.jsx("div",{className:"mt-7",children:a.jsxs(rt,{marginBottom:!1,title:"FirstPromoter configuration",grouped:!0,children:[a.jsx(ot,{checked:u,direction:"rtl",hint:a.jsxs(a.Fragment,{children:["Enable ",a.jsx("a",{className:"text-green",href:"https://firstpromoter.com/?fpr=ghost&fp_sid=admin",rel:"noopener noreferrer",target:"_blank",children:"FirstPromoter"})," for tracking referrals"]}),label:"Enable FirstPromoter",onChange:w=>{d(w.target.checked)}}),u&&a.jsx(Ae,{hint:a.jsxs(a.Fragment,{children:["Affiliate and referral tracking, find your ID  ",a.jsx("a",{className:"text-green",href:"https://ghost.org/help/firstpromoter-id/",rel:"noopener noreferrer",target:"_blank",children:"here"})]}),placeholder:"XXXXXXXX",title:"FirstPromoter account ID",value:c||"",onChange:w=>{h(w.target.value)}})]})})]})}),PE="ActionsResponseType",LE=c2({dataType:PE,path:"/actions/",returnData:e=>{const{pages:n}=e;let s=n.flatMap(h=>h.actions.map(({context:y,...m})=>({...m,context:JSON.parse(y)})));s=s.reverse();let o=1;s.forEach((h,y)=>{const m=s[y+1];m&&h.resource_id===m.resource_id&&h.event===m.event?(h.skip=!0,o+=1):o>1&&(h.count=o,o=1)});const c=n[n.length-1].meta;return{actions:s.reverse(),meta:c,isEnd:c?c.pagination.pages===c.pagination.page:!0}}}),FE=e=>{var n,s;let o=e.resource_type;if(e.event!=="deleted")switch(e.resource_type){case"page":case"post":return!e.resource||!e.resource.id?void 0:(o==="post"&&(n=e.context)!=null&&n.type&&(o=(s=e.context)==null?void 0:s.type),{isExternal:!0,route:`editor/${o}/${e.resource.id}`,models:[o,e.resource.id]});case"integration":return!e.resource||!e.resource.id?void 0:{route:`integrations/${e.resource.id}`};case"offer":return!e.resource||!e.resource.id?void 0:{isExternal:!0,route:`offers/${e.resource.id}`,models:[e.resource.id]};case"tag":return!e.resource||!e.resource.slug?void 0:{isExternal:!0,route:"tag",models:[e.resource.slug]};case"product":return{route:"tiers"};case"user":return!e.resource||!e.resource.slug?void 0:{route:`staff/${e.resource.slug}`}}},zE=e=>{var n,s,o,c,h,y,m;let l=e.resource_type;l==="api_key"?l="API key":l==="setting"?l="settings":l==="product"&&(l="tier"),l==="post"&&(n=e.context)!=null&&n.type&&(l=(s=e.context)==null?void 0:s.type);let f=e.event;return e.event==="edited"&&(o=e.context)!=null&&o.action_name&&(f=(c=e.context)==null?void 0:c.action_name),(h=e.context)!=null&&h.count&&((y=e.context)==null?void 0:y.count)>1?`${(m=e.context)==null?void 0:m.count} ${l}s ${f}`:`${l.slice(0,1).toUpperCase()}${l.slice(1)} ${f}`},UE=e=>{var n,s,o,c;if(e.resource_type==="setting"&&(n=e.context)!=null&&n.group&&(s=e.context)!=null&&s.key)return{group:(o=e.context)==null?void 0:o.group,key:(c=e.context)==null?void 0:c.key}},Ag=e=>{var n,s;return typeof((n=e.context)==null?void 0:n.count)=="number"&&((s=e.context)==null?void 0:s.count)>1},HE=({action:e})=>{let n="pen";switch(e.event){case"added":n="add";break;case"deleted":n="trash";break}return a.jsx(ut,{name:n,size:"xs"})},BE=({action:e})=>a.jsxs("div",{className:"relative shrink-0",children:[a.jsx(s0,{bgColor:o0(e.actor?.name||e.actor?.slug||""),image:e.actor?.image??void 0,label:a0(e.actor?.name||e.actor?.slug),labelColor:"white",size:"md"}),a.jsx("div",{className:"absolute -bottom-1 -right-1 z-30 flex items-center justify-center rounded-full border border-grey-100 bg-white p-1 shadow-sm dark:border-grey-900 dark:bg-black",children:a.jsx(HE,{action:e})})]}),An=({label:e,item:n,excludedItems:s,toggleItem:o})=>a.jsx(ot,{checked:!s.includes(n),direction:"rtl",label:e,labelClasses:"text-sm",onChange:c=>o(n,c.target.checked)}),WE=({excludedEvents:e,excludedResources:n,toggleEventType:s,toggleResourceType:o})=>{const{updateRoute:c}=Je(),h=n0({path:"/users/",filterKey:"name",responseKey:"users"}),y=async(u,d)=>{const g=await h.loadData(u);d(g.map(w=>({label:w.name,value:w.id})))},[m,l]=D.useState(),f=()=>{l(null)};return a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Bg,{position:"end",trigger:a.jsx(ze,{color:"outline",label:"Filter"}),children:a.jsxs("div",{className:"flex w-[220px] flex-col gap-8 p-5",children:[a.jsxs(Ki,{children:[a.jsx(An,{excludedItems:e,item:"added",label:"Added",toggleItem:s}),a.jsx(An,{excludedItems:e,item:"edited",label:"Edited",toggleItem:s}),a.jsx(An,{excludedItems:e,item:"deleted",label:"Deleted",toggleItem:s})]}),a.jsxs(Ki,{children:[a.jsx(An,{excludedItems:n,item:"post",label:"Posts",toggleItem:o}),a.jsx(An,{excludedItems:n,item:"page",label:"Pages",toggleItem:o}),a.jsx(An,{excludedItems:n,item:"tag",label:"Tags",toggleItem:o}),a.jsx(An,{excludedItems:n,item:"offer,product",label:"Tiers & offers",toggleItem:o}),a.jsx(An,{excludedItems:n,item:"api_key,integration,setting,user,webhook",label:"Settings & staff",toggleItem:o})]})]})}),a.jsx("div",{className:"w-[200px]",children:a.jsx(Pt,{loadOptions:el(y,500),placeholder:"Search staff",value:m,async:!0,defaultOptions:!0,isClearable:!0,onSelect:u=>{u?(l(u),c(`history/view/${u.value}`)):(f(),c("history/view"))}})})]})},qE=({action:e})=>{const{updateRoute:n}=Je(),s=UE(e);if(s){const{group:o,key:c}=s;return a.jsxs(a.Fragment,{children:[o.slice(0,1).toUpperCase(),o.slice(1),o!==c&&a.jsxs("span",{className:"text-xs",children:[" ",a.jsxs("code",{className:"mb-1 bg-white text-grey-800 dark:bg-grey-900 dark:text-white",children:["(",c,")"]})]})]})}else if(e.resource?.title||e.resource?.name||e.context?.primary_name){const o=FE(e);return o?a.jsx("a",{className:"cursor-pointer font-bold",onClick:c=>{c.preventDefault(),n(o)},children:e.resource?.title||e.resource?.name}):a.jsx(a.Fragment,{children:e.resource?.title||e.resource?.name||e.context?.primary_name})}else return a.jsx("span",{className:"text-grey-500",children:"(unknown)"})},YE=e=>{const s=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(e).reduce((o,{type:c,value:h})=>({...o,[c]:h}),{});return`${s.year}-${s.month}-${s.day} ${s.hour}:${s.minute}:${s.second}`},GE=200,XE=ke.create(({params:e})=>{const n=Zt(),{updateRoute:s}=Je(),[o,c]=D.useState([]),[h,y]=D.useState(["label"]),{data:m,fetchNextPage:l,isFetchingNextPage:f}=LE({searchParams:{include:"actor,resource",limit:GE.toString(),filter:[o.length&&`event:-[${o.join(",")}]`,h.length&&`resource_type:-[${h.join(",")}]`,e?.user&&`actor_id:'${e.user}'`].filter(Boolean).join("+")},getNextPageParams:(w,_)=>({..._,filter:[_.filter,w.actions.length&&`created_at:<'${YE(new Date(w.actions[w.actions.length-1].created_at))}'`].join("+")}),keepPreviousData:!0}),u=D.useCallback(()=>{m?.isEnd||l()},[m?.isEnd,l]),d=(w,_,k)=>{w(M=>k?M.concat(_):M.filter(T=>T!==_))},g=o.length>0||h.length>0||e?.user;return a.jsx(_t,{afterClose:()=>{s("history")},cancelLabel:"",okLabel:"Close",scrolling:!0,size:"md",stickyFooter:!0,stickyHeader:!0,testId:"history-modal",title:"History",topRightContent:a.jsx(WE,{excludedEvents:o,excludedResources:h,toggleEventType:(w,_)=>d(c,w,!_),toggleResourceType:(w,_)=>d(y,w,!_),userId:e?.user}),onOk:()=>{n.remove(),s("history")},children:a.jsx("div",{className:"relative mt-6",children:a.jsx(ln,{hint:m?.isEnd&&m.actions.length>0?"End of history log":void 0,children:m?.actions?m.actions.length>0?a.jsxs(a.Fragment,{children:[a.jsx(S3,{offset:250,onTrigger:u}),m.actions.map(w=>!w.skip&&a.jsx(On,{avatar:a.jsx(BE,{action:w}),detail:[new Date(w.created_at).toLocaleDateString("default",{year:"numeric",month:"short",day:"2-digit"}),new Date(w.created_at).toLocaleTimeString("default",{hour:"2-digit",minute:"2-digit",second:"2-digit"})].join(" | "),title:a.jsxs("div",{className:"text-sm",children:[zE(w),Ag(w)?"":": ",!Ag(w)&&a.jsx(qE,{action:w}),w.count?a.jsxs(a.Fragment,{children:[" ",w.count," times"]}):null,a.jsxs("span",{children:["  by ",w.actor?.name||w.actor?.slug]})]}),separator:!0})),f&&a.jsx("div",{className:"flex items-center justify-center p-5",children:a.jsx(Yi,{size:"md"})})]}):a.jsx(ph,{icon:"time-back",children:g?"No entries match your current filters.":"No history entries found."}):m===void 0?a.jsx("div",{className:"flex items-center justify-center px-5 pb-10 pt-12",children:a.jsx(Yi,{})}):a.jsx(ph,{children:"No entries found."})})})})}),KE=ke.create(()=>{const e=ke.useModal(),n=If(),s=If({searchParams:{limit:"100",permissions:"assign"}}),o=Xs(),{updateRoute:c}=Je(),{config:h}=et(),y=h.labs.superEditors,m=D.useRef(null),[l,f]=D.useState(""),[u,d]=D.useState(""),[g,w]=D.useState("contributor"),[_,k]=D.useState({}),{data:{users:M}={}}=u2(),{data:{invites:T}={}}=f2(),{mutateAsync:A}=d2(),C=it();if(D.useEffect(()=>{m.current&&m.current.focus()},[]),D.useEffect(()=>{u==="saved"&&setTimeout(()=>{d("")},2e3)},[u]),D.useEffect(()=>{g!=="contributor"&&o?.isLimited("staff")?o.errorIfWouldGoOverLimit("staff").then(()=>{k(G=>({...G,role:void 0}))}).catch(G=>{if(G instanceof Ks){k(W=>({...W,role:G.message}));return}else throw G}):k(G=>({...G,role:void 0}))},[o,g]),!n.data?.roles||!s.data?.roles)return null;const R=n.data.roles,$=s.data.roles;let B="Send invitation";u==="saving"?B="Sending...":u==="saved"?B="Invite sent!":u==="error"&&(B="Retry");const O=async()=>{if(u!=="saving"){if(!Nt.isEmail(l)){k({email:"Please enter a valid email address."});return}if(M?.some(({email:G})=>G===l)){k({email:"A user with that email address already exists."});return}if(T?.some(({email:G})=>G===l)){k({email:"A user with that email address was already invited."});return}if(!_.role){d("saving");try{await A({email:l,roleId:R.find(({name:G})=>G.toLowerCase()===g.toLowerCase()).id}),d("saved"),gt({title:"Invitation sent",message:`${l}`,type:"success"}),e.remove(),c("staff?tab=invited")}catch(G){d("error");let W="Failed to send invitation",q=a.jsxs("span",{children:["If the problem persists, ",a.jsxs("a",{href:"https://ghost.org/contact",children:[a.jsx("u",{children:"contact support"}),"."]}),"."]});G instanceof p2&&G.data?.errors?.[0]?.type==="EmailError"&&(q=a.jsx("span",{children:"Check your Mailgun configuration."})),gt({title:W,message:q,type:"error"}),C(G,{withToast:!1});return}}}},Z=[{hint:"Can create and edit their own posts, but cannot publish. An Editor needs to approve and publish for them.",label:"Contributor",value:"contributor"},{hint:"A trusted user who can create, edit and publish their own posts, but cant modify others.",label:"Author",value:"author"},{hint:"Can invite and manage other Authors and Contributors, as well as edit and publish any posts on the site.",label:"Editor",value:"editor"},{hint:"Trusted staff user who should be able to manage all content and users, as well as site settings and options.",label:"Administrator",value:"administrator"}];y&&(Z[2]={hint:"Can invite and manage other Authors and Contributors, as well as edit and publish any posts on the site. Can manage members and moderate comments.",label:"Editor (beta mode)",value:"super editor"});const X=Z.filter(G=>$.some(W=>W.name===G.label||W.name==="Super Editor"&&G.label==="Editor (beta mode)"));return _.email&&(B="Retry"),a.jsx(_t,{afterClose:()=>{c("staff")},cancelLabel:"",okColor:u==="error"||_.email?"red":"black",okLabel:B,testId:"invite-user-modal",title:"Invite a new staff user",width:540,onOk:O,children:a.jsxs("div",{className:"flex flex-col gap-6 py-4",children:[a.jsx("p",{children:"Send an invitation for a new person to create a staff account on your site, and select a role that matches what youd like them to be able to do."}),a.jsx(Ae,{error:!!_.email,hint:_.email,inputRef:m,placeholder:"jamie@example.com",title:"Email address",value:l,onChange:G=>{f(G.target.value)},onKeyDown:()=>k(G=>({...G,email:void 0}))}),a.jsx("div",{children:a.jsx(T3,{error:!!_.role,hint:_.role,id:"role",options:X,selectedOption:g,separator:!0,title:"Role",onSelect:G=>{w(G)}})})]})})}),Ig=({items:e,setItems:n})=>{const s=g=>!!(g.label&&!g.label.match(/^\s*$/)||g.url!=="/"),o=eb({items:e.map(g=>({...g,errors:{}})),setItems:g=>n(g.map(({url:w,label:_})=>({url:w,label:_}))),blank:{url:"/",label:"",errors:{}},canAddNewItem:s}),c=new RegExp(/^(\/|#|[a-zA-Z0-9-]+:)/),h=g=>{const w={};return(!g.label||g.label.match(/^\s*$/))&&(w.label="You must specify a label"),(!g.url||g.url.match(/\s/)||!Nt.isURL(g.url,{require_protocol:!0})&&!g.url.match(c))&&(w.url="You must specify a valid URL or relative path"),w},y=(g,w)=>{const _=o.items.find(k=>k.id===g);o.updateItem(g,{..._.item,...w})},m=()=>{const g=h(o.newItem);Object.values(g).some(w=>w)?o.setNewItem({...o.newItem,errors:g}):o.addItem()},l=g=>{o.removeItem(g)},f=(g,w)=>{o.moveItem(g,w)},u="new",d=(g,w)=>{if(g===u)o.setNewItem({...o.newItem,errors:{...o.newItem.errors,[w]:void 0}});else{const _=o.items.find(k=>k.id===g).item;o.updateItem(g,{..._,errors:{..._.errors,[w]:void 0}})}};return{items:o.items.map(({item:g,id:w})=>({...g,id:w})),updateItem:y,addItem:m,removeItem:l,moveItem:f,newItem:{...o.newItem,id:u},setNewItem:g=>o.setNewItem({...o.newItem,...g}),clearError:d,validate:()=>{let g=!0;if(o.items.forEach(({item:w,id:_})=>{let k=h(w);Object.values(k).some(M=>M)&&(g=!1,o.updateItem(_,{...w,errors:k}))}),s(o.newItem)){const w=h(o.newItem);Object.values(w).some(_=>_)&&(g=!1,o.setNewItem({...o.newItem,errors:w}))}return g}}},Cg=({baseUrl:e,item:n,updateItem:s,addItem:o,clearError:c,labelPlaceholder:h,unstyled:y,textFieldClasses:m,action:l,className:f,...u})=>a.jsxs("div",{className:we("flex w-full items-start gap-3",f),"data-testid":"navigation-item-editor",...u,children:[a.jsx("div",{className:"flex flex-1 pt-1",children:a.jsx(Ae,{className:m,containerClassName:"grow",error:!!n.errors.label,hint:n.errors.label,placeholder:h,title:"Label",unstyled:y,value:n.label,hideTitle:!0,onChange:d=>s?.({label:d.target.value}),onKeyDown:d=>{s?.({label:d.target.value}),d.key==="Enter"&&(d.preventDefault(),o?.()),n.errors.label&&c?.("label")}})}),a.jsx("div",{className:"flex flex-1 pt-1",children:a.jsx(qg,{baseUrl:e,className:m,containerClassName:"grow",error:!!n.errors.url,hint:n.errors.url,title:"URL",unstyled:y,value:n.url,hideTitle:!0,onChange:d=>s?.({url:d||""}),onKeyDown:d=>{const g=qi(d.target.value,e,!0);s?.({url:g.save||""})},onKeyUp:d=>{if(d.key==="Enter"){d.preventDefault();const g=qi(d.target.value,e,!0);s?.({url:g.save||""}),o?.()}n.errors.url&&c?.("url")}})}),l]}),Dg=({baseUrl:e,navigation:n})=>a.jsxs("div",{className:"w-full pt-2",children:[a.jsx(Yg,{items:n.items,itemSeparator:!1,renderItem:s=>a.jsx(Cg,{action:a.jsx(ze,{className:"mt-1 self-center",icon:"trash",iconColorClass:"dark:text-white",size:"sm",onClick:()=>n.removeItem(s.id)}),baseUrl:e,clearError:o=>n.clearError(s.id,o),item:s,updateItem:o=>n.updateItem(s.id,o)}),onMove:n.moveItem}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ut,{colorClass:"text-grey-300 dark:text-grey-900 mt-1",name:"add",size:"sm"}),a.jsx(Cg,{action:a.jsx(ze,{className:"mx-2 mt-1 self-center rounded bg-green p-1","data-testid":"add-button",icon:"add",iconColorClass:"text-white",size:"sm",unstyled:!0,onClick:n.addItem}),addItem:n.addItem,baseUrl:e,className:"mt-1",clearError:s=>n.clearError(n.newItem.id,s),"data-testid":"new-navigation-item",item:n.newItem,labelPlaceholder:"New item label",updateItem:n.setNewItem})]})]}),ZE=ke.create(()=>{const e=Zt(),{updateRoute:n}=Je(),{localSettings:s,updateSetting:o,saveState:c,handleSave:h,siteData:y}=os(),[m,l]=bt(s,["navigation","secondary_navigation"]).map(w=>JSON.parse(w||"[]")),f=Ig({items:m,setItems:w=>{o("navigation",JSON.stringify(w))}}),u=Ig({items:l,setItems:w=>o("secondary_navigation",JSON.stringify(w))}),[d,g]=D.useState("primary-nav");return a.jsx(_t,{afterClose:()=>{n("navigation")},buttonsDisabled:c==="saving",cancelLabel:"Close",dirty:s.some(w=>w.dirty),okLabel:c==="saving"?"Saving...":"Save",scrolling:!0,size:"lg",stickyFooter:!0,testId:"navigation-modal",title:"Navigation",onOk:async()=>{f.validate()&&u.validate()&&(await h(),e.remove(),n("navigation"))},children:a.jsx("div",{className:"mb-1 mt-6",children:a.jsx(Rn,{selectedTab:d,tabs:[{id:"primary-nav",title:"Primary",contents:a.jsx(Dg,{baseUrl:y.url,navigation:f})},{id:"secondary-nav",title:"Secondary",contents:a.jsx(Dg,{baseUrl:y.url,navigation:u})}],onTabChange:g})})})}),VE="/ghost/assets/user-cover-yM4cP_Mo.jpg",QE="/ghost/assets/latest-posts-1-D7-ilqhR.jpg",JE="/ghost/assets/latest-posts-2-BPfbGB8B.jpg",e4="/ghost/assets/latest-posts-3-D72O3dn8.jpg",t4=({senderName:e,senderEmail:n,senderReplyTo:s,headerImage:o,headerIcon:c,headerTitle:h,headerSubtitle:y,showPostTitleSection:m,showExcerpt:l,titleAlignment:f,titleFontCategory:u,titleFontWeight:d,bodyFontCategory:g,authorPlaceholder:w,showCommentCta:_,showFeatureImage:k,showFeedback:M,showLatestPosts:T,showSubscriptionDetails:A,siteTitle:C,footerContent:R,showBadge:$,backgroundColor:B,headerBackgroundColor:O,accentColor:Z,textColor:X,secondaryTextColor:G,headerTextColor:W,secondaryHeaderTextColor:q,postTitleColor:se,sectionTitleColor:ee,dividerColor:re,buttonColor:Q,buttonTextColor:ne,linkColor:xe,buttonCorners:je,buttonStyle:H,imageCorners:he,linkStyle:ge,dividerStyle:F})=>{const P=c||h,{config:J}=et(),be=new Date().toLocaleDateString("default",{year:"numeric",month:"short",day:"numeric"}),Te=new Date().getFullYear(),De=R?R.replace(/<a/g,'<a target="_blank" rel="noopener noreferrer"'):"";let Me;nl(J)?Me=a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"leading-normal",children:[a.jsx("span",{className:"font-semibold text-grey-900",children:"From: "}),a.jsxs("span",{children:[e," (",n,")"]})]}),a.jsxs("p",{className:"leading-normal",children:[a.jsx("span",{className:"font-semibold text-grey-900",children:"Reply-to: "}),s||n]})]}):Me=a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"leading-normal",children:[a.jsx("span",{className:"font-semibold text-grey-900",children:e}),a.jsxs("span",{children:[" ",n]})]}),a.jsxs("p",{className:"leading-normal",children:[a.jsx("span",{className:"font-semibold text-grey-900",children:"To:"})," Jamie Larson jamie@example.com"]})]});let oe="mb-5 text-pretty leading-[1.7] text-black";return u==="serif"&&g==="serif"?oe=we(oe,"mb-8 font-serif text-[2.0rem] leading-tight"):u!=="serif"&&g==="serif"?oe=we(oe,"mb-8 text-[1.7rem] leading-tight tracking-tight"):u==="serif"&&g!=="serif"?oe=we(oe,"mb-8 font-serif text-[2.0rem] leading-tight"):oe=we(oe,"mb-8 text-[1.9rem] leading-tight tracking-tight"),f==="center"&&(oe=we(oe,"text-center")),a.jsx("div",{className:"relative flex grow flex-col",children:a.jsx("div",{className:"absolute inset-0 m-5 flex items-center justify-center",children:a.jsxs("div",{className:"mx-auto my-0 flex max-h-full w-full max-w-[700px] flex-col overflow-hidden rounded-[4px] text-black shadow-sm",children:[a.jsx("div",{className:"flex-column flex min-h-[77px] justify-center rounded-t-sm border-b border-grey-200 bg-white px-6 text-sm text-grey-700",children:Me}),a.jsxs("div",{className:"overflow-y-auto text-sm",style:{backgroundColor:B},children:[a.jsxs("div",{className:"px-[7rem]",style:{backgroundColor:O},children:[o&&a.jsx("div",{children:a.jsx("img",{alt:"",className:"mb-4 block pt-6",src:o})}),P&&a.jsxs("div",{className:"py-3",children:[c&&a.jsx("img",{alt:"",className:"mx-auto mb-2 size-10",role:"presentation",src:c}),h&&a.jsx("h4",{className:"mb-1 text-center text-[1.6rem] font-bold uppercase leading-tight tracking-tight text-grey-900",style:{color:W},children:h}),y&&a.jsx("h5",{className:"mb-1 text-center text-[1.3rem] font-normal text-grey-700",style:{color:q},children:y})]}),m&&a.jsxs("div",{className:we("flex flex-col py-8",f==="center"?"items-center":"items-start"),children:[a.jsx("h2",{className:we("text-4xl font-bold leading-supertight text-black",u==="serif"&&"font-serif",d==="normal"&&"font-normal",d==="medium"&&"font-medium",d==="semibold"&&"font-semibold",d==="bold"&&"font-bold",f==="center"?"text-center":"text-left",l?"mb-2":"mb-8"),style:{color:se},children:"Your email newsletter"}),l&&a.jsx("p",{className:oe,style:{color:W},children:"A subtitle to highlight key points and engage your readers."}),a.jsxs("div",{className:we("flex w-full justify-between text-center text-md leading-none text-grey-700",f==="center"?"flex-col gap-1":"flex-row"),children:[a.jsxs("p",{className:"pb-1 text-[1.3rem]",style:{color:q},children:["By ",w,a.jsx("span",{className:"before:pl-0.5 before:pr-1 before:content-['']",children:be})]}),a.jsx("p",{className:"pb-1 text-[1.3rem] underline",style:{color:q},children:a.jsx("span",{children:"View in browser"})})]})]}),k&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:we("h-[unset] w-full max-w-[600px] bg-cover bg-no-repeat",m?"":"pt-6"),children:a.jsx("img",{alt:"Feature",className:we("min-h-full min-w-full shrink-0",he==="square"&&"rounded-none",he==="rounded"&&"rounded-md"),src:VE})}),a.jsx("div",{className:"mt-1 w-full max-w-[600px] pb-8 text-center text-[1.3rem] text-grey-700",style:{color:q},children:"Feature image caption"})]})]}),a.jsxs("div",{className:we("px-[7rem]",O!=="transparent"&&"pt-10"),children:[a.jsxs("div",{className:we("max-w-[600px] border-b border-grey-200 pb-[52px] leading-[27.2px] text-black",F==="dashed"&&"border-dashed",F==="dotted"&&"border-b-2 border-dotted",g==="serif"?"font-serif text-[1.8rem]":"text-[1.7rem] tracking-tight",k||m?"":"pt-8"),style:{borderColor:re},children:[a.jsx("p",{className:"mb-6",style:{color:X},children:"This is what your content will look like when you send one of your posts as an email newsletter to your subscribers."}),a.jsx("p",{className:"mb-6",style:{color:X},children:"Over there on the right you'll see some settings that allow you to customize the look and feel of this template  from colors and typography to layout and buttons  to make it perfectly suited to your brand."}),a.jsx("p",{className:"mb-[52px]",style:{color:X},children:"Email templates are exceptionally finnicky to make, but we've spent a long time optimising this one to make it work beautifully across devices, email clients and content types. So, you can trust that every email you send with Ghost will look great and work well. Just like the rest of your site."}),a.jsx("hr",{className:we("my-[52px] border-[#e0e7eb]",F==="dashed"&&"border-dashed",F==="dotted"&&"border-b-2 border-t-0 border-dotted"),style:{borderColor:re}}),a.jsx("h3",{className:we("mb-[13px] text-[2.6rem] leading-supertight",u==="serif"&&"font-serif",u==="sans_serif"&&"font-sans",d==="normal"&&"font-normal",d==="medium"&&"font-medium",d==="semibold"&&"font-semibold",d==="bold"&&"font-bold"),style:{color:ee},children:"Need inspiration?"}),a.jsxs("p",{className:"mb-[27px]",style:{color:X},children:["We've put together a ",a.jsx("a",{className:we(ge==="underline"&&"underline",ge==="bold"&&"font-bold"),href:"https://ghost.org/help/email-design/",rel:"noopener noreferrer",style:{color:xe||Z},target:"_blank",children:"quick guide"})," that walks through all of the available settings, along with a few examples of what's possible."]}),a.jsx("a",{className:we("inline-block border px-[18px] py-2 font-sans text-[15px]",je==="rounded"&&"rounded-[6px]",je==="pill"&&"rounded-full",je==="square"&&"rounded-none",H==="outline"?"bg-transparent":"border-transparent text-white",ge==="bold"?"font-bold":"font-semibold"),href:"https://ghost.org/help/email-design/",rel:"noopener noreferrer",style:H==="outline"?{borderColor:Q||Z,color:Q||Z}:{backgroundColor:Q||Z,color:ne},target:"_blank",children:"Learn more"})]}),(M||_)&&a.jsx("div",{className:we("grid gap-5 border-b border-grey-200 px-6 py-5",F==="dashed"&&"border-dashed",F==="dotted"&&"border-b-2 border-dotted"),style:{borderColor:re},children:a.jsxs("div",{className:"flex justify-center gap-3",children:[M&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"pointer-events-none cursor-default whitespace-nowrap rounded-[2.2rem] bg-transparent font-semibold",type:"button",children:a.jsxs("span",{className:"inline-flex items-center gap-2 px-[18px] py-[7px]",style:{color:X},children:[a.jsx(ut,{colorClass:"",name:"thumbs-up",size:"md"}),a.jsx("span",{children:"More like this"})]})}),a.jsx("button",{className:"pointer-events-none cursor-default whitespace-nowrap rounded-[2.2rem] bg-transparent font-semibold",type:"button",children:a.jsxs("span",{className:"inline-flex items-center gap-2 px-[18px] py-[7px]",style:{color:X},children:[a.jsx(ut,{colorClass:"",name:"thumbs-down"}),a.jsx("span",{children:"Less like this"})]})})]}),_&&a.jsx("button",{className:"pointer-events-none cursor-default whitespace-nowrap rounded-[2.2rem] bg-transparent font-semibold",type:"button",children:a.jsxs("span",{className:"inline-flex items-center gap-2 px-[18px] py-[7px]",style:{color:X},children:[a.jsx(ut,{colorClass:"",name:"comment"}),a.jsx("span",{children:"Comment"})]})})]})}),T&&a.jsxs("div",{className:we("border-b border-grey-200 py-6",F==="dashed"&&"border-dashed",F==="dotted"&&"border-b-2 border-dotted"),style:{borderColor:re},children:[a.jsx("h3",{className:"mb-4 mt-2 pb-1 text-[1.2rem] font-semibold uppercase tracking-wide text-black",style:{color:X},children:"Keep reading"}),a.jsxs("div",{className:"flex justify-between gap-4 py-2",children:[a.jsxs("div",{children:[a.jsx("h4",{className:we("mt-0.5 text-[1.9rem] text-black",u==="serif"&&"font-serif",d==="normal"&&"font-normal",d==="medium"&&"font-medium",d==="semibold"&&"font-semibold",d==="bold"&&"font-bold"),style:{color:ee},children:"The three latest posts published on your site"}),a.jsx("p",{className:"m-0 text-base text-grey-700",style:{color:G},children:"Posts sent as an email only will never be shown here."})]}),a.jsx("div",{className:"aspect-square h-auto w-full max-w-[100px] bg-cover bg-no-repeat",children:a.jsx("img",{alt:"Latest post",className:we(he==="square"&&"rounded-none",he==="rounded"&&"rounded-md"),src:QE})})]}),a.jsxs("div",{className:"flex justify-between gap-4 py-2",children:[a.jsxs("div",{children:[a.jsx("h4",{className:we("mt-0.5 text-[1.9rem] text-black",u==="serif"&&"font-serif",d==="normal"&&"font-normal",d==="medium"&&"font-medium",d==="semibold"&&"font-semibold",d==="bold"&&"font-bold"),style:{color:ee},children:"Displayed at the bottom of each newsletter"}),a.jsx("p",{className:"m-0 text-base text-grey-700",style:{color:G},children:"Giving your readers one more place to discover your stories."})]}),a.jsx("div",{className:"aspect-square h-auto w-full max-w-[100px] bg-cover bg-no-repeat",children:a.jsx("img",{alt:"Latest post",className:we(he==="square"&&"rounded-none",he==="rounded"&&"rounded-md"),src:JE})})]}),a.jsxs("div",{className:"flex justify-between gap-4 py-2",children:[a.jsxs("div",{children:[a.jsx("h4",{className:we("mt-0.5 text-[1.9rem] text-black",u==="serif"&&"font-serif",d==="normal"&&"font-normal",d==="medium"&&"font-medium",d==="semibold"&&"font-semibold",d==="bold"&&"font-bold"),style:{color:ee},children:"To keep your work front and center"}),a.jsx("p",{className:"m-0 text-base text-grey-700",style:{color:G},children:"Making sure that your audience stays engaged."})]}),a.jsx("div",{className:"aspect-square h-auto w-full max-w-[100px] bg-cover bg-no-repeat",children:a.jsx("img",{alt:"Latest post",className:we(he==="square"&&"rounded-none",he==="rounded"&&"rounded-md"),src:e4})})]})]}),A&&a.jsxs("div",{className:we("border-b border-grey-200 py-8",F==="dashed"&&"border-dashed",F==="dotted"&&"border-b-2 border-dotted"),style:{borderColor:re},children:[a.jsx("h4",{className:"mb-3 text-[1.2rem] uppercase tracking-wide text-black",style:{color:X},children:"Subscription details"}),a.jsxs("p",{className:"m-0 mb-4 text-base",style:{color:X},children:["You are receiving this because you are a paid subscriber to ",C,". Your subscription will renew on 17 Jul 2024."]}),a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"shrink-0 text-base",children:[a.jsx("p",{style:{color:X},children:"Name: Jamie Larson"}),a.jsx("p",{style:{color:X},children:"Email: jamie@example.com"}),a.jsx("p",{style:{color:X},children:"Member since: 17 July 2023"})]}),a.jsx("span",{className:we("w-full self-end whitespace-nowrap text-right text-base",ge==="underline"&&"underline",ge==="bold"&&"font-bold"),style:{color:xe||Z},children:"Manage subscription"})]})]}),a.jsxs("div",{className:"flex flex-col items-center pt-10",children:[a.jsx("div",{dangerouslySetInnerHTML:{__html:De||""},className:"text break-words px-8 py-3 text-center text-[1.3rem] leading-base text-grey-700 [&_a]:underline",style:{color:G}}),a.jsxs("div",{className:"px-8 pb-14 pt-3 text-center text-[1.3rem] text-grey-700",children:[a.jsxs("span",{style:{color:G},children:[C,"  ",Te,"  "]}),a.jsx("span",{className:"pointer-events-none cursor-auto underline",style:{color:G},children:"Unsubscribe"})]}),$&&a.jsx("div",{className:"flex flex-col items-center pb-[40px] pt-[10px]",children:a.jsxs("a",{className:"pointer-events-none inline-flex cursor-auto items-center px-2 py-1 text-[1.25rem] font-semibold tracking-tight text-grey-900",href:"https://ghost.org",style:{color:X},children:[a.jsx(h2,{className:"mr-[6px] size-4"}),a.jsx("span",{children:"Powered by Ghost"})]})})]})]})]})]})})})},dl=(e,n,s)=>nl(n)&&!sd(n)&&s?s:e.sender_email||s||"",Kf=(e,n,s,o)=>e.sender_reply_to==="newsletter"?nl(n)?"":dl(e,n,o):e.sender_reply_to==="support"?s||o||"":e.sender_reply_to,r4=({newsletter:e})=>{const{currentUser:n,settings:s,siteData:o,config:c}=et(),[h,y,m,l,f]=bt(s,["title","icon","comments_enabled","support_email_address","default_email_address"]);let u=null;e.show_header_title?u=h||null:e.show_header_name&&(u=e.name);const d=e.show_header_title&&e.show_header_name?e.name:void 0,g=e.show_comment_cta&&m!=="off",w=e.feedback_enabled&&c.labs.audienceFeedback,_=()=>{const W=e.background_color;return/#([0-9a-f]{3}){1,2}$/i.test(W)?W:"#ffffff"},k=()=>{const W=e.header_background_color;return!W||W==="transparent"?"transparent":/#([0-9a-f]{3}){1,2}$/i.test(W)?W:"transparent"},M=()=>{const W=e.button_color;if(/#([0-9a-f]{3}){1,2}$/i.test(W||""))return W;if(W===null){const se=_();return Nr(se).hex()}return o.accent_color},T=()=>{const W=e.button_style,q=M();if(q&&W==="fill")return Nr(q).hex()},A=()=>{const W=e.link_color===void 0?"accent":e.link_color,q=/#([0-9a-f]{3}){1,2}$/i;return W==="accent"?o.accent_color:q.test(W||"")?W:Nr(_()).hex()},C=()=>{const W=e.post_title_color;if(/#([0-9a-f]{3}){1,2}$/i.test(W||""))return W;if(W==="accent")return o.accent_color;const se=k(),ee=se==="transparent"?_():se;return Nr(ee).hex()},R=()=>{const W=e.section_title_color;return/#([0-9a-f]{3}){1,2}$/i.test(W||"")?W:W==="accent"?o.accent_color:Nr(_()).hex()},$=()=>{const W=e.divider_color;return/#([0-9a-f]{3}){1,2}$/i.test(W||"")?W:W==="accent"?o.accent_color:"#e0e7eb"},B=Nr(_()).hex(),O=Nr(_()).alpha(.5).toString(),Z=k()==="transparent"?B:Nr(k()).hex(),X=k()==="transparent"?O:Nr(k()).alpha(.5).toString(),G={backgroundColor:_(),headerBackgroundColor:k(),postTitleColor:C()||void 0,sectionTitleColor:R()||void 0,buttonColor:M()||void 0,buttonTextColor:T()||void 0,linkColor:A()||void 0,dividerColor:$()||void 0,textColor:B,secondaryTextColor:O,headerTextColor:Z,secondaryHeaderTextColor:X};return a.jsx(t4,{accentColor:o.accent_color,authorPlaceholder:n.name||n.email,backgroundColor:G.backgroundColor||"#ffffff",bodyFontCategory:e.body_font_category,buttonCorners:e.button_corners||"rounded",buttonStyle:e.button_style||"fill",dividerStyle:e.divider_style||"solid",footerContent:e.footer_content,headerBackgroundColor:G.headerBackgroundColor||"transparent",headerIcon:e.show_header_icon?y:void 0,headerImage:e.header_image,headerSubtitle:d,headerTitle:u,imageCorners:e.image_corners||"square",linkStyle:e.link_style||"underline",senderEmail:dl(e,c,f),senderName:e.sender_name||h,senderReplyTo:Kf(e,c,l,f),showBadge:e.show_badge,showCommentCta:g,showExcerpt:e.show_excerpt,showFeatureImage:e.show_feature_image,showFeedback:w,showLatestPosts:e.show_latest_posts,showPostTitleSection:e.show_post_title_section,showSubscriptionDetails:e.show_subscription_details,siteTitle:h,titleAlignment:e.title_alignment,titleFontCategory:e.title_font_category,titleFontWeight:e.title_font_weight||"bold",...G})},n4=({newsletter:e,updateNewsletter:n,errors:s,clearError:o})=>{const{settings:c,config:h}=et(),[y,m]=bt(c,["default_email_address","support_email_address"]),[l,f]=D.useState(Kf(e,h,m,y)||"");let u=dl(e,h,y);const d=D.useCallback(w=>{f(w.target.value),n({sender_reply_to:w.target.value||"newsletter"})},[n,f]),g=()=>{const w=Kf(e,h,m,y)||"";f(w)};return a.jsx(Ae,{error:!!s.sender_reply_to,hint:s.sender_reply_to,maxLength:191,placeholder:u||"",title:"Reply-to email",value:l,onBlur:g,onChange:d,onKeyDown:()=>o("sender_reply_to")})},s4=({newsletter:e,onlyOne:n,updateNewsletter:s,validate:o,errors:c,clearError:h})=>{const{updateRoute:y}=Je(),{mutateAsync:m}=l0(),l=Xs(),{settings:f,config:u,siteData:d}=et(),[g,w]=bt(f,["icon","default_email_address"]),{mutateAsync:_}=Zs(),[k,M]=D.useState("generalSettings"),{localSettings:T}=os(),[A]=bt(T,["title"]),C=it(),{data:{newsletters:R}={}}=i0(),$=["all","paid"].includes(dr(f,"comments_enabled")||"");let B=dl(e,u,w);const[O,Z]=D.useState(R||[]),X=O.filter(H=>H.status==="active");D.useEffect(()=>{Z(R||[])},[R]);const G=[{value:"serif",label:"Elegant serif",className:"font-serif"},{value:"sans_serif",label:"Clean sans-serif"}],W={sans_serif:{options:[{value:"normal",label:"Regular",className:"font-normal"},{value:"medium",label:"Medium",className:"font-medium"},{value:"semibold",label:"Semi-bold",className:"font-semibold"},{value:"bold",label:"Bold",className:"font-bold"}]},serif:{options:[{value:"normal",label:"Regular",className:"font-normal"},{value:"bold",label:"Bold",className:"font-bold"}],map:{medium:"normal",semibold:"bold"}}},q=()=>e.background_color==="light"?!1:Nr(e.background_color).hex().toLowerCase()==="#ffffff",se=async()=>{if(e.status==="active")ke.show(St,{title:"Archive newsletter",prompt:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:["Your newsletter ",a.jsx("strong",{children:e.name})," will no longer be visible to members or available as an option when publishing new posts."]}),a.jsx("div",{children:"Existing posts previously sent as this newsletter will remain unchanged."})]}),okLabel:"Archive",okColor:"red",onOk:async H=>{try{await m({...e,status:"archived"}),H?.remove(),gt({type:"success",message:"Newsletter archived"})}catch(he){C(he)}}});else{try{await l?.errorIfWouldGoOverLimit("newsletters")}catch(H){if(H instanceof Ks){ke.show(Xr,{prompt:H.message||"Your current plan doesn't support more newsletters.",onOk:()=>y({route:"/pro",isExternal:!0})});return}else throw H}ke.show(St,{title:"Reactivate newsletter",prompt:a.jsxs(a.Fragment,{children:["Reactivating ",a.jsx("strong",{children:e.name})," will immediately make it visible to members and re-enable it as an option when publishing new posts."]}),okLabel:"Reactivate",onOk:async H=>{await m({...e,status:"active"}),H?.remove(),gt({type:"success",message:"Newsletter reactivated"})}})}},ee=()=>{if(!nl(u))return a.jsx(Ae,{error:!!c.sender_email,hint:c.sender_email,placeholder:B||"",title:"Sender email address",value:e.sender_email||"",onChange:H=>s({sender_email:H.target.value}),onKeyDown:()=>h("sender_email")});if(sd(u))return a.jsx(Ae,{error:!!c.sender_email,hint:c.sender_email,maxLength:191,placeholder:w,title:"Sender email address",value:e.sender_email||"",onChange:H=>{s({sender_email:H.target.value})},onKeyDown:()=>h("sender_email")})},re=W[e.title_font_category||"sans_serif"].options,Q=()=>{const H=e.title_font_category||"sans_serif",he=e.title_font_weight,ge=W[H].map,F=ge&&ge[he]||he;return re.find(J=>J.value===F)||re[0]},ne=H=>{const he=H?.value||"sans_serif",ge=e.title_font_weight;let F=ge;return W[he].options.find(P=>P.value===ge)||(F=W[he].map?.[ge]||"bold"),s({title_font_category:he,title_font_weight:F})},xe=[{id:"generalSettings",title:"General",contents:a.jsxs(a.Fragment,{children:[a.jsxs(rt,{className:"mt-6",gap:"sm",margins:"lg",title:"Name and description",children:[a.jsx(Ae,{error:!!c.name,hint:c.name,maxLength:191,placeholder:"Weekly Roundup",title:"Name",value:e.name||"",onChange:H=>s({name:H.target.value}),onKeyDown:()=>h("name")}),a.jsx($n,{maxLength:2e3,rows:2,title:"Description",value:e.description||"",onChange:H=>s({description:H.target.value})})]}),a.jsxs(rt,{className:"mt-6",gap:"sm",margins:"lg",title:"Email info",children:[a.jsx(Ae,{maxLength:191,placeholder:A,title:"Sender name",value:e.sender_name||"",onChange:H=>s({sender_name:H.target.value})}),ee(),a.jsx(n4,{clearError:h,errors:c,newsletter:e,updateNewsletter:s,validate:o})]}),a.jsx(rt,{className:"mt-6",gap:"sm",margins:"lg",title:"Member settings",children:a.jsx(ot,{checked:e.subscribe_on_signup,direction:"rtl",label:"Subscribe new members on signup",labelStyle:"value",onChange:H=>s({subscribe_on_signup:H.target.checked})})}),a.jsx("div",{className:"mb-5 mt-10",children:e.status==="active"?!n&&a.jsx(ze,{color:"red",disabled:X.length===1,label:"Archive newsletter",link:!0,onClick:se}):a.jsx(ze,{color:"green",label:"Reactivate newsletter",link:!0,onClick:se})})]})},{id:"content",title:"Content",contents:a.jsxs(a.Fragment,{children:[a.jsxs(rt,{className:"mt-6",gap:"sm",margins:"lg",title:"Header",children:[a.jsxs("div",{children:[a.jsx("div",{children:a.jsx(xt,{className:"mb-2",level:6,children:"Header image"})}),a.jsxs("div",{className:"flex-column flex gap-1",children:[a.jsx(un,{deleteButtonClassName:"!top-1 !right-1",height:e.header_image?"66px":"64px",id:"logo",imageURL:e.header_image||void 0,onDelete:()=>{s({header_image:null})},onUpload:async H=>{try{const he=on(await _({file:H}));s({header_image:he})}catch(he){C(he)}},children:a.jsx(ut,{colorClass:"text-grey-700 dark:text-grey-300",name:"picture"})}),a.jsx(Gr,{children:"1200600 recommended. Use a transparent PNG for best results on any background."})]})]}),a.jsxs(Ki,{children:[g&&a.jsx(ot,{checked:e.show_header_icon,direction:"rtl",label:"Publication icon",onChange:H=>s({show_header_icon:H.target.checked})}),a.jsx(ot,{checked:e.show_header_title,direction:"rtl",label:"Publication title",onChange:H=>s({show_header_title:H.target.checked})}),a.jsx(ot,{checked:e.show_header_name,direction:"rtl",label:"Newsletter name",onChange:H=>s({show_header_name:H.target.checked})})]})]}),a.jsxs(rt,{className:"mt-6",gap:"xs",margins:"lg",title:"Title section",children:[a.jsx(ot,{checked:e.show_post_title_section,direction:"rtl",label:"Post title",onChange:H=>s({show_post_title_section:H.target.checked})}),e.show_post_title_section&&a.jsx(ot,{checked:e.show_excerpt,direction:"rtl",label:"Post excerpt",onChange:H=>s({show_excerpt:H.target.checked})}),a.jsx(ot,{checked:e.show_feature_image,direction:"rtl",label:"Feature image",onChange:H=>s({show_feature_image:H.target.checked})})]}),a.jsxs(rt,{className:"mt-6",gap:"sm",margins:"lg",title:"Footer",children:[a.jsxs(Ki,{gap:"lg",children:[a.jsx(ot,{checked:e.feedback_enabled,direction:"rtl",label:"Ask your readers for feedback",onChange:H=>s({feedback_enabled:H.target.checked})}),$&&a.jsx(ot,{checked:e.show_comment_cta,direction:"rtl",label:"Add a link to your comments",onChange:H=>s({show_comment_cta:H.target.checked})}),a.jsx(ot,{checked:e.show_latest_posts,direction:"rtl",label:"Share your latest posts",onChange:H=>s({show_latest_posts:H.target.checked})}),a.jsx(ot,{checked:e.show_subscription_details,direction:"rtl",label:"Show subscription details",onChange:H=>s({show_subscription_details:H.target.checked})})]}),a.jsx(ud,{hint:"Any extra information or legal text",nodes:"MINIMAL_NODES",placeholder:" ",title:"Email footer",value:e.footer_content||"",onChange:H=>s({footer_content:H})})]}),a.jsx(Qa,{}),a.jsxs("div",{className:"my-5 flex w-full items-start",children:[a.jsx("span",{children:a.jsx(ut,{className:"mr-2 mt-[-1px]",colorClass:"text-red",name:"heart"})}),a.jsx(rt,{marginBottom:!1,children:a.jsx(ot,{checked:e.show_badge,direction:"rtl",label:a.jsxs("div",{className:"flex flex-col gap-0.5",children:[a.jsx("span",{className:"text-sm md:text-base",children:"Promote independent publishing"}),a.jsx("span",{className:"text-[11px] leading-tight text-grey-700 md:text-xs md:leading-tight",children:"Show you're a part of the indie publishing movement with a small badge in the footer"})]}),labelStyle:"value",onChange:H=>s({show_badge:H.target.checked})})})]})]})},{id:"design",title:"Design",contents:a.jsxs(a.Fragment,{children:[a.jsxs(rt,{className:"mt-6",gap:"xs",margins:"lg",title:"Global",children:[a.jsx("div",{className:"mb-1",children:a.jsx(Yr,{direction:"rtl",eyedropper:!0,swatches:[{hex:"#ffffff",value:"light",title:"White"}],title:"Background color",value:e.background_color||"light",onChange:H=>s({background_color:H})})}),a.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[a.jsx("div",{className:"shrink-0",children:"Heading font"}),a.jsx(Pt,{containerClassName:"max-w-[200px]",options:G,selectedOption:G.find(H=>H.value===e.title_font_category),onSelect:ne})]}),a.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[a.jsx("div",{className:"shrink-0",children:"Heading weight"}),a.jsx(Pt,{containerClassName:"max-w-[200px]",options:re,selectedOption:Q(),onSelect:H=>s({title_font_weight:H?.value})})]}),a.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[a.jsx("div",{className:"shrink-0",children:"Body font"}),a.jsx(Pt,{containerClassName:"max-w-[200px]",options:G,selectedOption:G.find(H=>H.value===e.body_font_category),testId:"body-font-select",onSelect:H=>s({body_font_category:H?.value})})]})]}),a.jsxs(rt,{className:"mt-6",gap:"xs",margins:"lg",title:"Header",children:[a.jsx("div",{className:"mb-1",children:a.jsx(Yr,{direction:"rtl",eyedropper:!0,swatches:[{value:"transparent",title:"Transparent",hex:"#00000000"}],title:"Header background color",value:e.header_background_color||"transparent",onChange:H=>s({header_background_color:H})})}),a.jsx("div",{className:"mb-1",children:a.jsx(Yr,{direction:"rtl",eyedropper:!0,swatches:[{value:null,title:"Auto",hex:q()?"#ffffff":"#000000"},{value:"accent",title:"Accent",hex:d.accent_color}],title:"Post title color",value:e.post_title_color,onChange:H=>s({post_title_color:H})})}),a.jsxs("div",{className:"flex w-full justify-between",children:[a.jsx("div",{children:"Title alignment"}),a.jsx(an,{activeKey:e.title_alignment,buttons:[{key:"left",icon:"align-left",iconSize:14,label:"Align left",tooltip:"Left",hideLabel:!0,link:!1,size:"sm",onClick:()=>s({title_alignment:"left"}),disabled:!e.show_post_title_section},{key:"center",icon:"align-center",iconSize:14,label:"Align center",tooltip:"Center",hideLabel:!0,link:!1,size:"sm",onClick:()=>s({title_alignment:"center"}),disabled:!e.show_post_title_section}],clearBg:!1})]})]}),a.jsxs(rt,{className:"mt-6",gap:"xs",margins:"lg",title:"Body",children:[a.jsx("div",{className:"mb-1",children:a.jsx(Yr,{direction:"rtl",eyedropper:!0,swatches:[{value:null,title:"Auto",hex:q()?"#ffffff":"#000000"},{value:"accent",title:"Accent",hex:d.accent_color}],title:"Section title color",value:e.section_title_color,onChange:H=>s({section_title_color:H})})}),a.jsx("div",{className:"mb-1",children:a.jsx(Yr,{direction:"rtl",eyedropper:!0,swatches:[{value:"accent",title:"Accent",hex:d.accent_color},{value:null,title:"Auto",hex:q()?"#ffffff":"#000000"}],title:"Button color",value:e.button_color,onChange:H=>s({button_color:H})})}),a.jsxs("div",{className:"flex w-full justify-between",children:[a.jsx("div",{children:"Button style"}),a.jsx(an,{activeKey:e.button_style||"fill",buttons:[{key:"fill",icon:"squircle-fill",iconSize:14,label:"Fill",tooltip:"Fill",hideLabel:!0,link:!1,size:"sm",onClick:()=>s({button_style:"fill"})},{key:"outline",icon:"squircle",iconSize:14,label:"Outline",tooltip:"Outline",hideLabel:!0,link:!1,size:"sm",onClick:()=>s({button_style:"outline"})}],clearBg:!1})]}),a.jsxs("div",{className:"flex w-full justify-between",children:[a.jsx("div",{children:"Button corners"}),a.jsx(an,{activeKey:e.button_corners||"rounded",buttons:[{key:"square",icon:"square",iconSize:14,label:"Square",tooltip:"Squared",hideLabel:!0,link:!1,size:"sm",onClick:()=>s({button_corners:"square"})},{key:"rounded",icon:"squircle",iconSize:14,label:"Rounded",tooltip:"Rounded",hideLabel:!0,link:!1,size:"sm",onClick:()=>s({button_corners:"rounded"})},{key:"pill",icon:"circle",iconSize:14,label:"Pill",tooltip:"Pill",hideLabel:!0,link:!1,size:"sm",onClick:()=>s({button_corners:"pill"})}],clearBg:!1})]}),a.jsx("div",{className:"mb-1",children:a.jsx(Yr,{direction:"rtl",eyedropper:!0,swatches:[{value:"accent",title:"Accent",hex:d.accent_color},{value:null,title:"Auto",hex:q()?"#ffffff":"#000000"}],title:"Link color",value:e.link_color,onChange:H=>s({link_color:H})})}),a.jsxs("div",{className:"flex w-full justify-between",children:[a.jsx("div",{children:"Link style"}),a.jsx(an,{activeKey:e.link_style||"underline",buttons:[{key:"underline",icon:"text-underline",iconSize:14,label:"Underline",tooltip:"Underline",hideLabel:!0,link:!1,size:"sm",onClick:()=>s({link_style:"underline"})},{key:"regular",icon:"text-regular",iconSize:14,label:"Regular",tooltip:"Regular",hideLabel:!0,link:!1,size:"sm",onClick:()=>s({link_style:"regular"})},{key:"bold",icon:"text-bold",iconSize:14,label:"Bold",tooltip:"Bold",hideLabel:!0,link:!1,size:"sm",onClick:()=>s({link_style:"bold"})}],clearBg:!1})]}),a.jsxs("div",{className:"flex w-full justify-between",children:[a.jsx("div",{children:"Image corners"}),a.jsx(an,{activeKey:e.image_corners||"square",buttons:[{key:"square",icon:"square",iconSize:14,label:"Square",tooltip:"Squared",hideLabel:!0,link:!1,size:"sm",onClick:()=>s({image_corners:"square"})},{key:"rounded",icon:"squircle",iconSize:14,label:"Rounded",tooltip:"Rounded",hideLabel:!0,link:!1,size:"sm",onClick:()=>s({image_corners:"rounded"})}],clearBg:!1})]}),a.jsx("div",{className:"mb-1",children:a.jsx(Yr,{direction:"rtl",eyedropper:!0,swatches:[{value:"light",title:"Light",hex:"#e0e7eb"},{value:"accent",title:"Accent",hex:d.accent_color}],title:"Divider color",value:e.divider_color||"light",onChange:H=>s({divider_color:H})})})]})]})}],je=H=>{M(H)};return a.jsx("div",{className:"flex flex-col",children:a.jsx("div",{className:"px-7 pb-7 pt-0",children:a.jsx(Rn,{selectedTab:k,stickyHeader:!0,tabs:xe,onTabChange:je})})})},a4=({newsletter:e,onlyOne:n})=>{const{config:s}=et(),{mutateAsync:o}=l0(),{updateRoute:c}=Je(),h=it(),{formState:y,saveState:m,updateForm:l,setFormState:f,handleSave:u,validate:d,errors:g,clearError:w,okProps:_}=kr({initialState:e,savingDelay:500,onSave:async()=>{const{meta:{sent_email_verification:[A]=[]}={}}=await o(y);let C;A&&A==="sender_email"?C=a.jsx("div",{children:"Weve sent a confirmation email to the new address."}):A&&A==="sender_reply_to"&&(C=a.jsx("div",{children:"Weve sent a confirmation email to the new address."})),C&&gt({icon:"email",message:C,type:"info"})},onSaveError:h,onValidate:()=>{const A={};return y.name||(A.name="A name is required for your newsletter"),y.sender_email&&!Nt.isEmail(y.sender_email)?A.sender_email="Enter a valid email address":y.sender_email&&sd(s)&&y.sender_email.split("@")[1]!==hh(s)&&(A.sender_email=`Email address must end with @${hh(s)}`),y.sender_reply_to&&!Nt.isEmail(y.sender_reply_to)&&!["newsletter","support"].includes(y.sender_reply_to)&&(A.sender_reply_to="Enter a valid email address"),A}}),k=A=>{l(C=>({...C,...A}))};D.useEffect(()=>{f(()=>e)},[f,e]);const M=a.jsx(r4,{newsletter:y}),T=a.jsx(s4,{clearError:w,errors:g,newsletter:y,onlyOne:n,updateNewsletter:k,validate:d});return a.jsx(Qs,{afterClose:()=>c("newsletters"),buttonsDisabled:_.disabled,cancelLabel:"Close",deviceSelector:!1,dirty:m==="unsaved",okColor:_.color,okLabel:_.label||"Save",preview:M,previewBgColor:"grey",previewToolbar:!1,sidebar:T,sidebarPadding:!1,testId:"newsletter-modal",title:"Newsletter",onOk:async()=>{await u({fakeWhenUnchanged:!0})}})},o4=({params:e})=>{const{data:{newsletters:n,isEnd:s}={},fetchNextPage:o}=i0(),c=n?.find(({id:h})=>h===e?.id);return D.useEffect(()=>{!c&&!s&&o()},[o,s,c]),c?a.jsx(a4,{newsletter:c,onlyOne:n.length===1}):null},i4=ke.create(o4),Ob=({id:e})=>{const{updateRoute:n}=Je(),{data:{offers:s=[]}={}}=c0(e||""),[o,c]=D.useState(),[h,y]=D.useState(""),{siteData:m}=et();D.useEffect(()=>{if(s.length>0){const k=s[0],M=`${cn(m)}${k?.code}`;y(M),c(k)}},[s,m]);const[l,f]=D.useState(!1),u=()=>{let k="";switch(o?.type){case"percent":k=o?.amount+"% discount";break;case"fixed":k=Kg(m2(o?.amount))+" "+o?.currency+" discount";break;case"trial":k=o?.amount+" days free trial";break}return`${encodeURIComponent(o?.name||"")}  Check out ${encodeURIComponent(k)} on:`},d=async()=>{await navigator.clipboard.writeText(h),f(!0),setTimeout(()=>f(!1),2e3)},g=()=>{window.open(`https://twitter.com/intent/tweet?url=${encodeURI(h)}&text=${u()}`,"_blank")},w=()=>{window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURI(h)}`,"_blank")},_=()=>{window.open(`http://www.linkedin.com/shareArticle?mini=true&url=${encodeURI(h)}&title=${u()}`,"_blank")};return a.jsx(_t,{afterClose:()=>{n("offers")},animate:!1,backDropClick:!1,footer:!1,height:"full",size:"lg",testId:"offer-success-modal",topRightContent:"close",width:1140,children:a.jsxs("div",{className:"-mt-6 flex h-full flex-col items-center justify-center text-center",children:[a.jsx("div",{className:"absolute left-6 top-5",children:a.jsx(pd,{activeItemClassName:"hidden md:!block md:!visible",containerClassName:"whitespace-nowrap",itemClassName:"hidden md:!block md:!visible",items:[{label:"Offers",onClick:()=>{n("offers/edit")}},{label:o?.name||""}],separatorClassName:"hidden md:!block md:!visible",backIcon:!0,onBack:()=>{n("offers/edit")}})}),a.jsx(ut,{colorClass:"text-grey-700 -mt-4",name:"tags-check",size:"xl"}),a.jsx("h1",{className:"mt-6 text-4xl",children:"Your new offer is live!"}),a.jsx("p",{className:"mt-3 max-w-[510px] text-[1.6rem]",children:"You can share the link anywhere. In your newsletter, social media, a podcast, or in-person. It all just works."}),a.jsxs("div",{className:"mt-8 flex w-full max-w-md flex-col gap-8",children:[a.jsxs("div",{className:"flex flex-col-reverse gap-2",children:[a.jsx(Ae,{name:"offer-url",type:"url",value:h,disabled:!0}),a.jsx(ze,{color:"green",label:l?"Copied!":"Copy link",fullWidth:!0,onClick:d})]}),a.jsx("div",{className:'flex items-center gap-4 text-xs font-medium before:h-px before:grow before:bg-grey-300 before:content-[""] after:h-px after:grow after:bg-grey-300 after:content-[""] dark:before:bg-grey-800 dark:after:bg-grey-800',children:"OR"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ze,{className:"h-8 border border-grey-300 dark:border-grey-800",icon:"twitter-x",iconColorClass:"w-[14px] h-[14px]",size:"sm",fullWidth:!0,onClick:g}),a.jsx(ze,{className:"h-8 border border-grey-300 dark:border-grey-800",icon:"facebook",size:"sm",fullWidth:!0,onClick:w}),a.jsx(ze,{className:"h-8 border border-grey-300 dark:border-grey-800",icon:"linkedin",size:"sm",fullWidth:!0,onClick:_})]})]})]})})},Ji=({href:e,onDestroyed:n,selectedTab:s,portalParent:o})=>{s||(s="signup");const c=D.useRef(null),[h,y]=D.useState(!1),[m,l]=D.useState(!0),f=D.useCallback(()=>{setTimeout(()=>{c.current&&l(!1)},300)},[c]);if(D.useEffect(()=>{const g=w=>{if(!e)return;new URL(w.origin).origin===new URL(e).origin&&w?.data?.type==="portal-preview-ready"&&f()};return window.addEventListener("message",g,!0),()=>{window.removeEventListener("message",g,!0),n?.()}},[e,n,f,h]),!e)return null;let u="mt-[-7%] flex h-screen items-center justify-center",d="hidden";return o==="preview"?(u="absolute z-50 mt-[-7%] flex h-screen items-center justify-center",d="invisible"):o==="offers"&&(u="absolute z-50 flex w-full h-full items-center justify-center",d="invisible"),a.jsxs(a.Fragment,{children:[m&&a.jsx("div",{className:u,children:a.jsx("span",{children:a.jsx(Yi,{})})}),a.jsx("iframe",{ref:c,className:!m&&h?"":d,"data-testid":"portal-preview",height:"100%",src:e,title:"Portal Preview",width:"100%",onLoad:()=>{y(!0)}})]})},$b=(e,n)=>{const{disableBackground:s=!1,name:o,code:c,displayTitle:h="",displayDescription:y="",type:m,cadence:l,amount:f=0,duration:u,durationInMonths:d,currency:g="usd",status:w,tierId:_}=e;n=n.replace(/\/$/,"");const k="/?v=modal-portal-offer#/portal/preview/offer",M=new URLSearchParams;return M.append("disableBackground","false"),M.append("name",encodeURIComponent(o)),M.append("code",encodeURIComponent(c)),M.append("display_title",encodeURIComponent(h)),M.append("display_description",encodeURIComponent(y)),M.append("type",encodeURIComponent(m)),M.append("cadence",encodeURIComponent(l)),M.append("amount",encodeURIComponent(f)),M.append("duration",encodeURIComponent(u)),M.append("duration_in_months",encodeURIComponent(d)),M.append("currency",encodeURIComponent(g)),M.append("status",encodeURIComponent(w)),M.append("tier_id",encodeURIComponent(_)),s&&M.append("disableBackground","true"),`${n}${k}?${M.toString()}`},l4=e=>{const n=[];return e.forEach(s=>{n.push({label:`${s.name} - Monthly`,value:`${s.id}-month-${s.currency}`}),n.push({label:`${s.name} - Yearly`,value:`${s.id}-year-${s.currency}`})}),n};function c4(e){return e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-")}const Rg=({type:e,checked:n,onClick:s})=>{const o=n?"bg-black text-white dark:bg-white dark:text-black":"border border-grey-300 dark:border-grey-800";return a.jsx("button",{className:"text-left",type:"button",onClick:s,children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:`mt-0.5 flex size-4 items-center justify-center rounded-full ${o}`,children:n?a.jsx(ut,{className:"w-[7px] stroke-[4]",name:"check",size:"custom"}):null}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{children:e.title}),a.jsx("span",{className:"text-sm",children:e.description})]})]})})},Og=e=>{const{fixedAmount:n=0,percentAmount:s=0,trialAmount:o=0,amount:c=0}=e;switch(e.type){case"fixed":return n*100;case"percent":return s;case"trial":return o;default:return c}},u4=({tierOptions:e,handleTierChange:n,selectedTier:s,typeOptions:o,durationOptions:c,handleTypeChange:h,handleDurationChange:y,overrides:m,handleAmountTypeChange:l,handleNameInput:f,handleTextAreaInput:u,handleDisplayTitleInput:d,handleDurationInMonthsInput:g,handleAmountInput:w,handleCodeInput:_,clearError:k,errors:M,testId:T,handleTrialAmountInput:A,amountOptions:C})=>{const $=s?.label?.includes("Yearly")?c.filter(re=>re.value!=="repeating"):c,[B,O]=D.useState(0),Z=B>40?"text-red":"text-green",{siteData:X}=et(),[G,W]=D.useState(!1),q=cn(X),se=`${q}${m.code.value}`,ee=async()=>{await navigator.clipboard.writeText(se),W(!0),setTimeout(()=>W(!1),2e3)};return a.jsx("div",{className:"pt-7","data-testId":T,children:a.jsxs(rt,{children:[a.jsxs("section",{children:[a.jsx("h2",{className:"mb-4 text-lg",children:"General"}),a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsx(Ae,{error:!!M.name,hint:M.name||a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Visible to members on Stripe Checkout page"}),a.jsxs("strong",{children:[a.jsx("span",{className:`${Z}`,children:B})," / 40"]})]}),maxLength:40,placeholder:"Black Friday",title:"Offer name",onChange:re=>{f(re),O(re.target.value.length)},onKeyDown:()=>k("name")}),a.jsx(Ae,{error:!!M.displayTitle,hint:M.displayTitle,placeholder:"Black Friday Special",title:"Display title",value:m.displayTitle.value,onChange:re=>{d(re)},onKeyDown:()=>k("displayTitle")}),a.jsx($n,{placeholder:"Take advantage of this limited-time offer.",title:"Display description",value:m.displayDescription,onChange:re=>{u(re)}})]})]}),a.jsxs("section",{className:"mt-4",children:[a.jsx("h2",{className:"mb-4 text-lg",children:"Details"}),a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 rounded-md border border-grey-200 p-4 dark:border-grey-800",children:[a.jsx(Rg,{checked:m.type!=="trial",type:o[0],onClick:()=>{h("percent")}}),a.jsx(Rg,{checked:m.type==="trial",type:o[1],onClick:()=>{h("trial")}})]}),a.jsx(Pt,{options:e,selectedOption:s,testId:"tier-cadence-select-offers",title:"Tier Cadence",onSelect:re=>{re&&n(re)}}),m.type!=="trial"&&a.jsxs(a.Fragment,{children:[" ",a.jsxs("div",{className:"relative",children:[a.jsx(Ae,{error:!!M.amount,hint:M.amount,title:"Amount off",type:"number",value:m.type==="fixed"?m.fixedAmount===0?"":m.fixedAmount?.toString():m.percentAmount===0?"":m.percentAmount?.toString(),onChange:re=>{w(re)},onKeyDown:()=>k("amount")}),a.jsx("div",{className:"absolute right-1.5 top-6 z-10",children:a.jsx(Pt,{clearBg:!0,controlClasses:{menu:"w-20 right-0"},options:C,selectedOption:m.type==="percent"?C[0]:C[1],testId:"amount-type-select-offers",onSelect:re=>{l(re?.value||"")}})})]}),a.jsx(Pt,{options:$,selectedOption:$.find(re=>re.value===m.duration),testId:"duration-select-offers",title:"Duration",onSelect:re=>y(re?.value||"")}),m.duration==="repeating"&&a.jsx(Ae,{title:"Duration in months",type:"number",onChange:re=>{g(re)}})]}),m.type==="trial"&&a.jsx(Ae,{error:!!M.amount,hint:M.amount,title:"Trial duration",type:"number",value:m.trialAmount?.toString(),onChange:re=>{A(re)},onKeyDown:()=>k("amount")}),a.jsx(Ae,{error:!!M.code,hint:M.code||(m.code.value!==""?a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[q,a.jsx("span",{className:"font-bold",children:m.code.value})]}),a.jsx("span",{}),a.jsx(ze,{className:"text-xs",color:"green",label:`${G?"Copied":"Copy"}`,size:"sm",link:!0,onClick:ee})]}):null),placeholder:"black-friday",title:"Offer code",value:m.code.value,onChange:re=>{_(re)},onKeyDown:()=>k("code")})]})]})]})})},Qn=e=>{const[n,s,o]=e.split("-");if(!n||!s||!o)throw new Error("Invalid input format. Expected format is: id-period-currency");return{id:n,period:s,currency:o}},f4=()=>{const{siteData:e}=et(),n=[{title:"Discount",description:"Offer a special reduced price",value:"percent"},{title:"Free trial",description:"Give free access for a limited time",value:"trial"}],s=[{value:"once",label:"First-payment"},{value:"repeating",label:"Multiple-months"},{value:"forever",label:"Forever"}],[o,c]=D.useState(""),{updateRoute:h}=Je(),{data:{tiers:y}={}}=oo(),m=ad(y||[]),l=l4(m),{mutateAsync:f}=g2(),[u,d]=D.useState({tier:l[0]||{},dataset:{id:l[0]?.value?Qn(l[0]?.value).id:"",period:l[0]?.value?Qn(l[0]?.value).period:"",currency:l[0]?.value?Qn(l[0]?.value).currency:""}}),{data:{offers:g=[]}={}}=b2(),{formState:w,updateForm:_,handleSave:k,saveState:M,okProps:T,validate:A,errors:C,clearError:R}=kr({initialState:{disableBackground:!1,name:"",code:{isDirty:!1,value:""},displayTitle:{isDirty:!1,value:""},displayDescription:"",type:"percent",cadence:u?.dataset?.period||"",amount:0,duration:"once",durationInMonths:0,currency:u?.dataset?.currency||"USD",status:"active",tierId:u?.dataset?.id||"",trialAmount:7,fixedAmount:0,percentAmount:0},onSave:async()=>{const he={name:w.name,code:w.code.value,display_title:w.displayTitle.value,display_description:w.displayDescription,cadence:w.cadence,amount:Og(w)||0,duration:w.type==="trial"?"trial":w.duration,duration_in_months:Number(w.durationInMonths),currency:w.currency,status:w.status,tier:{id:w.tierId},type:w.type,currency_restriction:!1},ge=await f(he);ge&&ge.offers&&ge.offers.length>0&&h(`offers/success/${ge.offers[0].id}`)},onSaveError:()=>{},onValidate:()=>{const he={};return!w.name&&w.name.length===0&&(he.name="Name is required"),!w.code.value&&w.code.value.length===0&&(he.code="Code is required"),!w.displayTitle.value&&w.displayTitle.value.length===0&&(he.displayTitle="Display title is required"),w.type==="percent"&&w.percentAmount===0&&(he.amount="Enter an amount greater than 0."),w.type==="percent"&&(w.percentAmount<0||w.percentAmount>100)&&(he.amount="Amount must be between 0 and 100%."),(w.type==="fixed"&&w.fixedAmount===0||w.type==="fixed"&&w.fixedAmount<1)&&(he.amount="Enter an amount greater than 0."),w.type==="trial"&&w.trialAmount===0&&(he.amount="Enter an amount greater than 0."),w.type==="trial"&&w.trialAmount<1&&(he.amount="Free trial must be at least 1 day."),he},savingDelay:500}),$=[{value:"percent",label:"%"},{value:"fixed",label:w.currency}],B=he=>{d({tier:he,dataset:Qn(he.value)}),_(ge=>({...ge,cadence:Qn(he.value).period,currency:Qn(he.value).currency,tierId:Qn(he.value).id}))},O=he=>{_(ge=>({...ge,type:he}))},Z=he=>{_(ge=>({...ge,type:he==="percent"?"percent":"fixed"}))},X=he=>{const ge=he.target;w.type==="fixed"?_(F=>({...F,fixedAmount:Number(ge.value)})):w.type==="percent"?_(F=>({...F,percentAmount:Number(ge.value)})):_(F=>({...F,amount:Number(ge.value)}))},G=he=>{const ge=he.target;_(F=>({...F,durationInMonths:Number(ge.value)}))},W=he=>{const ge=he.target.value;_(F=>{let P={...F};return P.name=ge,F.code.isDirty||(R("code"),P.code={...F.code,value:c4(ge)}),F.displayTitle.isDirty||(R("displayTitle"),P.displayTitle={...F.displayTitle,value:ge}),P})},q=he=>{const ge=he.target;_(F=>({...F,displayTitle:{...F.displayTitle,isDirty:!0,value:ge.value}}))},se=he=>{const ge=he.target;_(F=>({...F,displayDescription:ge.value}))},ee=he=>{const ge=he.target;_(F=>({...F,trialAmount:Number(ge.value)}))},re=he=>{_(ge=>({...ge,duration:he}))},Q=he=>{const ge=he.target;_(F=>({...F,code:{...F.code,isDirty:!0,value:ge.value}}))},ne=()=>{g.length>0?h("offers/edit"):h("offers")},xe=D.useMemo(()=>({name:w.name||"",code:w.code.value||"",displayTitle:w.displayTitle.value||"",displayDescription:w.displayDescription||"",type:w.type||"percent",cadence:w.cadence||"month",amount:Og(w)||0,duration:w.type==="trial"?"trial":w.duration||"once",durationInMonths:w.durationInMonths||0,currency:w.currency||"USD",status:w.status||"active",tierId:w.tierId||m[0]?.id}),[w,m]);D.useEffect(()=>{const he=$b(xe,e.url);c(he)},[w,e.url,w.type,xe]);const je=a.jsx(u4,{amountOptions:$,clearError:R,durationOptions:s,errors:C,handleAmountInput:X,handleAmountTypeChange:Z,handleCodeInput:Q,handleDisplayTitleInput:q,handleDurationChange:re,handleDurationInMonthsInput:G,handleNameInput:W,handleTextAreaInput:se,handleTierChange:B,handleTrialAmountInput:ee,handleTypeChange:O,overrides:w,selectedTier:u.tier,testId:"add-offer-sidebar",tierOptions:l,typeOptions:n,validate:A}),H=a.jsx(Ji,{href:o||"",portalParent:"offers"});return a.jsx(Qs,{afterClose:()=>{h("offers")},backDropClick:!1,cancelLabel:"Close",deviceSelector:!1,dirty:M==="unsaved",height:"full",okColor:T.color,okLabel:"Publish",preview:H,previewToolbar:!1,sidebar:je,size:"lg",testId:"add-offer-modal",title:"Offer",width:1140,onCancel:ne,onOk:async()=>{if(A(),!Object.values(C).every(ge=>!ge)){Ja.remove(),gt({title:"Can't save offer",type:"info",message:"Make sure you filled all required fields"});return}try{if(await k({force:!0}))return}catch(ge){let F;ge instanceof ts&&ge.data&&ge.data.errors[0]&&(F=ge.data.errors[0].context||ge.data.errors[0].message),Ja.remove(),F&&gt({title:"Can't save offer",type:"error",message:F||"Please try again later"})}}})};function $g(e){return new Date(e).toLocaleDateString("default",{year:"numeric",month:"short",day:"2-digit"})}const d4=({clearError:e,errors:n,offer:s,updateOffer:o})=>{const{siteData:c}=et(),[h,y]=D.useState(!1),m=it(),{mutateAsync:l}=u0(),[f,u]=D.useState(s?.name.length||0),d=f>40?"text-red":"text-green",{updateRoute:g}=Je();D.useEffect(()=>{s?.name&&u(s?.name.length)},[s?.name]);const w=cn(c),_=`${w}${s?.code}`,k=async()=>{await navigator.clipboard.writeText(_),y(!0),setTimeout(()=>y(!1),2e3)},M=async()=>{s?.status==="active"?ke.show(St,{title:"Archive offer",prompt:a.jsxs(a.Fragment,{children:[a.jsx("p",{children:"New members will no longer be able to subscribe using this offer."}),a.jsxs("p",{children:["All members that previously redeemed ",a.jsx("strong",{children:s?.name})," will remain unchanged."]})]}),okLabel:"Archive",okColor:"red",onOk:async T=>{try{await l({...s,status:"archived"}),T?.remove(),gt({type:"success",title:"Offer archived"}),g("offers/edit")}catch(A){m(A)}}}):ke.show(St,{title:"Reactivate offer",prompt:a.jsx(a.Fragment,{children:a.jsxs("p",{children:["Reactivating ",a.jsx("strong",{children:s?.name})," will allow new members to subscribe using this offer. Existing members will remain unchanged."]})}),okLabel:"Reactivate",onOk:async T=>{try{await l({...s,status:"active"}),T?.remove(),gt({type:"success",title:"Offer reactivated"}),g("offers/edit")}catch(A){m(A)}}})};return a.jsxs("div",{className:"flex grow flex-col pt-2",children:[a.jsxs(rt,{className:" grow",children:[a.jsx("section",{children:a.jsxs("div",{className:"flex flex-col gap-5 rounded-md border border-grey-300 p-4 pb-3.5 dark:border-grey-800",children:[a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx("span",{className:"text-xs font-semibold leading-none text-grey-700",children:"Created on"}),a.jsx("span",{children:$g(s?.created_at?s.created_at:"")})]}),a.jsxs("div",{className:"flex items-end justify-between",children:[a.jsxs("div",{className:"flex flex-col gap-5",children:[a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx("span",{className:"text-xs font-semibold leading-none text-grey-700",children:"Performance"}),a.jsxs("span",{children:[s?.redemption_count," ",s?.redemption_count===1?"redemption":"redemptions"]})]}),s?.redemption_count>0&&s?.last_redeemed?a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx("span",{className:"text-xs font-semibold leading-none text-grey-700",children:"Last redemption"}),a.jsx("span",{children:$g(s?.last_redeemed)})]}):null]}),s?.redemption_count>0?a.jsx("a",{className:"font-semibold text-green",href:x2(s?.id),children:"See members "}):null]})]})}),a.jsxs("section",{className:"mt-4",children:[a.jsx("h2",{className:"mb-4 text-lg",children:"General"}),a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsx(Ae,{error:!!n.name,hint:n.name||a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Visible to members on Stripe Checkout page"}),a.jsxs("strong",{children:[a.jsx("span",{className:`${d}`,children:f})," / 40"]})]}),maxLength:40,placeholder:"Black Friday",title:"Offer name",value:s?.name,onChange:T=>{u(T.target.value.length),o({name:T.target.value})},onKeyDown:()=>e("name")}),a.jsx(Ae,{error:!!n.displayTitle,hint:n.displayTitle,placeholder:"Black Friday Special",title:"Display title",value:s?.display_title,onChange:T=>o({display_title:T.target.value}),onKeyDown:()=>e("displayTitle")}),a.jsx($n,{placeholder:"Take advantage of this limited-time offer.",title:"Display description",value:s?.display_description,onChange:T=>o({display_description:T.target.value})}),a.jsx(Ae,{error:!!n.code,hint:n.code||(s?.code!==""?a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[w,a.jsx("span",{className:"font-bold",children:s?.code})]}),a.jsx("span",{}),a.jsx(ze,{className:"text-xs",color:"green",label:`${h?"Copied":"Copy"}`,size:"sm",link:!0,onClick:k})]}):null),placeholder:"black-friday",title:"Offer code",value:s?.code,onChange:T=>o({code:T.target.value}),onKeyDown:()=>e("code")})]})]})]}),a.jsx("div",{className:"mb-2",children:s?.status==="active"?a.jsx(ze,{color:"red",label:"Archive offer",link:!0,onClick:M}):a.jsx(ze,{color:"green",label:"Reactivate offer",link:!0,onClick:M})})]})},p4=({id:e})=>{const{siteData:n}=et(),{updateRoute:s}=Je(),o=it(),{mutateAsync:c}=u0(),[h,y]=D.useState(""),{data:{offers:m=[]}={}}=c0(e||""),{formState:l,saveState:f,updateForm:u,setFormState:d,handleSave:g,validate:w,errors:_,clearError:k,okProps:M}=kr({initialState:m[0],savingDelay:500,onSave:async()=>{await c(l)},onSaveError:o,onValidate:()=>{const R={};return l?.name||(R.name="Name is required"),l?.display_title||(R.displayTitle="Display title is required"),l?.code||(R.code="Please enter a code"),R}});D.useEffect(()=>{d(()=>m[0])},[d,m]);const T=R=>{u($=>({...$,...R}))},A=a.jsx(d4,{clearError:k,errors:_,offer:l,updateOffer:T,validate:w});D.useEffect(()=>{const R={name:l?.name||"",code:l?.code||"",displayTitle:l?.display_title||"",displayDescription:l?.display_description||"",type:l?.type||"",cadence:l?.cadence||"",amount:l?.amount,duration:l?.duration||"",durationInMonths:l?.duration_in_months||0,currency:l?.currency||"",status:l?.status||"",tierId:l?.tier.id||""},$=$b(R,n.url);y($)},[l,n]);const C=a.jsx(Ji,{href:h||"",portalParent:"offers"});return m?a.jsx(Qs,{afterClose:()=>{s("offers")},backDropClick:!1,cancelLabel:"Close",deviceSelector:!1,dirty:f==="unsaved",height:"full",okColor:M.color,okLabel:M.label||"Save",preview:C,previewToolbar:!1,sidebar:A,size:"lg",testId:"offer-update-modal",title:"Offer",width:1140,onCancel:()=>{sessionStorage.getItem("editOfferPageSource")==="offers"?(sessionStorage.removeItem("editOfferPageSource"),s("offers")):(sessionStorage.removeItem("editOfferPageSource"),s("offers/edit"))},onOk:async()=>{try{if(await g({force:!0}))return}catch(R){let $;R instanceof ts&&R.data&&R.data.errors[0]&&($=R.data.errors[0].context||R.data.errors[0].message),Ja.remove(),$&&gt({title:"Can't save offer",type:"error",message:"Please try again later"})}}}):null},h4=({route:e})=>{if(e==="offers/new")return a.jsx(f4,{});if(e.startsWith("offers/edit/")&&e.length>12){const n=e.split("/").pop();return a.jsx(p4,{id:n||""})}else if(e.startsWith("offers/success/")&&e.length>15){const n=e.split("/").pop();return a.jsx(Ob,{id:n||""})}else if(e==="offers/edit")return a.jsx(v2,{})},m4=()=>{const{route:e}=Je();return a.jsx(h4,{route:e})},g4=ke.create(m4),b4="/ghost/assets/pintura-screenshot-1gRQGS4m.png",x4=ss({method:"POST",path:()=>"/files/upload/",body:({file:e})=>{const n=new FormData;return n.append("file",e),n}}),v4=ke.create(()=>{const{updateRoute:e}=Je(),[n,s]=D.useState({js:!1,css:!1}),{settings:o,config:c}=et(),[h]=bt(o,["pintura"]),{mutateAsync:y}=as(),{mutateAsync:m}=x4(),l=it();D.useEffect(()=>{g(h||!1)},[h]);const[f,u]=D.useState("Save"),[d,g]=D.useState(!!h),w=async()=>{const C=[{key:"pintura",value:d}];try{u("Saving..."),await Promise.all([y(C),new Promise(R=>{setTimeout(R,1e3)})]),u("Saved")}catch(R){l(R)}finally{setTimeout(()=>u("Save"),1e3)}},_=D.useRef(null),k=D.useRef(null),M=C=>{C==="js"&&_.current?.click(),C==="css"&&k.current?.click()},T=async(C,R)=>{try{s(X=>({...X,[R]:!0}));const $=C.target?.files?.[0];if(!$)return;const{files:B}=await m({file:$}),O=B[0].url,Z=[{key:`pintura_${R}_url`,value:O}];await y(Z),s(X=>({...X,[R]:!1})),gt({type:"success",title:`Pintura ${R} uploaded`})}catch($){s({js:!1,css:!1}),l($)}},A=d!==h;return a.jsxs(_t,{afterClose:()=>{e("integrations")},cancelLabel:"Close",dirty:A,okColor:f==="Saved"?"green":"black",okLabel:f,testId:"pintura-modal",title:"",onOk:w,children:[a.jsx(lo,{detail:"Advanced image editing",icon:a.jsx(ut,{name:"pintura",size:48}),title:"Pintura"}),a.jsxs("div",{className:"mt-7",children:[!c.pintura&&a.jsxs("div",{className:"mb-7 flex flex-col items-stretch justify-between gap-4 rounded-sm bg-grey-75 p-4 md:flex-row md:p-7 dark:bg-grey-950",children:[a.jsxs("div",{className:"md:basis-1/2",children:[a.jsx("p",{className:"mb-4 font-bold",children:"Add advanced image editing to Ghost, with Pintura"}),a.jsx("p",{className:"mb-4 text-sm",children:"Pintura is a powerful JavaScript image editor that allows you to crop, rotate, annotate and modify images directly inside Ghost."}),a.jsx("p",{className:"text-sm",children:"Try a demo, purchase a license, and download the required CSS/JS files from pqina.nl/pintura/ to activate this feature."})]}),a.jsxs("div",{className:"flex grow flex-col items-end justify-between gap-2 md:basis-1/2 md:gap-0",children:[a.jsx("img",{alt:"Pintura screenshot",src:b4}),a.jsx("a",{className:"-mb-1 text-sm font-bold text-green",href:"https://pqina.nl/pintura/ghost/?ref=ghost.org",rel:"noopener noreferrer",target:"_blank",children:"Find out more "})]})]}),a.jsxs(rt,{marginBottom:!1,title:"Pintura configuration",grouped:!0,children:[a.jsx(ot,{checked:d,direction:"rtl",hint:a.jsxs(a.Fragment,{children:["Enable ",a.jsx("a",{className:"text-green",href:"https://pqina.nl/pintura/ghost/?ref=ghost.org",rel:"noopener noreferrer",target:"_blank",children:"Pintura"})," for editing your images in Ghost"]}),label:"Enable Pintura",onChange:C=>{g(C.target.checked)}}),d&&!c.pintura&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col justify-between gap-1 md:flex-row md:items-center",children:[a.jsxs("div",{children:[a.jsx("div",{children:"Upload Pintura script"}),a.jsxs("div",{className:"text-xs text-grey-600",children:["Upload the ",a.jsx("code",{children:"pintura-umd.js"})," file from the Pintura package"]})]}),a.jsx("input",{ref:_,accept:".js",type:"file",hidden:!0,onChange:async C=>{await T(C,"js")}}),a.jsx(ze,{color:"outline",disabled:n.js,label:"Upload",onClick:()=>{M("js")}})]}),a.jsxs("div",{className:"flex flex-col justify-between gap-1 md:flex-row md:items-center",children:[a.jsxs("div",{children:[a.jsx("div",{children:"Upload Pintura styles"}),a.jsxs("div",{className:"text-xs text-grey-600",children:["Upload the ",a.jsx("code",{children:"pintura.css"})," file from the Pintura package"]})]}),a.jsx("input",{ref:k,accept:".css",type:"file",hidden:!0,onChange:async C=>{await T(C,"css")}}),a.jsx(ze,{color:"outline",disabled:n.css,label:"Upload",onClick:()=>{M("css")}})]})]})]})]})]})}),w4=({updateSetting:e,errors:n,setError:s})=>{const{siteData:o,settings:c,config:h}=et(),[y,m]=bt(c,["members_support_address","support_email_address"]),l=m?.toString()||Cf(y?.toString()||"",o,h),f=w2(o,h),[u,d]=D.useState(l),g=w=>{let _=w.target.value;_?Nt.isEmail(_)?s("members_support_address",""):s("members_support_address","Enter a valid email address"):s("members_support_address","Enter an email address");let k=f&&_===`noreply@${f}`?"noreply":_;e("members_support_address",k),d(Cf(k,o,h))};return D.useEffect(()=>{d(l)},[l]),a.jsx("div",{className:"mt-7",children:a.jsx(rt,{children:a.jsx(Ae,{error:!!n.members_support_address,hint:n.members_support_address,title:"Support email address",value:u,onBlur:g,onChange:w=>d(w.target.value)})})})},Af=[{icon:"portal-icon-1",value:"icon-1"},{icon:"portal-icon-2",value:"icon-2"},{icon:"portal-icon-3",value:"icon-3"},{icon:"portal-icon-4",value:"icon-4"},{icon:"portal-icon-5",value:"icon-5"}],y4=({localSettings:e,updateSetting:n})=>{const{mutateAsync:s}=Zs(),o=it(),[c,h,y,m]=bt(e,["portal_button","portal_button_style","portal_button_icon","portal_button_signup_text"]),l=y||Af[0].value,f=Af.map(({value:k})=>k).includes(l),[u,d]=D.useState(f?void 0:l),g=async k=>{try{const M=on(await s({file:k}));n("portal_button_icon",M),d(M)}catch(M){const T=M;T.response.status===415&&(T.message="Unsupported file type"),o(T)}},w=()=>{n("portal_button_icon",null),d(void 0)},_=[{value:"icon-and-text",label:"Icon and text"},{value:"icon-only",label:"Icon only"},{value:"text-only",label:"Text only"}];return a.jsx("div",{className:"mt-7",children:a.jsxs(rt,{children:[a.jsx(ot,{checked:!!c,direction:"rtl",label:"Show portal button",onChange:k=>n("portal_button",k.target.checked)}),a.jsx(Pt,{options:_,selectedOption:_.find(k=>k.value===h),title:"Button style",onSelect:k=>n("portal_button_style",k?.value||null)}),h?.toString()?.includes("icon")&&a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx(xt,{level:6,grey:!0,children:"Icon"}),a.jsxs("div",{className:"flex justify-between",children:[Af.map(k=>a.jsx("button",{className:we("border p-3",l===k.value?"border-green":"border-transparent"),type:"button",onClick:()=>n("portal_button_icon",k.value),children:a.jsx(ut,{className:`size-5 ${l===k.value?"text-green":"text-black opacity-70 transition-all hover:opacity-100 dark:text-white"}`,name:k.icon})},k.value)),a.jsx("div",{className:we("relative w-[46px] border",l===u?"border-green":"border-transparent"),children:a.jsx(un,{deleteButtonClassName:"invisible absolute -right-2 -top-2 flex h-8 w-8 cursor-pointer items-center justify-center rounded-full bg-[rgba(0,0,0,0.75)] text-white hover:bg-black group-hover:!visible",deleteButtonContent:a.jsx(ut,{colorClass:"text-white",name:"trash",size:"sm"}),height:"46px",id:"test",imageClassName:"cursor-pointer",imageURL:u,width:"46px",deleteButtonUnstyled:!0,onDelete:w,onImageClick:()=>u&&n("portal_button_icon",u),onUpload:g,children:a.jsx(ut,{className:"dark:text-white",name:"upload",size:"md"})})})]})]}),h?.toString()?.includes("text")&&a.jsx(Ae,{title:"Signup button text",value:m,onChange:k=>n("portal_button_signup_text",k.target.value)})]})})},Pr=({name:e,value:n})=>{const s=D.useId();return a.jsx(On,{action:a.jsx(ze,{color:"black",label:"Copy",link:!0,onClick:o=>{navigator.clipboard.writeText(n);const c=o?.target;c.innerText="Copied",setTimeout(()=>{c.innerText="Copy"},1e3)}}),separator:!0,children:a.jsxs("div",{className:"flex w-full grow flex-col py-3 lg:flex-row lg:items-center lg:gap-5",children:[a.jsxs("label",{className:"inline-block whitespace-nowrap lg:w-[180px] lg:min-w-[180px]",htmlFor:s,children:[e,":"]}),a.jsx(Ae,{className:"border-b-500 grow bg-transparent py-1 text-grey-700 lg:p-1",id:s,value:n,disabled:!0,unstyled:!0})]})})},_4=()=>{const[e,n]=D.useState(!1),[s,o]=D.useState(""),{siteData:c}=et(),{data:{tiers:h}={}}=oo(),y=ad(h||[]),m=()=>{n(!e)};D.useEffect(()=>{y?.length&&!s&&o(y[0].id)},[y,s]);const l=y?.map(u=>({label:u.name,value:u.id})),f=cn(c);return a.jsxs(dd,{className:"max-w-[920px] text-base text-black dark:text-white",heading:"Links",children:[a.jsxs("p",{className:"-mt-6 mb-16",children:["Use these ",e?"data attributes":"links"," in your theme to show pages of Portal."]}),a.jsxs(ln,{actions:a.jsx(ze,{color:"green",label:e?"Links":"Data attributes",link:!0,onClick:m}),title:"Generic",titleSize:"lg",children:[a.jsx(Pr,{name:"Default",value:e?"data-portal":`${f}#/portal`}),a.jsx(Pr,{name:"Sign in",value:e?'data-portal="signin"':`${f}#/portal/signin`}),a.jsx(Pr,{name:"Sign up",value:e?'data-portal="signup"':`${f}#/portal/signup`})]}),a.jsxs(ln,{className:"mt-14",title:"Tiers",titleSize:"lg",children:[a.jsx(On,{hideActions:!0,separator:!0,children:a.jsxs("div",{className:"flex w-full items-center gap-2 py-2",children:[a.jsx("span",{className:"inline-block w-[180px] min-w-[180px] shrink-0",children:"Tier:"}),a.jsx(Pt,{options:l,selectedOption:l.find(u=>u.value===s),onSelect:u=>{u&&o(u?.value)}})]})}),a.jsx(Pr,{name:"Signup / Monthly",value:e?`data-portal="signup/${s}/monthly"`:`${f}#/portal/signup/${s}/monthly`}),a.jsx(Pr,{name:"Signup / Yearly",value:e?`data-portal="signup/${s}/yearly"`:`${f}#/portal/signup/${s}/yearly`}),a.jsx(Pr,{name:"Signup / Free",value:e?'data-portal="signup/free"':`${f}#/portal/signup/free`})]}),a.jsxs(ln,{className:"mt-14",title:"Account",titleSize:"lg",children:[a.jsx(Pr,{name:"Account",value:e?'data-portal="account"':`${f}#/portal/account`}),a.jsx(Pr,{name:"Account / Plans",value:e?'data-portal="account/plans"':`${f}#/portal/account/plans`}),a.jsx(Pr,{name:"Account / Profile",value:e?'data-portal="account/profile"':`${f}#/portal/account/profile`}),a.jsx(Pr,{name:"Account / Newsletters",value:e?'data-portal="account/newsletters"':`${f}#/portal/account/newsletters`}),a.jsx(Pr,{name:"Account / Newsletter help",value:e?'data-portal="account/newsletters/help"':`${f}#/portal/account/newsletters/help`})]})]})},k4=({settings:e,config:n,tiers:s,siteData:o,selectedTab:c})=>{if(!o?.url)return null;let h=s.filter(w=>w.visibility==="public"&&w.type==="paid").map(w=>w.id);const y=o.url.replace(/\/$/,""),m="/?v=modal-portal-settings#/portal/preview",l=JSON.parse(dr(e,"portal_plans")||""),f=new URLSearchParams;f.append("button",dr(e,"portal_button")?"true":"false"),f.append("name",dr(e,"portal_name")?"true":"false"),f.append("isFree",l.includes("free")?"true":"false"),f.append("isMonthly",Ys(e,n)&&l.includes("monthly")?"true":"false"),f.append("isYearly",Ys(e,n)&&l.includes("yearly")?"true":"false"),f.append("page",c==="account"?"accountHome":"signup"),f.append("buttonIcon",encodeURIComponent(dr(e,"portal_button_icon")||"icon-1")),f.append("signupButtonText",encodeURIComponent(dr(e,"portal_button_signup_text")||"")),f.append("membersSignupAccess",dr(e,"members_signup_access")||"all"),f.append("allowSelfSignup",dr(e,"allow_self_signup")||"false"),f.append("signupTermsHtml",dr(e,"portal_signup_terms_html")||""),f.append("signupCheckboxRequired",dr(e,"portal_signup_checkbox_required")?"true":"false"),f.append("portalProducts",h.join(","));const u=dr(e,"portal_default_plan");u&&f.append("portalDefaultPlan",u),l&&l.length&&f.append("portalPrices",encodeURIComponent(l.join(",")));const d=dr(e,"accent_color");d!=null&&f.append("accentColor",encodeURIComponent(d));const g=dr(e,"portal_button_style");return g&&f.append("buttonStyle",encodeURIComponent(g)),f.append("disableBackground","false"),`${y}${m}?${f.toString()}`},M4=({selectedTab:e="signup",localSettings:n,localTiers:s})=>{const{siteData:o,config:c}=et(),h=k4({settings:n,tiers:s,selectedTab:e,siteData:o,config:c});let y=a.jsx(a.Fragment,{});switch(e){case"account":y=a.jsx(a.Fragment,{children:a.jsx(Ji,{href:h||"",portalParent:"preview",selectedTab:e})});break;case"links":y=a.jsx(_4,{});break;default:y=a.jsx(a.Fragment,{children:a.jsx(Ji,{href:h||"",portalParent:"preview",selectedTab:e})});break}return y},j4=({localSettings:e,updateSetting:n,localTiers:s,updateTier:o,errors:c,setError:h})=>{const{config:y}=et(),[m,l,f,u,d,g]=bt(e,["members_signup_access","portal_name","portal_signup_terms_html","portal_signup_checkbox_required","portal_plans","portal_default_plan"]),w=JSON.parse(d?.toString()||"[]"),_=115,k=D.useMemo(()=>{const X=document.createElement("div");return X.innerHTML=f?.toString()||"",X.innerText.length},[f]),M=D.useCallback((X,G)=>{h(X,G)},[]);D.useEffect(()=>{k>_?M("portal_signup_terms_html","Signup notice is too long"):M("portal_signup_terms_html",void 0)},[k,M]);const T=X=>{const G=w.indexOf(X);G===-1?w.push(X):w.splice(G,1),n("portal_plans",JSON.stringify(w)),g==="yearly"?!w.includes("yearly")&&w.includes("monthly")&&n("portal_default_plan","monthly"):g==="monthly"&&(w.includes("monthly")||n("portal_default_plan","yearly"))},A=m==="all"||m==="paid",C=m==="all",R=Ys(e,y);let $=[];s&&s.forEach(X=>{X.type==="free"&&C&&$.push({checked:w.includes("free"),disabled:!A,label:X.name,value:"free",testId:"free-tier-checkbox",onChange:G=>{w.includes("free")&&!G&&w.splice(w.indexOf("free"),1),!w.includes("free")&&G&&w.push("free"),n("portal_plans",JSON.stringify(w)),o({...X,visibility:G?"public":"none"})}})});const B=ad(s)||[],O=[{value:"yearly",label:"Yearly"},{value:"monthly",label:"Monthly"}];R&&B.length>0&&B.forEach(X=>{$.push({checked:X.visibility==="public",label:X.name,value:X.id,onChange:(G=>o({...X,visibility:G?"public":"none"}))})});const Z=R&&B.length>0&&B.some(X=>X.visibility==="public");return a.jsx("div",{className:"mt-7",children:a.jsxs(rt,{children:[a.jsx(ot,{checked:!!l,direction:"rtl",disabled:!A,label:"Display name in signup form",onChange:X=>n("portal_name",X.target.checked)}),a.jsx(Rf,{checkboxes:$,title:"Available tiers"}),Z&&a.jsxs(a.Fragment,{children:[a.jsx(Rf,{checkboxes:[{checked:w.includes("monthly"),disabled:!A,label:"Monthly",value:"monthly",onChange:()=>{T("monthly")}},{checked:w.includes("yearly"),disabled:!A,label:"Yearly",value:"yearly",onChange:()=>{T("yearly")}}],title:"Available prices"}),w.includes("yearly")&&w.includes("monthly")&&a.jsx(Pt,{options:O,selectedOption:O.find(X=>X.value===g),title:"Default price at signup",onSelect:X=>{n("portal_default_plan",X?.value??"yearly")}})]}),a.jsx(ud,{error:!!c.portal_signup_terms_html,hint:c.portal_signup_terms_html||a.jsxs(a.Fragment,{children:["Recommended: ",a.jsx("strong",{children:"115"})," characters. You've used ",a.jsx("strong",{className:"text-green",children:k})]}),nodes:"MINIMAL_NODES",placeholder:"By signing up, I agree to receive emails from ...",title:"Display notice at signup",value:f?.toString(),onChange:X=>n("portal_signup_terms_html",X)}),f?.toString()&&a.jsx(ot,{checked:!!u,disabled:!A,label:"Require agreement",labelStyle:"heading",onChange:X=>n("portal_signup_checkbox_required",X.target.checked)})]})})},E4="SettingsResponseType",T4=ss({path:()=>"/settings/verifications",method:"PUT",body:({token:e})=>({token:e}),updateQueries:{dataType:E4,emberUpdateType:"createOrUpdate",update:e=>({...e,settings:e.settings})}}),S4=({localSettings:e,updateSetting:n,localTiers:s,updateTier:o,errors:c,setError:h})=>{const[y,m]=D.useState("signupOptions"),l=[{id:"signupOptions",title:"Signup options",contents:a.jsx(j4,{errors:c,localSettings:e,localTiers:s,setError:h,updateSetting:n,updateTier:o})},{id:"lookAndFeel",title:"Look & feel",contents:a.jsx(y4,{localSettings:e,updateSetting:n})},{id:"accountPage",title:"Account page",contents:a.jsx(w4,{errors:c,setError:h,updateSetting:n})}],f=u=>{m(u)};return a.jsx("div",{className:"pt-4",children:a.jsx(Rn,{selectedTab:y,tabs:l,onTabChange:f})})},N4=()=>{const{updateRoute:e}=Je(),[n,s]=D.useState("signup"),o=it(),{settings:c,siteData:h,config:y}=et(),{mutateAsync:m}=as(),{data:{tiers:l}={}}=oo(),{mutateAsync:f}=Qf(),{mutateAsync:u}=T4(),{getParam:d}=r0(),g=d("verifyEmail");D.useEffect(()=>{g&&(async({token:se})=>{try{let{settings:ee}=await u({token:se});const[re]=bt(ee,["members_support_address"]);ke.show(St,{title:"Support address verified",prompt:a.jsxs(a.Fragment,{children:["Your support email address has been changed to ",a.jsx("strong",{children:re}),"."]}),okLabel:"Close",cancelLabel:"",onOk:Q=>Q?.remove()})}catch(ee){let re="There was an error verifying your email address. Please try again.";ee?.message==="Token expired"&&(re="Verification link has expired."),ke.show(St,{title:"Error verifying support address",prompt:re,okLabel:"Close",cancelLabel:"",onOk:Q=>Q?.remove()}),o(ee,{withToast:!1})}})({token:g})},[o,g,u]);const{formState:w,setFormState:_,saveState:k,handleSave:M,updateForm:T,okProps:A}=kr({initialState:{settings:c,tiers:l||[]},savingDelay:500,onSave:async()=>{await Promise.all(w.tiers.filter(({dirty:re})=>re).map(re=>f(re))),_(re=>({...re,tiers:w.tiers.map(Q=>({...Q,dirty:!1}))}));const q=w.settings.filter(re=>re.dirty);if(!q.length)return;const{meta:se,settings:ee}=await m(q);if(_(re=>({...re,settings:w.settings.map(Q=>({...Q,dirty:!1}))})),se?.sent_email_verification){const re=w.settings.find(ne=>ne.key==="members_support_address")?.value,Q=ee.find(ne=>ne.key==="support_email_address")?.value||Cf(ee.find(ne=>ne.key==="members_support_address")?.value?.toString()||"noreply",h,y);ke.show(St,{title:"Confirm email address",prompt:a.jsxs(a.Fragment,{children:["We've sent a confirmation email to ",a.jsx("strong",{children:re}),". Until verified, your support email address will remain ",Q,"."]}),okLabel:"Close",cancelLabel:"",onOk:ne=>ne?.remove()})}},onSaveError:o});D.useEffect(()=>{!w.tiers.length&&l?.length&&_(q=>({...q,tiers:l}))},[l,w.tiers,_]);const[C,R]=D.useState({}),$=(q,se)=>{T(ee=>({...ee,settings:ee.settings.map(re=>re.key===q?{...re,value:se,dirty:!0}:re)}))},B=(q,se)=>{R(ee=>({...ee,[q]:se}))},O=q=>{T(se=>({...se,tiers:se.tiers.map(ee=>ee.id===q.id?{...q,dirty:!0}:ee)}))},Z=q=>{s(q)},X=a.jsx(S4,{errors:C,localSettings:w.settings,localTiers:w.tiers,setError:B,updateSetting:$,updateTier:O}),G=a.jsx(M4,{localSettings:w.settings,localTiers:w.tiers,selectedTab:n});let W=[{id:"signup",title:"Signup"},{id:"account",title:"Account page"},{id:"links",title:"Links"}];return a.jsx(Qs,{afterClose:()=>{e("portal")},buttonsDisabled:A.disabled,cancelLabel:"Close",deviceSelector:!1,dirty:k==="unsaved",okColor:A.color,okLabel:A.label||"Save",preview:G,previewBgColor:n==="links"?"white":"greygradient",previewToolbarTabs:W,selectedURL:n,sidebar:X,testId:"portal-modal",title:"Portal",onOk:async()=>{Object.values(C).filter(Boolean).length||await M({force:!0})},onSelectURL:Z})},A4=ke.create(N4),I4=ke.create(()=>{const{updateRoute:e}=Je(),{localSettings:n,updateSetting:s,handleSave:o,validate:c,errors:h,clearError:y,okProps:m}=os({onValidate:()=>{const w={};return l&&!Nt.isURL(l,{require_protocol:!0})&&(w.slackUrl="The URL must be in a format like https://hooks.slack.com/services/<your personal key>"),w},savingDelay:500}),[l,f]=bt(n,["slack_url","slack_username"]),{mutateAsync:u}=y2(),d=async()=>{Ja.remove(),await o()&&(await u(null),gt({title:"Check your Slack channel for the test message",type:"info"}))},g=n.some(w=>w.dirty);return a.jsxs(_t,{afterClose:()=>{e("integrations")},cancelLabel:"Close",dirty:g,okColor:m.color,okLabel:m.label||"Save",testId:"slack-modal",title:"",onOk:async()=>{Ja.remove(),await o()},children:[a.jsx(lo,{detail:"A messaging app for teams",icon:a.jsx(ut,{name:"slack",size:56}),title:"Slack"}),a.jsx("div",{className:"mt-7",children:a.jsxs(rt,{marginBottom:!1,title:"Slack configuration",grouped:!0,children:[a.jsx(Ae,{error:!!h.slackUrl,hint:h.slackUrl||a.jsxs(a.Fragment,{children:["Automatically send newly published posts to a channel in Slack or any Slack-compatible service like Discord or Mattermost. Set up a new incoming webhook ",a.jsx("a",{href:"https://my.slack.com/apps/new/A0F7XDUAZ-incoming-webhooks",children:"here"}),", and grab the URL."]}),placeholder:"https://hooks.slack.com/services/...",title:"Webhook URL",value:l,onBlur:c,onChange:w=>s("slack_url",w.target.value),onKeyDown:()=>y("slackUrl")}),a.jsxs("div",{className:"flex w-full flex-col gap-2 md:flex-row md:items-center",children:[a.jsx(Ae,{containerClassName:"flex-grow",hint:"The username to display messages from",title:"Username",value:f,onChange:w=>s("slack_username",w.target.value)}),a.jsx(ze,{color:"outline",label:"Send test notification",onClick:d})]})]})})]})}),C4="/ghost/assets/stripe-thumb-Cu2h4McY.jpg",D4="/ghost/assets/orb-squircle-e1heFqOI.png",R4="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20style='enable-background:new%200%200%20400%20400'%20xml:space='preserve'%3e%3cpath%20style='fill-rule:evenodd;clip-rule:evenodd;fill:%23635bff'%20d='M0%200h400v400H0z'/%3e%3cpath%20d='M184.4%20155.5c0-9.4%207.7-13.1%2020.5-13.1%2018.4%200%2041.6%205.6%2060%2015.5v-56.8C244.8%2093.1%20225%2090%20205%2090c-49.1%200-81.7%2025.6-81.7%2068.4%200%2066.7%2091.9%2056.1%2091.9%2084.9%200%2011.1-9.7%2014.7-23.2%2014.7-20.1%200-45.7-8.2-66-19.3v57.5c22.5%209.7%2045.2%2013.8%2066%2013.8%2050.3%200%2084.9-24.9%2084.9-68.2-.4-72-92.5-59.2-92.5-86.3z'%20style='fill-rule:evenodd;clip-rule:evenodd;fill:%23fff'/%3e%3c/svg%3e",Zf=1e3,O4=15*Zf,$4=({onNext:e})=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(xt,{level:3,children:"Getting paid"}),a.jsx(ut,{name:"stripe-verified"})]}),a.jsxs("div",{className:"mb-7 mt-6",children:["Stripe is our exclusive direct payments partner. Ghost collects ",a.jsx("strong",{children:"no fees"})," on any payments! If you dont have a Stripe account yet, you can ",a.jsx("a",{className:"underline",href:"https://stripe.com",rel:"noopener noreferrer",target:"_blank",children:"sign up here"}),"."]}),a.jsx(f0,{label:a.jsx(a.Fragment,{children:"I have a Stripe account, let's go "}),onClick:e})]}),P4=()=>{const[e,n]=D.useState(!1),[s,o]=D.useState(""),[c,h]=D.useState(!1),[y,m]=D.useState(""),{refetch:l}=oo({searchParams:{filter:"type:paid+active:true"},enabled:!1}),{mutateAsync:f}=Qf(),{mutateAsync:u}=as(),d=it(),g=T=>{o(T.target.value),n(!!T.target.value)},w=async()=>{const{data:T}=await l(),A=T?.pages[0].tiers[0];if(A){A.monthly_price=500,A.yearly_price=5e3,A.currency="USD";let C=0;for(;C<O4;){await new Promise(R=>{setTimeout(R,Zf)});try{await f(A);break}catch(R){if(R instanceof ts&&R.data?.errors?.[0].code==="STRIPE_NOT_CONFIGURED"){C+=Zf;continue}else{d(R);return}}}}},_=async()=>{if(m(""),s)try{await u([{key:"stripe_connect_integration_token",value:s}]),await w(),await u([{key:"portal_plans",value:JSON.stringify(["free","monthly","yearly"])}])}catch(T){if(T instanceof ts&&T.data?.errors){m("Invalid secure key");return}else{d(T);return}}else m("Please enter a secure key")},{apiRoot:k}=rl(),M=`${k}/members/stripe_connect?mode=${c?"test":"live"}`;return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[a.jsx(xt,{level:3,children:"Connect with Stripe"}),a.jsx(ot,{direction:"rtl",label:"Test mode",labelClasses:`text-sm translate-y-[1px] ${c?"text-[#EC6803]":"text-grey-800"}`,toggleBg:"stripetest",onChange:T=>h(T.target.checked)})]}),a.jsxs(xt,{level:6,grey:!0,children:["Step 1  ",a.jsx("span",{className:"text-black dark:text-white",children:"Generate secure key"})]}),a.jsxs("div",{className:"mb-4 mt-2",children:["Click on the ",a.jsx("strong",{children:"Connect with Stripe"})," button to generate a secure key that connects your Ghost site with Stripe."]}),a.jsx(f0,{href:M,tag:"a",target:"_blank"}),a.jsxs(xt,{className:"mb-2 mt-8",level:6,grey:!0,children:["Step 2  ",a.jsx("span",{className:"text-black dark:text-white",children:"Paste secure key"})]}),a.jsx($n,{error:!!y,hint:y||void 0,placeholder:"Paste your secure key here",onChange:g}),e&&a.jsx(ze,{className:"mt-5",color:"green",label:"Save Stripe settings",onClick:_})]})},L4=({onClose:e})=>{const{settings:n}=et(),[s,o]=bt(n,["stripe_connect_display_name","stripe_connect_livemode"]),{refetch:c,isFetching:h}=Xg({searchParams:{filter:"status:paid",limit:"0"},enabled:!1}),{mutateAsync:y}=_2(),m=it(),l=async()=>{const{data:f}=await c(),u=!!f?.meta?.pagination.total;ke.show(St,{title:"Disconnect Stripe",prompt:u?"Cannot disconnect while there are members with active Stripe subscriptions.":a.jsxs(a.Fragment,{children:["Youre about to disconnect your Stripe account ",s," from this site. This will automatically turn off paid memberships on this site."]}),okLabel:u?"":"Disconnect",onOk:async d=>{try{await y(null),d?.remove(),e?.()}catch(g){m(g)}}})};return a.jsxs("section",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ze,{color:"red",disabled:h,icon:"link-broken",iconColorClass:"text-red",label:"Disconnect",link:!0,onClick:l}),a.jsx(ze,{icon:"close",iconColorClass:"dark:text-white",label:"Close",size:"sm",hideLabel:!0,link:!0,onClick:e})]}),a.jsxs("div",{className:"my-20 flex flex-col items-center",children:[a.jsxs("div",{className:"relative h-20 w-[200px]",children:[a.jsx("img",{alt:"Ghost Logo",className:"absolute left-10 size-16",src:D4}),a.jsx("img",{alt:"Stripe Logo",className:"absolute right-10 size-16 rounded-2xl shadow-[-1.5px_0_0_1.5px_#fff] dark:shadow-[-1.5px_0_0_1.5px_black]",src:R4})]}),a.jsxs(xt,{className:"text-center",level:3,children:["You are connected with Stripe!",o?null:" (Test mode)"]}),a.jsxs("div",{className:"mt-1",children:["Connected to ",a.jsx("strong",{children:s||"Test mode"})]})]}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(xt,{level:6,children:"Read next"}),a.jsxs("a",{className:"w-100 mt-5 flex flex-col items-stretch justify-between rounded-sm border border-grey-200 transition-all hover:border-grey-400 md:flex-row dark:border-grey-900",href:"https://ghost.org/resources/managing-your-stripe-account/?ref=admin",rel:"noopener noreferrer",target:"_blank",children:[a.jsxs("div",{className:"order-2 p-4 md:order-1",children:[a.jsx("div",{className:"font-bold",children:"How to setup and manage your Stripe account"}),a.jsx("div",{className:"mt-1 text-sm text-grey-800 dark:text-grey-500",children:"Learn how to configure your Stripe account to work with Ghost, from custom branding to payment receipt emails."}),a.jsxs("div",{className:"mt-3 flex items-center gap-1 text-sm text-grey-800 dark:text-grey-500",children:[a.jsx("img",{alt:"Ghost Logo",className:"size-4",src:k2}),a.jsx("strong",{children:"Ghost Resources"}),a.jsx("span",{children:""}),a.jsx("span",{children:"by Kym Ellis"})]})]}),a.jsx("div",{className:"order-1 hidden w-[200px] shrink-0 items-center justify-center overflow-hidden md:!visible md:order-2 md:!flex",children:a.jsx("img",{alt:"Bookmark Thumb",className:"min-h-full min-w-full shrink-0",src:C4})})]})]})]})},F4=({onClose:e})=>{const{localSettings:n,updateSetting:s,handleSave:o,saveState:c}=os(),[h,y]=bt(n,["stripe_publishable_key","stripe_secret_key"]),m=async()=>{try{M2.remove(),await o(),e()}catch(l){if(l instanceof ts){gt({title:"Failed to save settings",type:"error",message:"Check you copied both keys correctly"});return}throw l}};return a.jsxs("div",{children:[a.jsx(xt,{level:3,children:"Connect Stripe"}),a.jsxs(rt,{marginBottom:!1,marginTop:!0,children:[a.jsx(Ae,{title:"Publishable key",value:h?.toString(),onChange:l=>s("stripe_publishable_key",l.target.value)}),a.jsx(Ae,{title:"Secure key",value:y?.toString(),onChange:l=>s("stripe_secret_key",l.target.value)}),a.jsx(ze,{className:"mt-5",color:"green",disabled:c==="saving",label:"Save Stripe settings",onClick:m})]})]})},z4=()=>{const{config:e,settings:n}=et(),s=dr(n,"stripe_connect_account_id"),{updateRoute:o}=Je(),[c,h]=D.useState("start"),y=Zt(),m=Xs(),l=Ys(n,e),f=m?.isDisabled("limitStripeConnect");D.useEffect(()=>{(async()=>{if(f&&!l)try{await m?.errorIfWouldGoOverLimit("limitStripeConnect")}catch(_){_ instanceof Ks&&(y.remove(),ke.show(Xr,{prompt:_.message||"Your current plan doesn't support Stripe Connect.",onOk:()=>o({route:"/pro",isExternal:!0})}))}})()},[m,y,o,l,f]);const u=()=>{h("connect")},d=()=>{y.remove(),o("tiers")};let g;return e?.stripeDirect||Ys(n||[],e||{})&&!s?g=a.jsx(F4,{onClose:d}):s?g=a.jsx(L4,{onClose:d}):c==="start"?g=a.jsx($4,{onNext:u}):g=a.jsx(P4,{}),a.jsx(_t,{afterClose:()=>{o("tiers")},cancelLabel:"",footer:a.jsx("div",{className:"mt-8"}),testId:"stripe-modal",title:"",width:s?740:520,hideXOnMobile:!0,children:g})},U4=ke.create(z4),H4="/ghost/assets/ali-abdaal-C_tOLbSs.png",B4="/ghost/assets/isaac-saul-DhERrV-4.png",W4="/ghost/assets/joel-warner-CHe_ZipQ.png",q4=ke.create(()=>{const{updateRoute:e}=Je(),n=it(),s=Zt(),{settings:o,currentUser:c,siteData:h,config:y}=et(),m=y.exploreTestimonialsUrl,l=h.site_uuid,[f]=bt(o,["title"]),u=c.name,d=c.email,g=c.roles[0].name,w=c.profile_image,{formState:_,updateForm:k,saveState:M,handleSave:T,errors:A,clearError:C}=kr({initialState:{content:"",prev_platform:""},onSave:async()=>{const $=["none","other",""].includes(_.prev_platform)?void 0:_.prev_platform,B={ghost_uuid:l,staff_user_email:d,content:_.content,prev_platform:$};if(!m)throw new Error("Something went wrong, please try again later.");if(!(await fetch(m,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(B)})).ok)throw new Error("Something went wrong, please try again later.");gt({message:"Thank you for your testimonial!",type:"success"}),e("explore"),s.remove()},onSaveError:n,onValidate:()=>{const $={};return _.content.trim()||($.content="This field is required"),$}}),R=[{value:"none",label:"None -This is a new site"},{value:"substack",label:"Substack"},{value:"beehiiv",label:"BeeHiiv"},{value:"wordpress",label:"WordPress"},{value:"newspack",label:"Newspack"},{value:"medium",label:"Medium"},{value:"squarespace",label:"Squarespace"},{value:"wix",label:"Wix"},{value:"patreon",label:"Patreon"},{value:"memberful",label:"Memberful"},{value:"other",label:"Other"}];return a.jsx(_t,{afterClose:()=>{e("explore")},cancelLabel:"",footer:!1,padding:!1,testId:"explore-testimonials-modal",title:"",topRightContent:"close",width:920,children:a.jsx(rt,{className:"!mb-0",children:a.jsxs("div",{className:"flex items-stretch",children:[a.jsxs("div",{className:"hidden w-full flex-col justify-between bg-gradient-to-tl from-grey-100/50 to-grey-100/80 p-8 dark:from-grey-900/40 dark:to-grey-900/60 [@media(min-width:905px)]:!visible [@media(min-width:905px)]:!flex",children:[a.jsxs("div",{className:"pr-6",children:[a.jsx("div",{className:"relative rounded-xl bg-white px-3 py-2.5 italic text-grey-700 shadow-lg before:absolute before:-bottom-1.5 before:left-5 before:block before:size-3 before:rotate-45 before:bg-white dark:bg-black dark:text-grey-300 before:dark:bg-black",children:"Moving to Ghost has proven to be one of the best business decisions weve made as an independent media outlet."}),a.jsxs("div",{className:"ml-2 mt-[14px] flex items-center gap-2 text-sm",children:[a.jsx("div",{className:"size-9 rounded-full bg-white bg-cover bg-center opacity-90 grayscale",style:{backgroundImage:`url(${W4})`}}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-black dark:text-white",children:"Joel Warner"}),a.jsx("div",{className:"-mt-0.5 text-grey-700",children:"Lever News"})]})]})]}),a.jsxs("div",{className:"ml-6 mt-8",children:[a.jsx("div",{className:"relative rounded-xl bg-white px-3 py-2.5 italic text-grey-700 shadow-lg before:absolute before:-bottom-1.5 before:right-5 before:block before:size-3 before:rotate-45 before:bg-white dark:bg-black dark:text-grey-300 before:dark:bg-black",children:"It has now been one year since I quit my full-time job to go all in on Tangle. Today, we have 50,000+ paying subscribers. Thats roughly $5M in gross yearly revenue ... its the best paying job Ive ever had."}),a.jsxs("div",{className:"mr-2 mt-[14px] flex items-center justify-end gap-2 text-sm",children:[a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("div",{className:"font-medium text-black dark:text-white",children:"Isaac Saul"}),a.jsx("div",{className:"-mt-0.5 text-grey-700",children:"Tangle"})]}),a.jsx("div",{className:"size-9 rounded-full bg-white bg-cover bg-center opacity-90 grayscale",style:{backgroundImage:`url(${B4})`}})]})]}),a.jsxs("div",{className:"mt-8 hidden pr-6 [@media(min-width:940px)]:!visible [@media(min-width:940px)]:!block",children:[a.jsx("div",{className:"relative rounded-xl bg-white px-3 py-2.5 italic text-grey-700 shadow-lg before:absolute before:-bottom-1.5 before:left-5 before:block before:size-3 before:rotate-45 before:bg-white dark:bg-black dark:text-grey-300 before:dark:bg-black",children:"You should be using Ghost because its absolutely amazing and I love it. Its what Ive been using for all my sites since 2016."}),a.jsxs("div",{className:"ml-2 mt-[14px] flex items-center gap-2 text-sm",children:[a.jsx("div",{className:"size-9 rounded-full bg-white bg-cover bg-center opacity-90 grayscale",style:{backgroundImage:`url(${H4})`}}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-black dark:text-white",children:"Ali Abdaal"}),a.jsx("div",{className:"-mt-0.5 text-grey-700",children:"YouTuber"})]})]})]})]}),a.jsxs("div",{className:"flex grow flex-col justify-between gap-6 p-8 [@media(min-width:905px)]:min-w-[520px] [@media(min-width:940px)]:min-w-[460px]",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex size-[60px] items-center justify-center rounded-full bg-gradient-to-t from-[#CFB0FF] to-[#B27EFF]",children:a.jsx("svg",{fill:"none",height:"26",viewBox:"0 0 32 26",width:"32",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M19.9967 26L18.1562 21.4542C23.4268 19.1176 25.7693 16.5261 26.2712 11.7255C25.5183 12.3627 24.5562 12.7026 23.3431 12.7026C20.1641 12.7026 17.4869 10.1536 17.4869 6.41503C17.4869 2.80392 20.3732 9.72736e-07 24.2634 6.32644e-07C28.2791 2.81581e-07 31.5 3.10131 31.5 8.96405C31.5 17.5458 27.4425 23.0261 19.9967 26ZM3.0098 26L1.12745 21.4543C6.43987 19.1176 8.78235 16.5261 9.24248 11.7255C8.53137 12.3627 7.56928 12.7026 6.35621 12.7026C3.17712 12.7026 0.499999 10.1536 0.499998 6.41504C0.499998 2.80393 3.38627 2.45778e-06 7.23464 2.12135e-06C11.2503 1.77028e-06 14.5131 3.10131 14.5131 8.96405C14.5131 17.5458 10.4556 23.0261 3.0098 26Z",fill:"white"})})}),a.jsxs("div",{className:"mt-6",children:[a.jsx("div",{className:"text-2xl font-semibold tracking-tight",children:"A quote about Ghost"}),a.jsx("div",{className:"mt-2 text-pretty",children:"We feature quotes from publishers  to showcase their work, including a logo and a link! If you'd like to be included, share a quote we can use to highlight you."})]}),a.jsx("div",{className:"mt-8",children:a.jsx($n,{error:!!A.content,hint:A.content,placeholder:"What changed for the better since you switched to Ghost?",rows:7,value:_.content,autoFocus:!0,onChange:$=>k(B=>({...B,content:$.target.value})),onKeyDown:()=>C("content")})}),a.jsx("div",{className:"ml-0.5 mt-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(s0,{bgColor:o0(u||d),image:w??void 0,label:a0(u),labelColor:"white",size:"md"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:"text-sm font-medium",children:["By ",u||d]}),a.jsxs("span",{className:"text-xs text-grey-700",children:[g,"  ",f]})]})]})})]}),a.jsx("div",{children:a.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[a.jsx("div",{className:"grow",children:a.jsx(Pt,{error:!!A.prev_platform,hint:A.prev_platform,options:R,placeholder:"Previous platform",selectedOption:R.find($=>$.value===_.prev_platform),testId:"migrated-from",onSelect:$=>{k(B=>({...B,prev_platform:$?.value||""})),C("prev_platform")}})}),a.jsx(ze,{className:"!h-[38px] rounded-lg",color:"black",disabled:M==="saving",label:"Send testimonial",loading:M==="saving",onClick:async()=>{await T()}})]})})]})]})})})}),Y4=ke.create(()=>{const{updateRoute:e}=Je(),{settings:n}=et(),[s]=bt(n,["unsplash"]),{mutateAsync:o}=as(),c=it(),[h,y]=D.useState("Save"),[m,l]=D.useState(!!s);D.useEffect(()=>{l(s||!1)},[s]);const f=async()=>{const d=[{key:"unsplash",value:m}];try{y("Saving..."),await Promise.all([o(d),new Promise(g=>{setTimeout(g,1e3)})]),y("Saved")}catch(g){c(g)}finally{setTimeout(()=>y("Save"),1e3)}},u=m!==s;return a.jsxs(_t,{afterClose:()=>{e("integrations")},cancelLabel:"Close",dirty:u,okColor:h==="Saved"?"green":"black",okLabel:h,testId:"unsplash-modal",title:"",onOk:f,children:[a.jsx(lo,{detail:"Beautiful, free photos",icon:a.jsx(ut,{name:"unsplash",size:48}),title:"Unsplash"}),a.jsx("div",{className:"mt-7",children:a.jsx(rt,{marginBottom:!1,grouped:!0,children:a.jsx(ot,{checked:m,direction:"rtl",hint:a.jsxs(a.Fragment,{children:["Enable ",a.jsx("a",{className:"text-green",href:"https://unsplash.com",rel:"noopener noreferrer",target:"_blank",children:"Unsplash"})," image integration for your posts"]}),label:"Enable Unsplash",onChange:d=>{l(d.target.checked)}})})})]})}),G4=({user:e,setUserData:n})=>{const{config:s,settings:o}=et(),c=j2("webmentions"),h=Ys(o||[],s||{});return a.jsxs(id,{children:[a.jsx(ot,{checked:e.comment_notifications,direction:"rtl",hint:"Every time a member comments on one of your posts",label:"Comments",onChange:y=>{n?.({...e,comment_notifications:y.target.checked})}}),Xi(e)&&a.jsxs(a.Fragment,{children:[c&&a.jsx(ot,{checked:e.mention_notifications,direction:"rtl",hint:"Every time another site links to your work",label:"Mentions",onChange:y=>{n?.({...e,mention_notifications:y.target.checked})}}),a.jsx(ot,{checked:e.recommendation_notifications,direction:"rtl",hint:"Every time another publisher recommends you to their audience",label:"Recommendations",onChange:y=>{n?.({...e,recommendation_notifications:y.target.checked})}}),a.jsx(ot,{checked:e.free_member_signup_notification,direction:"rtl",hint:"Every time a new free member signs up",label:"New signups",onChange:y=>{n?.({...e,free_member_signup_notification:y.target.checked})}}),h&&a.jsxs(a.Fragment,{children:[a.jsx(ot,{checked:e.paid_subscription_started_notification,direction:"rtl",hint:"Every time a member starts a new paid subscription",label:"New paid members",onChange:y=>{n?.({...e,paid_subscription_started_notification:y.target.checked})}}),a.jsx(ot,{checked:e.paid_subscription_canceled_notification,direction:"rtl",hint:"Every time a member cancels their paid subscription",label:"Paid member cancellations",onChange:y=>{n?.({...e,paid_subscription_canceled_notification:y.target.checked})}})]}),a.jsx(ot,{checked:e.milestone_notifications,direction:"rtl",hint:h?"Occasional summaries of your audience & revenue growth":"Occasional summaries of your audience growth",label:"Milestones",onChange:y=>{n?.({...e,milestone_notifications:y.target.checked})}}),h&&a.jsx(ot,{checked:e.donation_notifications,direction:"rtl",hint:"Every time you receive a one-time payment",label:"Tips & donations",onChange:y=>{n?.({...e,donation_notifications:y.target.checked})}})]})]})},X4=({user:e,setUserData:n})=>a.jsx(od,{border:!1,children:a.jsx(G4,{setUserData:n,user:e})}),K4=["1234567890","qwertyuiop","qwertzuiop","asdfghjkl;","abcdefghij","0987654321","1q2w3e4r5t","12345asdfg"],Z4=["ghost","password","passw0rd"],V4=e=>{let n={},s,o=!0;s=e.length/2;for(let c=0;c<e.length;c+=1)n[e[c]]?n[e[c]]+=1:n[e[c]]=1;for(let c in n)if(n[c]>=s)return o=!1,o;return o},Q4=({user:e})=>{const{currentUser:n,config:s,siteData:o}=et(),[c,h]=D.useState(!1),[y,m]=D.useState(""),[l,f]=D.useState(""),[u,d]=D.useState(""),[g,w]=D.useState(""),[_,k]=D.useState({}),M=D.useRef(null),T=D.useRef(null),A=D.useRef(null),{mutateAsync:C}=E2(),R=it(),$=e.id===n.id,B=({password:W,confirmPassword:q})=>{if($&&!y)return{oldPassword:"Your current password is required to set a new one"};if(W!==q)return{newPassword:"Your new passwords do not match",confirmNewPassword:"Your new passwords do not match"};let se=s.blogUrl||window.location.host,ee=o.title,re;if(se=se.replace(/^http(s?):\/\//,""),re=se.match(/\/$/)?se:`${se}/`,ee=ee&&ee.trim().toLowerCase(),W.length<10)return{newPassword:"Password must be at least 10 characters long."};W=W.toString();for(const Q of K4)if(Q===W)return{newPassword:"Sorry, you cannot use an insecure password."};if(W.toLowerCase()===e.email.toLowerCase())return{newPassword:"Sorry, you cannot use an insecure password."};for(const Q of Z4)if(W.toLowerCase().indexOf(Q)>=0)return{newPassword:"Sorry, you cannot use an insecure password."};return W.toLowerCase()===ee?{newPassword:"Sorry, you cannot use an insecure password."}:W.toLowerCase()===se||W.toLowerCase()===re?{newPassword:"Sorry, you cannot use an insecure password."}:V4(W)?{}:{newPassword:"Sorry, you cannot use an insecure password."}};D.useEffect(()=>{g==="saved"&&setTimeout(()=>{w(""),h(!1)},2500)},[g]),D.useEffect(()=>{c&&setTimeout(()=>{$?A.current?.focus():M.current?.focus()},100)},[c,$]);const O=()=>{h(!0)};let Z="Save password";g==="saving"?Z="Saving...":g==="saved"&&(Z="Saved");const X=a.jsxs(a.Fragment,{children:[$&&a.jsx(Ae,{"data-testid":"old-password",error:!!_.oldPassword,hint:_.oldPassword,inputRef:A,title:"Old password",type:"password",value:y,onChange:W=>{m(W.target.value)}}),a.jsx(Ae,{"data-testid":"new-password",error:!!_.newPassword,hint:_.newPassword,inputRef:M,title:"New password",type:"password",value:l,onChange:W=>{f(W.target.value)}}),a.jsx(Ae,{"data-testid":"confirm-password",error:!!_.confirmNewPassword,hint:_.confirmNewPassword,inputRef:T,title:"Confirm new password",type:"password",value:u,onChange:W=>{d(W.target.value)}}),a.jsxs("div",{className:"mt-1 flex items-center justify-end gap-3",children:[a.jsx(ze,{color:"outline",label:"Cancel",onClick:()=>{h(!1),m(""),f(""),d(""),k({})}}),a.jsx(ze,{color:"green","data-testid":"save-password-button",label:Z,onClick:async()=>{w("saving");const W=B({password:l,confirmPassword:u});if(k(W),Object.keys(W).length>0){w("");return}try{await C({newPassword:l,confirmNewPassword:u,oldPassword:y,userId:e?.id}),w("saved")}catch(q){w(""),gt({type:"error",title:q instanceof T2?q.message:"Couldn't update password. Please try again."}),R(q,{withToast:!1})}}})]})]}),G=a.jsxs("div",{className:"relative flex flex-col",children:[a.jsx(Ae,{containerClassName:"grow",disabled:!0,title:"Password",type:"password",value:""}),a.jsx(ze,{className:"absolute right-0 top-0",color:"green","data-testid":"change-password-button",label:"Change",link:!0,onClick:O})]});return a.jsx(a.Fragment,{children:c?X:G})},J4=({user:e,setUserData:n})=>{const{data:{roles:s}={}}=If(),{config:o}=et(),c=o.labs.superEditors;let h=[{hint:"Can write and edit their own posts, but cannot publish them.",label:"Contributor",value:"contributor"},{hint:"Can create, edit and publish their own posts, but cant modify others.",label:"Author",value:"author"},{hint:"Can edit and publish any posts, and manage Authors and Contributors.",label:"Editor",value:"editor"},{hint:"Trusted user who has full access to all content, settings, and user management.",label:"Administrator",value:"administrator"}];if(c&&(h=h.map(y=>y.value==="editor"?{...y,label:"Editor (beta mode)",value:"super editor",hint:"Can invite and manage other Authors and Contributors, as well as edit and publish any posts on the site. Can manage members and moderate comments."}:y)),Df(e)){const y={label:"Owner",value:"owner"};return a.jsx("div",{children:a.jsx(Pt,{disabled:!0,hint:a.jsxs(a.Fragment,{children:["This user is the owner of the site. ",a.jsx("a",{className:"font-medium text-grey-800 transition-colors hover:text-grey-900 dark:text-grey-500 dark:hover:text-grey-400",href:"https://ghost.org/help/transfer-publication-ownership/",rel:"noopener noreferrer",target:"_blank",children:"Transfer ownership"})," first to change their role."]}),options:[y],selectedOption:y,title:"Role",onSelect:()=>{}})})}return a.jsx(Pt,{options:h,selectedOption:h.find(y=>y.value===e.roles[0].name.toLowerCase()),testId:"role-select",title:"Role",onSelect:y=>{if(y){const m=s?.find(l=>l.name.toLowerCase()===y.value.toLowerCase());m&&n?.({...e,roles:[m]})}}})},eT="StaffTokenResponseType",tT=S2({dataType:eT,path:"/users/me/token/"}),rT=ss({path:()=>"/users/me/token/",method:"PUT"}),nT=()=>{const{refetch:e}=tT({enabled:!1}),n=it(),[s,o]=D.useState(""),{mutateAsync:c}=rT();D.useEffect(()=>{(async()=>{const m=await e();m?.data?.apiKey&&o(`${m.data.apiKey.id}:${m.data.apiKey.secret}`)})()},[e]);const h=()=>{ke.show(St,{title:"Regenerate your Staff Access Token",prompt:"You can regenerate your Staff Access Token any time, but any scripts or applications using it will need to be updated.",okLabel:"Regenerate your Staff Access Token",okColor:"red",onOk:async y=>{try{const m=await c([]);o(`${m.apiKey.id}:${m.apiKey.secret}`),y?.remove()}catch(m){n(m)}}})};return a.jsxs("div",{children:[a.jsx(xt,{className:"mb-2",level:6,grey:!0,children:"Staff access token"}),a.jsx(hd,{hasLabel:!1,keys:[{text:s||"",onRegenerate:h}]})]})},sT=({errors:e,clearError:n,user:s,setUserData:o})=>{const{currentUser:c}=et();return a.jsxs(id,{children:[a.jsx(Ae,{error:!!e?.email,hint:e?.email||"Used for notifications",maxLength:191,title:"Email",value:s.email,onChange:h=>{o({...s,email:h.target.value})},onKeyDown:()=>n("email")}),a.jsx(Q4,{user:s}),Xi(c)&&a.jsx(J4,{setUserData:o,user:s}),a.jsx(Ae,{error:!!e?.name,hint:e?.name||"Use your real name so people can recognize you",maxLength:191,title:"Full name",value:s.name,onChange:h=>{o({...s,name:h.target.value})},onKeyDown:()=>n("name")}),a.jsx(Ae,{hint:`https://example.com/author/${s.slug}`,maxLength:191,title:"Slug",value:s.slug,onChange:h=>{o({...s,slug:h.target.value})}}),a.jsx(Ae,{error:!!e?.location,hint:e?.location||"Where in the world do you live?",maxLength:65535,title:"Location",value:s.location||"",onChange:h=>{o({...s,location:h.target.value})},onKeyDown:()=>n("location")}),a.jsx($n,{error:!!e?.bio,hint:e?.bio||a.jsxs(a.Fragment,{children:["Recommended: 250 characters. Youve used ",a.jsx("span",{className:"font-bold",children:s.bio?.length||0})]}),maxLength:65535,title:"Bio",value:s.bio||"",onChange:h=>{o({...s,bio:h.target.value})},onKeyDown:()=>n("bio")}),s.id===c.id&&a.jsx(nT,{})]})},aT=e=>a.jsx(od,{border:!1,children:a.jsx(sT,{...e})}),oT=({errors:e,clearError:n,validateField:s,user:o,setUserData:c})=>{const[h,y]=D.useState(o.facebook?N2(o.facebook):""),[m,l]=D.useState(o.twitter?A2(o.twitter):""),[f,u]=D.useState(o.threads?vM(o.threads):""),[d,g]=D.useState(o.bluesky?yM(o.bluesky):""),[w,_]=D.useState(o.linkedin?EM(o.linkedin):""),[k,M]=D.useState(o.instagram?SM(o.instagram):""),[T,A]=D.useState(o.youtube?AM(o.youtube):""),[C,R]=D.useState(o.tiktok?CM(o.tiktok):""),[$,B]=D.useState(o.mastodon?RM(o.mastodon):"");return a.jsxs(id,{children:[a.jsx(Ae,{"data-testid":"website-input",error:!!e?.website,hint:e?.website,maxLength:2e3,placeholder:"https://example.com",title:"Website",value:o.website||"",onChange:O=>{c({...o,website:O.target.value})},onKeyDown:()=>n("url")}),a.jsx(Ae,{"data-testid":"x-input",error:!!e?.twitter,hint:e?.twitter,maxLength:2e3,placeholder:"https://x.com/username",title:"X",value:m,onBlur:O=>{if(s("twitter",O.target.value)){const Z=d0(O.target.value);l(Z),c({...o,twitter:I2(Z)})}},onChange:O=>{l(O.target.value)},onKeyDown:()=>n("twitter")}),a.jsx(Ae,{"data-testid":"facebook-input",error:!!e?.facebook,hint:e?.facebook,maxLength:2e3,placeholder:"https://www.facebook.com/username",title:"Facebook",value:h,onBlur:O=>{if(s("facebook",O.target.value)){const Z=p0(O.target.value);y(Z),c({...o,facebook:C2(Z)})}},onChange:O=>{y(O.target.value)},onKeyDown:()=>n("facebook")}),a.jsx(Ae,{"data-testid":"linkedin-input",error:!!e?.linkedin,hint:e?.linkedin,maxLength:2e3,placeholder:"https://www.linkedin.com/in/username",title:"LinkedIn",value:w,onBlur:O=>{if(s("linkedin",O.target.value)){const Z=cb(O.target.value);_(Z),c({...o,linkedin:TM(Z)})}},onChange:O=>{_(O.target.value)},onKeyDown:()=>n("linkedin")}),a.jsx(Ae,{"data-testid":"bluesky-input",error:!!e?.bluesky,hint:e?.bluesky,maxLength:2e3,placeholder:"https://bsky.app/profile/username",title:"Bluesky",value:d,onBlur:O=>{if(s("bluesky",O.target.value)){const Z=sb(O.target.value);g(Z),c({...o,bluesky:_M(Z)})}},onChange:O=>{g(O.target.value)},onKeyDown:()=>n("bluesky")}),a.jsx(Ae,{"data-testid":"threads-input",error:!!e?.threads,hint:e?.threads,maxLength:2e3,placeholder:"https://threads.net/@username",title:"Threads",value:f,onBlur:O=>{if(s("threads",O.target.value)){const Z=rb(O.target.value);u(Z),c({...o,threads:wM(Z)})}},onChange:O=>{u(O.target.value)},onKeyDown:()=>n("threads")}),a.jsx(Ae,{"data-testid":"mastodon-input",error:!!e?.mastodon,hint:e?.mastodon,maxLength:2e3,placeholder:"https://mastodon.social/@username",title:"Mastodon",value:$,onBlur:O=>{if(s("mastodon",O.target.value)){const Z=pb(O.target.value);B(Z),c({...o,mastodon:OM(Z)})}},onChange:O=>{B(O.target.value)},onKeyDown:()=>n("mastodon")}),a.jsx(Ae,{"data-testid":"tiktok-input",error:!!e?.tiktok,hint:e?.tiktok,maxLength:2e3,placeholder:"https://www.tiktok.com/@username",title:"TikTok",value:C,onBlur:O=>{if(s("tiktok",O.target.value)){const Z=db(O.target.value);R(Z),c({...o,tiktok:DM(Z)})}},onChange:O=>{R(O.target.value)},onKeyDown:()=>n("tiktok")}),a.jsx(Ae,{"data-testid":"youtube-input",error:!!e?.youtube,hint:e?.youtube,maxLength:2e3,placeholder:"https://www.youtube.com/@channel",title:"YouTube",value:T,onBlur:O=>{if(s("youtube",O.target.value)){const Z=fb(O.target.value);A(Z),c({...o,youtube:IM(Z)})}},onChange:O=>{A(O.target.value)},onKeyDown:()=>n("youtube")}),a.jsx(Ae,{"data-testid":"instagram-input",error:!!e?.instagram,hint:e?.instagram,maxLength:2e3,placeholder:"https://www.instagram.com/username",title:"Instagram",value:k,onBlur:O=>{if(s("instagram",O.target.value)){const Z=ub(O.target.value);M(Z),c({...o,instagram:NM(Z)})}},onChange:O=>{M(O.target.value)},onKeyDown:()=>n("instagram")})]})},iT=e=>a.jsx(od,{border:!1,children:a.jsx(oT,{...e})}),Pg={name:({name:e})=>{let n="";return e||(n="Name is required"),e&&e.length>191&&(n="Name is too long"),n},email:({email:e})=>Nt.isEmail(e||"")?"":"Enter a valid email address",url:({url:e})=>!e||Nt.isURL(e,{require_tld:!1})?"":"Enter a valid URL",bio:({bio:e})=>!e||e.length<=250?"":"Bio is too long",location:({location:e})=>!e||e.length<=150?"":"Location is too long",website:({website:e})=>!e||Nt.isURL(e)&&e.length<=2e3?"":"Enter a valid URL",facebook:({facebook:e})=>{try{return p0(e||""),""}catch(n){return n instanceof Error?n.message:""}},twitter:({twitter:e})=>{try{return d0(e||""),""}catch(n){return n instanceof Error?n.message:""}},threads:({threads:e})=>{try{return rb(e||""),""}catch(n){return n instanceof Error?n.message:""}},bluesky:({bluesky:e})=>{try{return sb(e||""),""}catch(n){return n instanceof Error?n.message:""}},linkedin:({linkedin:e})=>{try{return cb(e||""),""}catch(n){return n instanceof Error?n.message:""}},instagram:({instagram:e})=>{try{return ub(e||""),""}catch(n){return n instanceof Error?n.message:""}},youtube:({youtube:e})=>{try{return fb(e||""),""}catch(n){return n instanceof Error?n.message:""}},tiktok:({tiktok:e})=>{try{return db(e||""),""}catch(n){return n instanceof Error?n.message:""}},mastodon:({mastodon:e})=>{try{return pb(e||""),""}catch(n){return n instanceof Error?n.message:""}}},lT=({user:e})=>{const{updateRoute:n,route:s}=Je(),o=P=>{const J=P.split("/").pop()||"";return J==="social-links"||J==="email-notifications"?J:"profile"},{ownerUser:c}=R2(),{currentUser:h}=et(),y=it(),{formState:m,setFormState:l,saveState:f,handleSave:u,updateForm:d,errors:g,setErrors:w,clearError:_,okProps:k}=kr({initialState:e,savingDelay:500,savedDelay:500,onValidate:P=>Object.entries(Pg).reduce((J,[be,Te])=>{const De=Te(P);return De&&(J[be]=De),J},{}),onSave:async P=>{await R?.(P)},onSaveError:y}),M=P=>d(()=>P),T=(P,J)=>{const be=Pg[P]?.({[P]:J});return be?(w({...g,[P]:be}),!1):(_(P),!0)},A=Zt(),{mutateAsync:C}=Zs(),{mutateAsync:R}=O2(),{mutateAsync:$}=$2(),{mutateAsync:B}=P2(),O=Xs(),Z=e0(),X=D.useCallback(()=>{Nn(h)?n("staff"):n({isExternal:!0,route:""})},[h,n]),G=async P=>{if(P.status==="inactive"&&P.roles[0].name!=="Contributor")try{await O?.errorIfWouldGoOverLimit("staff")}catch(be){if(be instanceof Ks){ke.show(Xr,{formSheet:!0,prompt:be.message||"Your current plan doesn't support more users.",onOk:()=>n({route:"/pro",isExternal:!0})});return}else throw be}let J="This user will no longer be able to log in but their posts will be kept.";P.status==="inactive"&&(J="This user will be able to log in again and will have the same permissions they had previously."),ke.show(St,{title:"Are you sure you want to suspend this user?",prompt:a.jsxs(a.Fragment,{children:[a.jsx("strong",{children:"WARNING:"})," ",J]}),okLabel:P.status==="inactive"?"Un-suspend":"Suspend",okRunningLabel:P.status==="inactive"?"Un-suspending...":"Suspending...",okColor:"red",onOk:async be=>{const Te={...P,status:P.status==="inactive"?"active":"inactive"};try{await R(Te),l(()=>Te),be?.remove(),gt({title:P.status==="inactive"?"User un-suspended":"User suspended",type:"success"})}catch(De){y(De)}}})},W=(P,{owner:J})=>{ke.show(St,{title:"Are you sure you want to delete this user?",prompt:a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"mb-3",children:[a.jsx("span",{className:"font-bold",children:P.name||P.email})," will be permanently deleted and all their posts will be automatically assigned to the ",a.jsx("span",{className:"font-bold",children:J.name}),"."]}),a.jsxs("p",{children:["To make these easy to find in the future, each post will be given an internal tag of ",a.jsxs("span",{className:"font-bold",children:["#",e.slug]})]})]}),okLabel:"Delete user",okColor:"red",onOk:async be=>{try{await $(P?.id),be?.remove(),A?.remove(),X(),gt({title:"User deleted",type:"success"})}catch(Te){y(Te)}}})},q=()=>{ke.show(St,{title:"Transfer Ownership",prompt:"Are you sure you want to transfer the ownership of this blog? You will not be able to undo this action.",okLabel:"Yep  I'm sure",okColor:"red",onOk:async P=>{try{await B(e.id),P?.remove(),gt({title:"Ownership transferred",type:"success"})}catch(J){y(J)}}})},se=async(P,J)=>{try{const be=on(await C({file:J}));switch(P){case"cover_image":d(Te=>({...Te,cover_image:be}));break;case"profile_image":d(Te=>({...Te,profile_image:be}));break}}catch(be){const Te=be;Te.response.status===415&&(Te.message="Unsupported file type"),y(Te)}},ee=P=>{switch(P){case"cover_image":d(J=>({...J,cover_image:""}));break;case"profile_image":d(J=>({...J,profile_image:""}));break}},re=Xi(h)||mh(h)&&gh(e);let Q=[];if(Df(h)&&L2(m)&&m.status!=="inactive"&&Q.push({id:"make-owner",label:"Make owner",onClick:q}),m.id!==h.id&&(Xi(h)&&!Df(e)||mh(h)&&gh(e))){let P=m.status==="inactive"?"Un-suspend user":"Suspend user";Q.push({id:"delete-user",label:"Delete user",onClick:()=>{W(e,{owner:c})}},{id:"suspend-user",label:P,onClick:()=>{G(m)}})}Q.push({id:"view-user-activity",label:"View user activity",onClick:()=>{A.remove(),n(`history/view/${m.id}`)}});const ne="rounded text-sm flex flex-nowrap items-center justify-center px-3 h-8 transition-all cursor-pointer font-medium border border-grey-300 bg-transparent text-black dark:border-grey-800 dark:text-white",xe="flex flex-nowrap items-center justify-center px-3 h-8 opacity-80 hover:opacity-100 bg-[rgba(0,0,0,0.75)] rounded text-sm text-white transition-all cursor-pointer font-medium nowrap",je=m.status==="inactive"?" (Suspended)":"",H=o(s),[he,ge]=D.useState(H),F=P=>{const J=P==="profile"?"":`/${P}`;n(`staff/${e.slug}${J}`),ge(P)};return a.jsx(_t,{afterClose:X,animate:Nn(h),backDrop:Nn(h),buttonsDisabled:k.disabled,cancelLabel:"Close",dirty:f==="unsaved",okColor:k.color,okLabel:k.label||"Save",size:Nn(h)?"md":"bleed",stickyFooter:!0,testId:"user-detail-modal",width:Nn(h)?600:"full",onOk:async()=>{await u({fakeWhenUnchanged:!0})},children:a.jsxs("div",{children:[a.jsx("div",{className:`relative ${Nn(h)?"-mx-8 -mt-8 rounded-t":"-mx-10 -mt-10"}`,children:a.jsx("div",{className:`flex flex-wrap items-end justify-between gap-8 p-8 ${m.cover_image?"bg-cover bg-center":""} ${!Nn(h)&&"min-h-[30vmin]"}`,style:{backgroundImage:m.cover_image?`url(${m.cover_image})`:"none"},children:a.jsxs("div",{className:"flex w-full flex-col gap-2",children:[a.jsxs("div",{className:"flex flex-nowrap items-start justify-between gap-3",children:[a.jsx("div",{children:a.jsx(un,{deleteButtonClassName:"md:invisible absolute pr-3 -right-2 -top-2 flex h-8 w-10 cursor-pointer items-center justify-end rounded-full bg-[rgba(0,0,0,0.75)] text-white group-hover:!visible",deleteButtonContent:a.jsx(ut,{colorClass:"text-white",name:"trash",size:"sm"}),editButtonClassName:"md:invisible absolute right-[22px] -top-2 flex h-8 w-8 cursor-pointer items-center justify-center text-white group-hover:!visible z-20",fileUploadClassName:"rounded-full bg-black flex items-center justify-center opacity-80 transition hover:opacity-100 -ml-2 cursor-pointer h-[80px] w-[80px]",fileUploadProps:{dragIndicatorClassName:"rounded-full"},id:"avatar",imageClassName:"w-full h-full object-cover rounded-full shrink-0",imageContainerClassName:"relative group bg-cover bg-center -ml-1 h-16 w-16 md:h-18 md:w-18 shrink-0",imageURL:m.profile_image??void 0,pintura:{isEnabled:Z.isEnabled,openEditor:async()=>Z.openEditor({image:m.profile_image||"",handleSave:async P=>{se("profile_image",P)}})},unstyled:!0,width:"80px",onDelete:()=>{ee("profile_image")},onUpload:P=>{se("profile_image",P)},children:a.jsx(ut,{colorClass:"black",name:"user-add",size:"lg"})})}),a.jsxs("div",{className:"flex flex-nowrap items-start gap-3",children:[a.jsx(un,{buttonContainerClassName:"flex items-end gap-4 justify-end flex-nowrap",deleteButtonClassName:xe,deleteButtonContent:"Delete cover image",editButtonClassName:xe,fileUploadClassName:ne,id:"cover-image",imageClassName:"hidden",imageURL:m.cover_image||"",pintura:{isEnabled:Z.isEnabled,openEditor:async()=>Z.openEditor({image:m.cover_image||"",handleSave:async P=>{se("cover_image",P)}})},unstyled:!0,onDelete:()=>{ee("cover_image")},onUpload:P=>{se("cover_image",P)},children:"Upload cover image"}),re&&a.jsx("div",{className:"z-10",children:a.jsx(z0,{items:Q,position:"end",trigger:a.jsxs("button",{className:we("flex h-8 cursor-pointer items-center justify-center rounded px-3",m.cover_image?"bg-[rgba(0,0,0,0.75)] opacity-80 hover:opacity-100":"border border-grey-300 bg-transparent text-black dark:border-grey-800 dark:text-white"),type:"button",children:[a.jsx("span",{className:"sr-only",children:"Actions"}),a.jsx(ut,{colorClass:m.cover_image?"text-white":void 0,name:"ellipsis",size:"md"})]})})})]})]}),a.jsxs("div",{children:[a.jsxs(xt,{level:3,styles:we("break-words md:break-normal",m.cover_image?"text-white":"text-black dark:text-white"),children:[e.name,je]}),a.jsx("span",{className:we("text-md font-medium capitalize",m.cover_image?"text-white":"text-black dark:text-white"),children:e.roles[0].name.toLowerCase()})]})]})})}),a.jsx("div",{className:`${!Nn(h)&&"mx-auto max-w-[536px]"} mt-6 flex flex-col`,children:a.jsx(Rn,{selectedTab:he,tabs:[{id:"profile",title:"Profile",contents:a.jsx(aT,{clearError:_,errors:g,setUserData:M,user:m,validateField:T})},{id:"social-links",title:"Social Links",contents:a.jsx(iT,{clearError:_,errors:g,setUserData:M,user:m,validateField:T})},{id:"email-notifications",title:"Email Notifications",contents:a.jsx(X4,{setUserData:M,user:m})}],onTabChange:F})})]})})},cT=({params:e})=>{const{currentUser:n}=et(),s=n.slug===e?.slug,{data:o}=D2(e?.slug||"",{enabled:!s&&!!e?.slug}),c=s?n:o?.users?.[0];return c?a.jsx(lT,{user:c}):null},uT=ke.create(cT),dT={AddIntegrationModal:KM,AddNewsletterModal:VM,AddRecommendationModal:gb,CustomIntegrationModal:gj,DesignAndThemeModal:wE,EditRecommendationModal:F2,FirstPromoterModal:$E,HistoryModal:XE,InviteUserModal:KE,NavigationModal:ZE,NewsletterDetailModal:i4,PinturaModal:v4,PortalModal:A4,SlackModal:I4,StripeConnectModal:U4,TestimonialsModal:q4,TierDetailModal:LM,UnsplashModal:Y4,UserDetailModal:uT,ZapierModal:xM,AnnouncementBarModal:ij,EmbedSignupFormModal:OE,OffersContainerModal:g4,AboutModal:GM,OfferSuccess:Ob};export{dT as default};
